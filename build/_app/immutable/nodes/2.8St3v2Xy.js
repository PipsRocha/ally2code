var fu=Object.defineProperty;var Va=t=>{throw TypeError(t)};var du=(t,e,r)=>e in t?fu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Kt=(t,e,r)=>du(t,typeof e!="symbol"?e+"":e,r),hu=(t,e,r)=>e.has(t)||Va("Cannot "+r);var cr=(t,e,r)=>(hu(t,e,"read from private field"),r?r.call(t):e.get(t)),Vn=(t,e,r)=>e.has(t)?Va("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);import{l as ye,p as N,i as rt,b as ft,s as _r,d as Ut,e as ct,a as Tt,c as Ye,_ as pu}from"../chunks/preload-helper.Bp0TTUf-.js";import{b as vu,c as oe,a as z,t as Be,d as fr,n as gu}from"../chunks/disclose-version.x_RuEKz0.js";import{B as Ko,S as bc,a9 as wc,av as _c,h as He,K as bn,a as wo,D as Ec,Q as Sc,ab as mu,ac as Ga,J as wn,L as er,aw as ei,ad as qo,T as Xo,ae as Ac,z as Sn,ax as Yo,ay as za,az as Jo,aA as yu,P as bu,aB as wu,aC as Cc,F as Tc,M as _u,y as Oc,aD as Eu,Z as Su,a3 as Wa,aE as Au,G as Cu,aa as Rc,aF as fi,af as ke,u as Pc,ag as Tu,m as be,e as Ou,a8 as Ru,aG as Pu,aH as xu,aI as Iu,aJ as Lu,am as Du,n as ln,aK as $u,aL as Mu,aM as ku,w as Ha,x as Ka,v as xc,aN as Fu,_ as ti,aO as Bu,p as Je,f as re,b as Qe,t as $e,l as F,at as mr,aP as Ae,aQ as Yr,aR as Kr,X as dt,aS as Ic,aT as Lc,c as Fe,r as Le,s as Ne,aU as ju,$ as Nr,aV as Nu,o as Uu,aW as Cr}from"../chunks/index-client.CSA-ezjU.js";import{i as Vu,a as qa,b as Gu,c as zu,d as Wu,n as Hu,e as Ku,f as qu,g as he,s as Ur}from"../chunks/render.RrbG-2y8.js";import{i as it}from"../chunks/legacy.B6uQwCwU.js";import{s as Ee}from"../chunks/slot.DY60tyFc.js";import{d as Ot,g as Ti,w as jt,r as pr,a as _o,B as pe}from"../chunks/index.NMLMiy1k.js";function Xu(t,e){if(e){const r=document.body;t.autofocus=!0,Ko(()=>{document.activeElement===r&&t.focus()})}}function Ir(t,e){return e}function Yu(t,e,r,n){for(var i=[],o=e.length,a=0;a<o;a++)yu(e[a].e,i,!0);var c=o>0&&i.length===0&&r!==null;if(c){var s=r.parentNode;bu(s),s.append(r),n.clear(),Qt(t,e[0].prev,e[o-1].next)}wu(i,()=>{for(var l=0;l<o;l++){var u=e[l];c||(n.delete(u.k),Qt(t,u.prev,u.next)),Cc(u.e,!c)}})}function Lr(t,e,r,n,i,o=null){var a=t,c={flags:e,items:new Map,first:null},s=(e&_c)!==0;if(s){var l=t;a=He?bn(Tc(l)):l.appendChild(bc())}He&&wo();var u=null,f=!1;wc(()=>{var h=r(),d=Ec(h)?h:h==null?[]:Sc(h),p=d.length;if(f&&p===0)return;f=p===0;let v=!1;if(He){var m=a.data===mu;m!==(p===0)&&(a=Ga(),bn(a),wn(!1),v=!0)}if(He){for(var g=null,b,S=0;S<p;S++){if(er.nodeType===8&&er.data===_u){a=er,v=!0,wn(!1);break}var $=d[S],C=n($,S);b=Dc(er,c,g,null,$,C,S,i,e),c.items.set(C,b),g=b}p>0&&bn(Ga())}if(!He){var D=Oc;Ju(d,c,a,i,e,(D.f&ei)!==0,n)}o!==null&&(p===0?u?qo(u):u=Xo(()=>o(a)):u!==null&&Ac(u,()=>{u=null})),v&&wn(!0),r()}),He&&(a=er)}function Ju(t,e,r,n,i,o,a,c){var _,T,R,x;var s=(i&Eu)!==0,l=(i&(Yo|Jo))!==0,u=t.length,f=e.items,h=e.first,d=h,p,v=null,m,g=[],b=[],S,$,C,D;if(s)for(D=0;D<u;D+=1)S=t[D],$=a(S,D),C=f.get($),C!==void 0&&((_=C.a)==null||_.measure(),(m??(m=new Set)).add(C));for(D=0;D<u;D+=1){if(S=t[D],$=a(S,D),C=f.get($),C===void 0){var W=d?d.e.nodes_start:r;v=Dc(W,e,v,v===null?e.first:v.next,S,$,D,n,i),f.set($,v),g=[],b=[],d=v.next;continue}if(l&&Qu(C,S,D,i),C.e.f&ei&&(qo(C.e),s&&((T=C.a)==null||T.unfix(),(m??(m=new Set)).delete(C))),C!==d){if(p!==void 0&&p.has(C)){if(g.length<b.length){var G=b[0],q;v=G.prev;var Y=g[0],B=g[g.length-1];for(q=0;q<g.length;q+=1)Xa(g[q],G,r);for(q=0;q<b.length;q+=1)p.delete(b[q]);Qt(e,Y.prev,B.next),Qt(e,v,Y),Qt(e,B,G),d=G,v=B,D-=1,g=[],b=[]}else p.delete(C),Xa(C,d,r),Qt(e,C.prev,C.next),Qt(e,C,v===null?e.first:v.next),Qt(e,v,C),v=C;continue}for(g=[],b=[];d!==null&&d.k!==$;)(o||!(d.e.f&ei))&&(p??(p=new Set)).add(d),b.push(d),d=d.next;if(d===null)continue;C=d}g.push(C),v=C,d=C.next}if(d!==null||p!==void 0){for(var A=p===void 0?[]:Sc(p);d!==null;)(o||!(d.e.f&ei))&&A.push(d),d=d.next;var E=A.length;if(E>0){var y=i&_c&&u===0?r:null;if(s){for(D=0;D<E;D+=1)(R=A[D].a)==null||R.measure();for(D=0;D<E;D+=1)(x=A[D].a)==null||x.fix()}Yu(e,A,y,f)}}s&&Ko(()=>{var P;if(m!==void 0)for(C of m)(P=C.a)==null||P.apply()}),Sn.first=e.first&&e.first.e,Sn.last=v&&v.e}function Qu(t,e,r,n){n&Yo&&za(t.v,e),n&Jo?za(t.i,r):t.i=r}function Dc(t,e,r,n,i,o,a,c,s,l){var u=(s&Yo)!==0,f=(s&Au)===0,h=u?f?Su(i):Wa(i):i,d=s&Jo?Wa(a):a,p={i:d,v:h,k:o,a:null,e:null,prev:r,next:n};try{return p.e=Xo(()=>c(t,h,d),He),p.e.prev=r&&r.e,p.e.next=n&&n.e,r===null?e.first=p:(r.next=p,r.e.next=p.e),n!==null&&(n.prev=p,n.e.prev=p.e),p}finally{}}function Xa(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==n;){var a=Cu(o);i.before(o),o=a}}function Qt(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Eo(t,e,r,n,i,o){let a=He;He&&wo();var c,s,l=null;He&&er.nodeType===1&&(l=er,wo());var u=He?er:t,f;wc(()=>{const h=e()||null;var d=r||h==="svg"?fi:null;h!==c&&(f&&(h===null?Ac(f,()=>{f=null,s=null}):h===s?qo(f):(Cc(f),qa(!1))),h&&h!==s&&(f=Xo(()=>{if(l=He?l:d?document.createElementNS(d,h):document.createElement(h),vu(l,l),n){He&&Vu(h)&&l.append(document.createComment(""));var p=He?Tc(l):l.appendChild(bc());He&&(p===null?wn(!1):bn(p)),n(l,p)}Sn.nodes_end=l,u.before(l)})),c=h,c&&(s=c),qa(!0))},Rc),a&&(wn(!0),bn(u))}function Ft(t,e,r){ke(()=>{var n=Pc(()=>e(t,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var i=!1,o={};Tu(()=>{var a=r();be(a),i&&Ou(o,a)&&(o=a,n.update(a))}),i=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Zu(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function $c(t,e,r,n){var i=t.__attributes??(t.__attributes={});He&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=r)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Pu]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Mc(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function nt(t,e,r,n,i=!1,o=!1,a=!1){var c=e||{},s=t.tagName==="OPTION";for(var l in e)l in r||(r[l]=null);var u=Mc(t),f=t.__attributes??(t.__attributes={});for(const g in r){let b=r[g];if(s&&g==="value"&&b==null){t.value=t.__value="",c[g]=b;continue}var h=c[g];if(b!==h){c[g]=b;var d=g[0]+g[1];if(d!=="$$"){if(d==="on"){const S={},$="$$"+g;let C=g.slice(2);var p=Ku(C);if(Gu(C)&&(C=C.slice(0,-7),S.capture=!0),!p&&h){if(b!=null)continue;t.removeEventListener(C,c[$],S),c[$]=null}if(b!=null)if(p)t[`__${C}`]=b,Wu([C]);else{let D=function(W){c[g].call(this,W)};c[$]=zu(C,t,D,S)}else p&&(t[`__${C}`]=void 0)}else if(g==="style"&&b!=null)t.style.cssText=b+"";else if(g==="autofocus")Xu(t,!!b);else if(g==="__value"||g==="value"&&b!=null)t.value=t[g]=t.__value=b;else if(g==="selected"&&s)Zu(t,b);else{var v=g;i||(v=Hu(v));var m=v==="defaultValue"||v==="defaultChecked";if(b==null&&!o&&!m)if(f[g]=null,v==="value"||v==="checked"){let S=t;if(v==="value"){let $=S.defaultValue;S.removeAttribute(v),S.defaultValue=$}else{let $=S.defaultChecked;S.removeAttribute(v),S.defaultChecked=$}}else t.removeAttribute(g);else m||u.includes(v)&&(o||typeof b!="string")?t[v]=b:typeof b!="function"&&(He&&(v==="src"||v==="href"||v==="srcset")||$c(t,v,b))}g==="style"&&"__styles"in t&&(t.__styles={})}}}return c}var Ya=new Map;function Mc(t){var e=Ya.get(t.nodeName);if(e)return e;Ya.set(t.nodeName,e=[]);for(var r,n=t,i=Element.prototype;i!==n;){r=xu(n);for(var o in r)r[o].set&&e.push(o);n=Ru(n)}return e}function ef(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}const tf=()=>performance.now(),Bt={tick:t=>requestAnimationFrame(t),now:()=>tf(),tasks:new Set};function kc(){const t=Bt.now();Bt.tasks.forEach(e=>{e.c(t)||(Bt.tasks.delete(e),e.f())}),Bt.tasks.size!==0&&Bt.tick(kc)}function rf(t){let e;return Bt.tasks.size===0&&Bt.tick(kc),{promise:new Promise(r=>{Bt.tasks.add(e={c:t,f:r})}),abort(){Bt.tasks.delete(e)}}}function Gn(t,e){t.dispatchEvent(new CustomEvent(e))}function nf(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Ja(t){const e={},r=t.split(";");for(const n of r){const[i,o]=n.split(":");if(!i||o===void 0)break;const a=nf(i.trim());e[a]=o.trim()}return e}const of=t=>t;function un(t,e,r,n){var i=(t&$u)!==0,o=(t&Mu)!==0,a=i&&o,c=(t&ku)!==0,s=a?"both":i?"in":"out",l,u=e.inert,f,h;function d(){var b=Oc,S=Sn;Ha(null),Ka(null);try{return l??(l=r()(e,(n==null?void 0:n())??{},{direction:s}))}finally{Ha(b),Ka(S)}}var p={is_global:c,in(){var b;if(e.inert=u,!i){h==null||h.abort(),(b=h==null?void 0:h.reset)==null||b.call(h);return}o||f==null||f.abort(),Gn(e,"introstart"),f=So(e,d(),h,1,()=>{Gn(e,"introend"),f==null||f.abort(),f=l=void 0})},out(b){if(!o){b==null||b(),l=void 0;return}e.inert=!0,Gn(e,"outrostart"),h=So(e,d(),f,0,()=>{Gn(e,"outroend"),b==null||b()})},stop:()=>{f==null||f.abort(),h==null||h.abort()}},v=Sn;if((v.transitions??(v.transitions=[])).push(p),i&&qu){var m=c;if(!m){for(var g=v.parent;g&&g.f&Rc;)for(;(g=g.parent)&&!(g.f&Iu););m=!g||(g.f&Lu)!==0}m&&ke(()=>{Pc(()=>p.in())})}}function So(t,e,r,n,i){var o=n===1;if(Du(e)){var a,c=!1;return Ko(()=>{if(!c){var m=e({direction:o?"in":"out"});a=So(t,m,r,n,i)}}),{abort:()=>{c=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return i(),{abort:ln,deactivate:ln,reset:ln,t:()=>n};const{delay:s=0,css:l,tick:u,easing:f=of}=e;var h=[];if(o&&r===void 0&&(u&&u(0,1),l)){var d=Ja(l(0,1));h.push(d,d)}var p=()=>1-n,v=t.animate(h,{duration:s});return v.onfinish=()=>{var m=(r==null?void 0:r.t())??1-n;r==null||r.abort();var g=n-m,b=e.duration*Math.abs(g),S=[];if(b>0){if(l)for(var $=Math.ceil(b/16.666666666666668),C=0;C<=$;C+=1){var D=m+g*f(C/$),W=l(D,1-D);S.push(Ja(W))}p=()=>{var G=v.currentTime;return m+g*f(G/b)},u&&rf(()=>{if(v.playState!=="running")return!1;var G=p();return u(G,1-G),!0})}v=t.animate(S,{duration:b,fill:"forwards"}),v.onfinish=()=>{p=()=>n,u==null||u(n,1-n),i()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=ln)},deactivate:()=>{i=ln},reset:()=>{n===0&&(u==null||u(1,0))},t:()=>p()}}function af(t){return function(...e){var r=e[0];return r.preventDefault(),t==null?void 0:t.apply(this,e)}}function fe(t,e){var o;var r=(o=t.$$events)==null?void 0:o[e.type],n=Ec(r)?r.slice():r==null?[]:[r];for(var i of n)i.call(this,e)}var Qa=Object.prototype.hasOwnProperty;function Za(t,e,r){for(r of t.keys())if(vt(r,e))return r}function vt(t,e){var r,n,i;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&vt(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if(i=n,i&&typeof i=="object"&&(i=Za(e,i),!i)||!e.has(i))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if(i=n[0],i&&typeof i=="object"&&(i=Za(e,i),!i)||!vt(n[1],e.get(i)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(Qa.call(t,r)&&++n&&!Qa.call(e,r)||!(r in e)||!vt(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}function sf(t,e,r,n=!0){const i=e-r;return i<=0?n?t[t.length-1]:t[0]:t[i]}function cf(t,e,r,n=!0){const i=e+r;return i>t.length-1?n?t[0]:t[t.length-1]:t[i]}function lf(t,e,r=!0){return e===t.length-1?r?t[0]:t[e]:t[e+1]}function uf(t,e,r=!0){return e<=0?r?t[t.length-1]:t[0]:t[e-1]}function ri(t){return t[t.length-1]}function ff(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function df(t,e,r=vt){const n=e.findIndex(i=>r(i,t));return n!==-1?e.splice(n,1):e.push(t),e}function di(t){return Object.keys(t).reduce((e,r)=>t[r]===void 0?e:e+`${r}:${t[r]};`,"")}function es(t){return t?!0:void 0}di({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function ts(t){function e(r){return r(t),()=>{}}return{subscribe:e}}function hf(t){if(!_n)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return De(e)?e:null}const zn=t=>new Proxy(t,{get(e,r,n){return Reflect.get(e,r,n)},ownKeys(e){return Reflect.ownKeys(e).filter(r=>r!=="action")}}),rs=t=>typeof t=="function";pt("empty");function pt(t,e){const{stores:r,action:n,returned:i}=e??{},o=(()=>{if(r&&i)return Ot(r,c=>{const s=i(c);if(rs(s)){const l=(...u)=>zn({...s(...u),[`data-melt-${t}`]:"",action:n??Ve});return l.action=n??Ve,l}return zn({...s,[`data-melt-${t}`]:"",action:n??Ve})});{const c=i,s=c==null?void 0:c();if(rs(s)){const l=(...u)=>zn({...s(...u),[`data-melt-${t}`]:"",action:n??Ve});return l.action=n??Ve,ts(l)}return ts(zn({...s,[`data-melt-${t}`]:"",action:n??Ve}))}})(),a=n??(()=>{});return a.subscribe=o.subscribe,a}function Fc(t){const e=o=>o?`${t}-${o}`:t,r=o=>`data-melt-${t}${o?`-${o}`:""}`,n=o=>`[data-melt-${t}${o?`-${o}`:""}]`;return{name:e,attribute:r,selector:n,getEl:o=>document.querySelector(n(o))}}const _n=typeof document<"u",pf=t=>typeof t=="function";function Dn(t){return t instanceof Element}function De(t){return t instanceof HTMLElement}function vf(t){return t instanceof HTMLInputElement}function gf(t){return t instanceof HTMLLabelElement}function ns(t){return t instanceof HTMLButtonElement}function is(t){const e=t.getAttribute("aria-disabled"),r=t.getAttribute("disabled"),n=t.hasAttribute("data-disabled");return!!(e==="true"||r!==null||n)}function Bc(t){return t!==null&&typeof t=="object"}function jc(t){return Bc(t)&&"subscribe"in t}function tr(...t){return(...e)=>{for(const r of t)typeof r=="function"&&r(...e)}}function Ve(){}function Mt(t,e,r,n){const i=Array.isArray(e)?e:[e];return i.forEach(o=>t.addEventListener(o,r,n)),()=>{i.forEach(o=>t.removeEventListener(o,r,n))}}function Dr(t,e,r,n){const i=Array.isArray(e)?e:[e];if(typeof r=="function"){const o=yf(a=>r(a));return i.forEach(a=>t.addEventListener(a,o,n)),()=>{i.forEach(a=>t.removeEventListener(a,o,n))}}return()=>void 0}function mf(t){const e=t.currentTarget;if(!De(e))return null;const r=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(r),r}function yf(t){return e=>{const r=mf(e);if(!(r!=null&&r.defaultPrevented))return t(e)}}function bf(t){t.setAttribute("data-highlighted","")}function wf(t){t.removeAttribute("data-highlighted")}const _f=t=>{try{xc(t)}catch{return t}},Ef=t=>{try{Fu(t)}catch{return t}};function Vi(t){return Array.from(t.querySelectorAll('[role="option"]:not([data-disabled])')).filter(e=>De(e))}function Qo(t,...e){const r={};for(const n of Object.keys(t))e.includes(n)||(r[n]=t[n]);return r}function Sf(t,e,r){return Object.fromEntries(Object.entries(t).filter(([n,i])=>!vt(i,e)))}function Af(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=n)}return e}function Vt(t){return{...t,get:()=>Ti(t)}}Vt.writable=function(t){const e=jt(t);let r=t;return{subscribe:e.subscribe,set(n){e.set(n),r=n},update(n){const i=n(r);e.set(i),r=i},get(){return r}}};Vt.derived=function(t,e){const r=new Map,n=()=>{const o=Array.isArray(t)?t.map(a=>a.get()):t.get();return e(o)};return{get:n,subscribe:o=>{const a=[];return(Array.isArray(t)?t:[t]).forEach(s=>{a.push(s.subscribe(()=>{o(n())}))}),o(n()),r.set(o,a),()=>{const s=r.get(o);if(s)for(const l of s)l();r.delete(o)}}}};const os=(t,e)=>{const r=Vt(t),n=(o,a)=>{r.update(c=>{const s=o(c);let l=s;return e&&(l=e({curr:c,next:s})),a==null||a(l),l})};return{...r,update:n,set:o=>{n(()=>o)}}};function Nc(t){return new Promise(e=>setTimeout(e,t))}let Cf="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Tf=(t=21)=>{let e="",r=t|0;for(;r--;)e+=Cf[Math.random()*64|0];return e};function Uc(){return Tf(10)}function Of(t){return t.reduce((e,r)=>(e[r]=Uc(),e),{})}const ie={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"},Rf=[ie.ARROW_DOWN,ie.PAGE_UP,ie.HOME],Pf=[ie.ARROW_UP,ie.PAGE_DOWN,ie.END],xf=[...Rf,...Pf];function If(t,e=500){let r=null;return function(...n){const i=()=>{r=null,t(...n)};r&&clearTimeout(r),r=setTimeout(i,e)}}const Vc=()=>typeof window<"u";function Lf(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Gc=t=>Vc()&&t.test(Lf().toLowerCase()),Df=()=>Vc()&&!!navigator.maxTouchPoints,$f=()=>Gc(/^mac/)&&!Df(),Mf=()=>Gc(/mac|iphone|ipad|ipod/i),kf=()=>Mf()&&!$f(),Gi="data-melt-scroll-lock";function as(t,e){if(!t)return;const r=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=r}}function Ff(t,e,r){if(!t)return;const n=t.style.getPropertyValue(e);return t.style.setProperty(e,r),()=>{n?t.style.setProperty(e,n):t.style.removeProperty(e)}}function Bf(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function jf(t){const e=document,r=e.defaultView??window,{documentElement:n,body:i}=e;if(i.hasAttribute(Gi))return Ve;i.setAttribute(Gi,"");const a=r.innerWidth-n.clientWidth,c=()=>Ff(n,"--scrollbar-width",`${a}px`),s=Bf(n),l=r.getComputedStyle(i)[s],u=()=>as(i,{overflow:"hidden",[s]:`calc(${l} + ${a}px)`}),f=()=>{const{scrollX:d,scrollY:p,visualViewport:v}=r,m=(v==null?void 0:v.offsetLeft)??0,g=(v==null?void 0:v.offsetTop)??0,b=as(i,{position:"fixed",overflow:"hidden",top:`${-(p-Math.floor(g))}px`,left:`${-(d-Math.floor(m))}px`,right:"0",[s]:`calc(${l} + ${a}px)`});return()=>{b==null||b(),r.scrollTo(d,p)}},h=[c(),kf()?f():u()];return()=>{h.forEach(d=>d==null?void 0:d()),i.removeAttribute(Gi)}}function Nf(t){const{open:e,forceVisible:r,activeTrigger:n}=t;return Ot([e,r,n],([i,o,a])=>(i||o)&&a!==null)}function mn(t,e){let r;const n=Ot(t,o=>{r==null||r(),r=e(o)}).subscribe(Ve),i=()=>{n(),r==null||r()};return Ef(i),i}function Ao(t){const e={};return Object.keys(t).forEach(r=>{const n=r,i=t[n];e[n]=Vt(jt(i))}),e}function Uf(t){_n&&Nc(1).then(()=>{const e=document.activeElement;!De(e)||e===t||(e.tabIndex=-1,t&&(t.tabIndex=0,t.focus()))})}const Vf=new Set(["Shift","Control","Alt","Meta","CapsLock","NumLock"]),Gf={onMatch:Uf,getCurrentItem:()=>document.activeElement};function zf(t={}){const e={...Gf,...t},r=Vt(jt([])),n=If(()=>{r.update(()=>[])});return{typed:r,resetTyped:n,handleTypeaheadSearch:(o,a)=>{if(Vf.has(o))return;const c=e.getCurrentItem(),s=Ti(r);if(!Array.isArray(s))return;s.push(o.toLowerCase()),r.set(s);const l=a.filter(m=>!(m.getAttribute("disabled")==="true"||m.getAttribute("aria-disabled")==="true"||m.hasAttribute("data-disabled"))),f=s.length>1&&s.every(m=>m===s[0])?s[0]:s.join(""),h=De(c)?l.indexOf(c):-1;let d=ff(l,Math.max(h,0));f.length===1&&(d=d.filter(m=>m!==c));const v=d.find(m=>(m==null?void 0:m.innerText)&&m.innerText.toLowerCase().startsWith(f.toLowerCase()));De(v)&&v!==c&&e.onMatch(v),n()}}}function Wf(t){let e=t.parentElement;for(;De(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Hf(t,e){return e!==void 0?e:Wf(t)==="body"?document.body:null}function Kf(t){return e=>{const r=e.target,n=hf(t);if(!n||!Dn(r))return!1;const i=n.id;return!!(gf(r)&&i===r.htmlFor||r.closest(`label[for="${i}"]`))}}pr(void 0,t=>{function e(n){t(n),t(void 0)}return Mt(document,"pointerup",e,{passive:!1,capture:!0})});const qf=pr(void 0,t=>{function e(n){n&&n.key===ie.ESCAPE&&t(n),t(void 0)}return Mt(document,"keydown",e,{passive:!1})}),zc=(t,e={})=>{let r=Ve;function n(i={}){r();const o={enabled:!0,...i},a=jc(o.enabled)?o.enabled:pr(o.enabled);r=tr(qf.subscribe(c=>{var l;if(!c||!Ti(a))return;const s=c.target;if(!(!De(s)||s.closest("[data-escapee]")!==t)){if(c.preventDefault(),o.ignore){if(pf(o.ignore)){if(o.ignore(c))return}else if(Array.isArray(o.ignore)&&o.ignore.length>0&&o.ignore.some(u=>u&&s===u))return}(l=o.handler)==null||l.call(o,c)}}),mn(a,c=>{c?t.dataset.escapee="":delete t.dataset.escapee}))}return n(e),{update:n,destroy(){t.removeAttribute("data-escapee"),r()}}},rr=Math.min,at=Math.max,hi=Math.round,Wn=Math.floor,Rt=t=>({x:t,y:t}),Xf={left:"right",right:"left",bottom:"top",top:"bottom"},Yf={start:"end",end:"start"};function Co(t,e,r){return at(t,rr(e,r))}function Jr(t,e){return typeof t=="function"?t(e):t}function nr(t){return t.split("-")[0]}function Qr(t){return t.split("-")[1]}function Wc(t){return t==="x"?"y":"x"}function Zo(t){return t==="y"?"height":"width"}function yr(t){return["top","bottom"].includes(nr(t))?"y":"x"}function ea(t){return Wc(yr(t))}function Jf(t,e,r){r===void 0&&(r=!1);const n=Qr(t),i=ea(t),o=Zo(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=pi(a)),[a,pi(a)]}function Qf(t){const e=pi(t);return[To(t),e,To(e)]}function To(t){return t.replace(/start|end/g,e=>Yf[e])}function Zf(t,e,r){const n=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?o:a;default:return[]}}function ed(t,e,r,n){const i=Qr(t);let o=Zf(nr(t),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(To)))),o}function pi(t){return t.replace(/left|right|bottom|top/g,e=>Xf[e])}function td(t){return{top:0,right:0,bottom:0,left:0,...t}}function Hc(t){return typeof t!="number"?td(t):{top:t,right:t,bottom:t,left:t}}function vi(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function ss(t,e,r){let{reference:n,floating:i}=t;const o=yr(e),a=ea(e),c=Zo(a),s=nr(e),l=o==="y",u=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[c]/2-i[c]/2;let d;switch(s){case"top":d={x:u,y:n.y-i.height};break;case"bottom":d={x:u,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:f};break;case"left":d={x:n.x-i.width,y:f};break;default:d={x:n.x,y:n.y}}switch(Qr(e)){case"start":d[a]-=h*(r&&l?-1:1);break;case"end":d[a]+=h*(r&&l?-1:1);break}return d}const rd=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,c=o.filter(Boolean),s=await(a.isRTL==null?void 0:a.isRTL(e));let l=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=ss(l,n,s),h=n,d={},p=0;for(let v=0;v<c.length;v++){const{name:m,fn:g}=c[v],{x:b,y:S,data:$,reset:C}=await g({x:u,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:d,rects:l,platform:a,elements:{reference:t,floating:e}});u=b??u,f=S??f,d={...d,[m]:{...d[m],...$}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(l=C.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:f}=ss(l,h,s)),v=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:d}};async function ta(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:a,elements:c,strategy:s}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:d=0}=Jr(e,t),p=Hc(d),m=c[h?f==="floating"?"reference":"floating":f],g=vi(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(m)))==null||r?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:l,rootBoundary:u,strategy:s})),b=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),$=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},C=vi(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:S,strategy:s}):b);return{top:(g.top-C.top+p.top)/$.y,bottom:(C.bottom-g.bottom+p.bottom)/$.y,left:(g.left-C.left+p.left)/$.x,right:(C.right-g.right+p.right)/$.x}}const nd=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:o,platform:a,elements:c,middlewareData:s}=e,{element:l,padding:u=0}=Jr(t,e)||{};if(l==null)return{};const f=Hc(u),h={x:r,y:n},d=ea(i),p=Zo(d),v=await a.getDimensions(l),m=d==="y",g=m?"top":"left",b=m?"bottom":"right",S=m?"clientHeight":"clientWidth",$=o.reference[p]+o.reference[d]-h[d]-o.floating[p],C=h[d]-o.reference[d],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let W=D?D[S]:0;(!W||!await(a.isElement==null?void 0:a.isElement(D)))&&(W=c.floating[S]||o.floating[p]);const G=$/2-C/2,q=W/2-v[p]/2-1,Y=rr(f[g],q),B=rr(f[b],q),A=Y,E=W-v[p]-B,y=W/2-v[p]/2+G,_=Co(A,y,E),T=!s.arrow&&Qr(i)!=null&&y!==_&&o.reference[p]/2-(y<A?Y:B)-v[p]/2<0,R=T?y<A?y-A:y-E:0;return{[d]:h[d]+R,data:{[d]:_,centerOffset:y-_-R,...T&&{alignmentOffset:R}},reset:T}}}),id=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:c,platform:s,elements:l}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...m}=Jr(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const g=nr(i),b=yr(c),S=nr(c)===c,$=await(s.isRTL==null?void 0:s.isRTL(l.floating)),C=h||(S||!v?[pi(c)]:Qf(c)),D=p!=="none";!h&&D&&C.push(...ed(c,v,p,$));const W=[c,...C],G=await ta(e,m),q=[];let Y=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&q.push(G[g]),f){const y=Jf(i,a,$);q.push(G[y[0]],G[y[1]])}if(Y=[...Y,{placement:i,overflows:q}],!q.every(y=>y<=0)){var B,A;const y=(((B=o.flip)==null?void 0:B.index)||0)+1,_=W[y];if(_)return{data:{index:y,overflows:Y},reset:{placement:_}};let T=(A=Y.filter(R=>R.overflows[0]<=0).sort((R,x)=>R.overflows[1]-x.overflows[1])[0])==null?void 0:A.placement;if(!T)switch(d){case"bestFit":{var E;const R=(E=Y.filter(x=>{if(D){const P=yr(x.placement);return P===b||P==="y"}return!0}).map(x=>[x.placement,x.overflows.filter(P=>P>0).reduce((P,k)=>P+k,0)]).sort((x,P)=>x[1]-P[1])[0])==null?void 0:E[0];R&&(T=R);break}case"initialPlacement":T=c;break}if(i!==T)return{reset:{placement:T}}}return{}}}};async function od(t,e){const{placement:r,platform:n,elements:i}=t,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=nr(r),c=Qr(r),s=yr(r)==="y",l=["left","top"].includes(a)?-1:1,u=o&&s?-1:1,f=Jr(e,t);let{mainAxis:h,crossAxis:d,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof p=="number"&&(d=c==="end"?p*-1:p),s?{x:d*u,y:h*l}:{x:h*l,y:d*u}}const ad=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:o,placement:a,middlewareData:c}=e,s=await od(e,t);return a===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+s.x,y:o+s.y,data:{...s,placement:a}}}}},sd=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:c={fn:m=>{let{x:g,y:b}=m;return{x:g,y:b}}},...s}=Jr(t,e),l={x:r,y:n},u=await ta(e,s),f=yr(nr(i)),h=Wc(f);let d=l[h],p=l[f];if(o){const m=h==="y"?"top":"left",g=h==="y"?"bottom":"right",b=d+u[m],S=d-u[g];d=Co(b,d,S)}if(a){const m=f==="y"?"top":"left",g=f==="y"?"bottom":"right",b=p+u[m],S=p-u[g];p=Co(b,p,S)}const v=c.fn({...e,[h]:d,[f]:p});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:o,[f]:a}}}}}},cd=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:o,platform:a,elements:c}=e,{apply:s=()=>{},...l}=Jr(t,e),u=await ta(e,l),f=nr(i),h=Qr(i),d=yr(i)==="y",{width:p,height:v}=o.floating;let m,g;f==="top"||f==="bottom"?(m=f,g=h===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(g=f,m=h==="end"?"top":"bottom");const b=v-u.top-u.bottom,S=p-u.left-u.right,$=rr(v-u[m],b),C=rr(p-u[g],S),D=!e.middlewareData.shift;let W=$,G=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(G=S),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(W=b),D&&!h){const Y=at(u.left,0),B=at(u.right,0),A=at(u.top,0),E=at(u.bottom,0);d?G=p-2*(Y!==0||B!==0?Y+B:at(u.left,u.right)):W=v-2*(A!==0||E!==0?A+E:at(u.top,u.bottom))}await s({...e,availableWidth:G,availableHeight:W});const q=await a.getDimensions(c.floating);return p!==q.width||v!==q.height?{reset:{rects:!0}}:{}}}};function Oi(){return typeof window<"u"}function Zr(t){return Kc(t)?(t.nodeName||"").toLowerCase():"#document"}function st(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function xt(t){var e;return(e=(Kc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Kc(t){return Oi()?t instanceof Node||t instanceof st(t).Node:!1}function gt(t){return Oi()?t instanceof Element||t instanceof st(t).Element:!1}function Pt(t){return Oi()?t instanceof HTMLElement||t instanceof st(t).HTMLElement:!1}function cs(t){return!Oi()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof st(t).ShadowRoot}function $n(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=mt(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function ld(t){return["table","td","th"].includes(Zr(t))}function Ri(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ra(t){const e=na(),r=gt(t)?mt(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function ud(t){let e=ir(t);for(;Pt(e)&&!qr(e);){if(ra(e))return e;if(Ri(e))return null;e=ir(e)}return null}function na(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qr(t){return["html","body","#document"].includes(Zr(t))}function mt(t){return st(t).getComputedStyle(t)}function Pi(t){return gt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ir(t){if(Zr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cs(t)&&t.host||xt(t);return cs(e)?e.host:e}function qc(t){const e=ir(t);return qr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Pt(e)&&$n(e)?e:qc(e)}function An(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=qc(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),a=st(i);if(o){const c=Oo(a);return e.concat(a,a.visualViewport||[],$n(i)?i:[],c&&r?An(c):[])}return e.concat(i,An(i,[],r))}function Oo(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Xc(t){const e=mt(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Pt(t),o=i?t.offsetWidth:r,a=i?t.offsetHeight:n,c=hi(r)!==o||hi(n)!==a;return c&&(r=o,n=a),{width:r,height:n,$:c}}function ia(t){return gt(t)?t:t.contextElement}function Vr(t){const e=ia(t);if(!Pt(e))return Rt(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:o}=Xc(e);let a=(o?hi(r.width):r.width)/n,c=(o?hi(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const fd=Rt(0);function Yc(t){const e=st(t);return!na()||!e.visualViewport?fd:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dd(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==st(t)?!1:e}function br(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),o=ia(t);let a=Rt(1);e&&(n?gt(n)&&(a=Vr(n)):a=Vr(t));const c=dd(o,r,n)?Yc(o):Rt(0);let s=(i.left+c.x)/a.x,l=(i.top+c.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(o){const h=st(o),d=n&&gt(n)?st(n):n;let p=h,v=Oo(p);for(;v&&n&&d!==p;){const m=Vr(v),g=v.getBoundingClientRect(),b=mt(v),S=g.left+(v.clientLeft+parseFloat(b.paddingLeft))*m.x,$=g.top+(v.clientTop+parseFloat(b.paddingTop))*m.y;s*=m.x,l*=m.y,u*=m.x,f*=m.y,s+=S,l+=$,p=st(v),v=Oo(p)}}return vi({width:u,height:f,x:s,y:l})}function oa(t,e){const r=Pi(t).scrollLeft;return e?e.left+r:br(xt(t)).left+r}function Jc(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:oa(t,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function hd(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const o=i==="fixed",a=xt(n),c=e?Ri(e.floating):!1;if(n===a||c&&o)return r;let s={scrollLeft:0,scrollTop:0},l=Rt(1);const u=Rt(0),f=Pt(n);if((f||!f&&!o)&&((Zr(n)!=="body"||$n(a))&&(s=Pi(n)),Pt(n))){const d=br(n);l=Vr(n),u.x=d.x+n.clientLeft,u.y=d.y+n.clientTop}const h=a&&!f&&!o?Jc(a,s,!0):Rt(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-s.scrollLeft*l.x+u.x+h.x,y:r.y*l.y-s.scrollTop*l.y+u.y+h.y}}function pd(t){return Array.from(t.getClientRects())}function vd(t){const e=xt(t),r=Pi(t),n=t.ownerDocument.body,i=at(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=at(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+oa(t);const c=-r.scrollTop;return mt(n).direction==="rtl"&&(a+=at(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:c}}function gd(t,e){const r=st(t),n=xt(t),i=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,c=0,s=0;if(i){o=i.width,a=i.height;const l=na();(!l||l&&e==="fixed")&&(c=i.offsetLeft,s=i.offsetTop)}return{width:o,height:a,x:c,y:s}}function md(t,e){const r=br(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,o=Pt(t)?Vr(t):Rt(1),a=t.clientWidth*o.x,c=t.clientHeight*o.y,s=i*o.x,l=n*o.y;return{width:a,height:c,x:s,y:l}}function ls(t,e,r){let n;if(e==="viewport")n=gd(t,r);else if(e==="document")n=vd(xt(t));else if(gt(e))n=md(e,r);else{const i=Yc(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return vi(n)}function Qc(t,e){const r=ir(t);return r===e||!gt(r)||qr(r)?!1:mt(r).position==="fixed"||Qc(r,e)}function yd(t,e){const r=e.get(t);if(r)return r;let n=An(t,[],!1).filter(c=>gt(c)&&Zr(c)!=="body"),i=null;const o=mt(t).position==="fixed";let a=o?ir(t):t;for(;gt(a)&&!qr(a);){const c=mt(a),s=ra(a);!s&&c.position==="fixed"&&(i=null),(o?!s&&!i:!s&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||$n(a)&&!s&&Qc(t,a))?n=n.filter(u=>u!==a):i=c,a=ir(a)}return e.set(t,n),n}function bd(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?Ri(e)?[]:yd(e,this._c):[].concat(r),n],c=a[0],s=a.reduce((l,u)=>{const f=ls(e,u,i);return l.top=at(f.top,l.top),l.right=rr(f.right,l.right),l.bottom=rr(f.bottom,l.bottom),l.left=at(f.left,l.left),l},ls(e,c,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function wd(t){const{width:e,height:r}=Xc(t);return{width:e,height:r}}function _d(t,e,r){const n=Pt(e),i=xt(e),o=r==="fixed",a=br(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const s=Rt(0);if(n||!n&&!o)if((Zr(e)!=="body"||$n(i))&&(c=Pi(e)),n){const h=br(e,!0,o,e);s.x=h.x+e.clientLeft,s.y=h.y+e.clientTop}else i&&(s.x=oa(i));const l=i&&!n&&!o?Jc(i,c):Rt(0),u=a.left+c.scrollLeft-s.x-l.x,f=a.top+c.scrollTop-s.y-l.y;return{x:u,y:f,width:a.width,height:a.height}}function zi(t){return mt(t).position==="static"}function us(t,e){if(!Pt(t)||mt(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return xt(t)===r&&(r=r.ownerDocument.body),r}function Zc(t,e){const r=st(t);if(Ri(t))return r;if(!Pt(t)){let i=ir(t);for(;i&&!qr(i);){if(gt(i)&&!zi(i))return i;i=ir(i)}return r}let n=us(t,e);for(;n&&ld(n)&&zi(n);)n=us(n,e);return n&&qr(n)&&zi(n)&&!ra(n)?r:n||ud(t)||r}const Ed=async function(t){const e=this.getOffsetParent||Zc,r=this.getDimensions,n=await r(t.floating);return{reference:_d(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Sd(t){return mt(t).direction==="rtl"}const Ad={convertOffsetParentRelativeRectToViewportRelativeRect:hd,getDocumentElement:xt,getClippingRect:bd,getOffsetParent:Zc,getElementRects:Ed,getClientRects:pd,getDimensions:wd,getScale:Vr,isElement:gt,isRTL:Sd};function Cd(t,e){let r=null,n;const i=xt(t);function o(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function a(c,s){c===void 0&&(c=!1),s===void 0&&(s=1),o();const{left:l,top:u,width:f,height:h}=t.getBoundingClientRect();if(c||e(),!f||!h)return;const d=Wn(u),p=Wn(i.clientWidth-(l+f)),v=Wn(i.clientHeight-(u+h)),m=Wn(l),b={rootMargin:-d+"px "+-p+"px "+-v+"px "+-m+"px",threshold:at(0,rr(1,s))||1};let S=!0;function $(C){const D=C[0].intersectionRatio;if(D!==s){if(!S)return a();D?a(!1,D):n=setTimeout(()=>{a(!1,1e-7)},1e3)}S=!1}try{r=new IntersectionObserver($,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver($,b)}r.observe(t)}return a(!0),o}function Td(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:s=!1}=n,l=ia(t),u=i||o?[...l?An(l):[],...An(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",r,{passive:!0}),o&&g.addEventListener("resize",r)});const f=l&&c?Cd(l,r):null;let h=-1,d=null;a&&(d=new ResizeObserver(g=>{let[b]=g;b&&b.target===l&&d&&(d.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=d)==null||S.observe(e)})),r()}),l&&!s&&d.observe(l),d.observe(e));let p,v=s?br(t):null;s&&m();function m(){const g=br(t);v&&(g.x!==v.x||g.y!==v.y||g.width!==v.width||g.height!==v.height)&&r(),v=g,p=requestAnimationFrame(m)}return r(),()=>{var g;u.forEach(b=>{i&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),f==null||f(),(g=d)==null||g.disconnect(),d=null,s&&cancelAnimationFrame(p)}}const Od=ad,Rd=sd,Pd=id,xd=cd,Id=nd,Ld=(t,e,r)=>{const n=new Map,i={platform:Ad,...r},o={...i.platform,_c:n};return rd(t,e,{...i,platform:o})},Dd={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},$d={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Md(t,e,r={}){if(!e||!t||r===null)return{destroy:Ve};const n={...Dd,...r},i=e.querySelector("[data-arrow=true]"),o=[];n.flip&&o.push(Pd({boundary:n.boundary,padding:n.overflowPadding}));const a=De(i)?i.offsetHeight/2:0;if(n.gutter||n.offset){const s=n.gutter?{mainAxis:n.gutter}:n.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=a),o.push(Od(s))}o.push(Rd({boundary:n.boundary,crossAxis:n.overlap,padding:n.overflowPadding})),i&&o.push(Id({element:i,padding:8})),o.push(xd({padding:n.overflowPadding,apply({rects:s,availableHeight:l,availableWidth:u}){n.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),n.fitViewport&&Object.assign(e.style,{maxWidth:`${u}px`,maxHeight:`${l}px`})}}));function c(){if(!t||!e||De(t)&&!t.ownerDocument.documentElement.contains(t))return;const{placement:s,strategy:l}=n;Ld(t,e,{placement:s,middleware:o,strategy:l}).then(u=>{const f=Math.round(u.x),h=Math.round(u.y),[d,p]=kd(u.placement);if(e.setAttribute("data-side",d),e.setAttribute("data-align",p),Object.assign(e.style,{position:n.strategy,top:`${h}px`,left:`${f}px`}),De(i)&&u.middlewareData.arrow){const{x:v,y:m}=u.middlewareData.arrow,g=u.placement.split("-")[0];i.setAttribute("data-side",g),Object.assign(i.style,{position:"absolute",left:v!=null?`${v}px`:"",top:m!=null?`${m}px`:"",[g]:`calc(100% - ${a}px)`,transform:$d[g],backgroundColor:"inherit",zIndex:"inherit"})}return u})}return Object.assign(e.style,{position:n.strategy}),{destroy:Td(t,e,c)}}function kd(t){const[e,r="center"]=t.split("-");return[e,r]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var el=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],gi=el.join(","),tl=typeof Element>"u",wr=tl?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mi=!tl&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},yi=function t(e,r){var n;r===void 0&&(r=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),o=i===""||i==="true",a=o||r&&e&&t(e.parentNode);return a},Fd=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},rl=function(e,r,n){if(yi(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(gi));return r&&wr.call(e,gi)&&i.unshift(e),i=i.filter(n),i},nl=function t(e,r,n){for(var i=[],o=Array.from(e);o.length;){var a=o.shift();if(!yi(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),s=c.length?c:a.children,l=t(s,!0,n);n.flatten?i.push.apply(i,l):i.push({scopeParent:a,candidates:l})}else{var u=wr.call(a,gi);u&&n.filter(a)&&(r||!e.includes(a))&&i.push(a);var f=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),h=!yi(f,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(f&&h){var d=t(f===!0?a.children:f.children,!0,n);n.flatten?i.push.apply(i,d):i.push({scopeParent:a,candidates:d})}else o.unshift.apply(o,a.children)}}return i},il=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},dr=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Fd(e))&&!il(e)?0:e.tabIndex},Bd=function(e,r){var n=dr(e);return n<0&&r&&!il(e)?0:n},jd=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},ol=function(e){return e.tagName==="INPUT"},Nd=function(e){return ol(e)&&e.type==="hidden"},Ud=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},Vd=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},Gd=function(e){if(!e.name)return!0;var r=e.form||mi(e),n=function(c){return r.querySelectorAll('input[type="radio"][name="'+c+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=Vd(i,e.form);return!o||o===e},zd=function(e){return ol(e)&&e.type==="radio"},Wd=function(e){return zd(e)&&!Gd(e)},Hd=function(e){var r,n=e&&mi(e),i=(r=n)===null||r===void 0?void 0:r.host,o=!1;if(n&&n!==e){var a,c,s;for(o=!!((a=i)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!o&&i;){var l,u,f;n=mi(i),i=(l=n)===null||l===void 0?void 0:l.host,o=!!((u=i)!==null&&u!==void 0&&(f=u.ownerDocument)!==null&&f!==void 0&&f.contains(i))}}return o},fs=function(e){var r=e.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},Kd=function(e,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=wr.call(e,"details>summary:first-of-type"),a=o?e.parentElement:e;if(wr.call(a,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var c=e;e;){var s=e.parentElement,l=mi(e);if(s&&!s.shadowRoot&&i(s)===!0)return fs(e);e.assignedSlot?e=e.assignedSlot:!s&&l!==e.ownerDocument?e=l.host:e=s}e=c}if(Hd(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return fs(e);return!1},qd=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return wr.call(r,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}r=r.parentElement}return!1},bi=function(e,r){return!(r.disabled||yi(r)||Nd(r)||Kd(r,e)||Ud(r)||qd(r))},Ro=function(e,r){return!(Wd(r)||dr(r)<0||!bi(e,r))},Xd=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},Yd=function t(e){var r=[],n=[];return e.forEach(function(i,o){var a=!!i.scopeParent,c=a?i.scopeParent:i,s=Bd(c,a),l=a?t(i.candidates):c;s===0?a?r.push.apply(r,l):r.push(c):n.push({documentOrder:o,tabIndex:s,item:i,isScope:a,content:l})}),n.sort(jd).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(r)},Jd=function(e,r){r=r||{};var n;return r.getShadowRoot?n=nl([e],r.includeContainer,{filter:Ro.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Xd}):n=rl(e,r.includeContainer,Ro.bind(null,r)),Yd(n)},Qd=function(e,r){r=r||{};var n;return r.getShadowRoot?n=nl([e],r.includeContainer,{filter:bi.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=rl(e,r.includeContainer,bi.bind(null,r)),n},Tr=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return wr.call(e,gi)===!1?!1:Ro(r,e)},Zd=el.concat("iframe").join(","),Wi=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return wr.call(e,Zd)===!1?!1:bi(r,e)};/*!
* focus-trap 7.6.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Po(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function eh(t){if(Array.isArray(t))return Po(t)}function th(t,e,r){return(e=ah(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rh(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ds(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ds(Object(r),!0).forEach(function(n){th(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ds(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ih(t){return eh(t)||rh(t)||sh(t)||nh()}function oh(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ah(t){var e=oh(t,"string");return typeof e=="symbol"?e:e+""}function sh(t,e){if(t){if(typeof t=="string")return Po(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Po(t,e):void 0}}var ps={activateTrap:function(e,r){if(e.length>0){var n=e[e.length-1];n!==r&&n.pause()}var i=e.indexOf(r);i===-1||e.splice(i,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},ch=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},lh=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},En=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},uh=function(e){return En(e)&&!e.shiftKey},fh=function(e){return En(e)&&e.shiftKey},vs=function(e){return setTimeout(e,0)},fn=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},Hn=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},dh=[],hh=function(e,r){var n=(r==null?void 0:r.document)||document,i=(r==null?void 0:r.trapStack)||dh,o=hs({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:uh,isKeyBackward:fh},r),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,s=function(E,y,_){return E&&E[y]!==void 0?E[y]:o[_||y]},l=function(E,y){var _=typeof(y==null?void 0:y.composedPath)=="function"?y.composedPath():void 0;return a.containerGroups.findIndex(function(T){var R=T.container,x=T.tabbableNodes;return R.contains(E)||(_==null?void 0:_.includes(R))||x.find(function(P){return P===E})})},u=function(E){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=y.hasFallback,T=_===void 0?!1:_,R=y.params,x=R===void 0?[]:R,P=o[E];if(typeof P=="function"&&(P=P.apply(void 0,ih(x))),P===!0&&(P=void 0),!P){if(P===void 0||P===!1)return P;throw new Error("`".concat(E,"` was specified but was not a node, or did not return a node"))}var k=P;if(typeof P=="string"){try{k=n.querySelector(P)}catch(U){throw new Error("`".concat(E,'` appears to be an invalid selector; error="').concat(U.message,'"'))}if(!k&&!T)throw new Error("`".concat(E,"` as selector refers to no known node"))}return k},f=function(){var E=u("initialFocus",{hasFallback:!0});if(E===!1)return!1;if(E===void 0||E&&!Wi(E,o.tabbableOptions))if(l(n.activeElement)>=0)E=n.activeElement;else{var y=a.tabbableGroups[0],_=y&&y.firstTabbableNode;E=_||u("fallbackFocus")}else E===null&&(E=u("fallbackFocus"));if(!E)throw new Error("Your focus-trap needs to have at least one focusable element");return E},h=function(){if(a.containerGroups=a.containers.map(function(E){var y=Jd(E,o.tabbableOptions),_=Qd(E,o.tabbableOptions),T=y.length>0?y[0]:void 0,R=y.length>0?y[y.length-1]:void 0,x=_.find(function(U){return Tr(U)}),P=_.slice().reverse().find(function(U){return Tr(U)}),k=!!y.find(function(U){return dr(U)>0});return{container:E,tabbableNodes:y,focusableNodes:_,posTabIndexesFound:k,firstTabbableNode:T,lastTabbableNode:R,firstDomTabbableNode:x,lastDomTabbableNode:P,nextTabbableNode:function(V){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=y.indexOf(V);return O<0?w?_.slice(_.indexOf(V)+1).find(function(I){return Tr(I)}):_.slice(0,_.indexOf(V)).reverse().find(function(I){return Tr(I)}):y[O+(w?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(E){return E.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(E){return E.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},d=function(E){var y=E.activeElement;if(y)return y.shadowRoot&&y.shadowRoot.activeElement!==null?d(y.shadowRoot):y},p=function(E){if(E!==!1&&E!==d(document)){if(!E||!E.focus){p(f());return}E.focus({preventScroll:!!o.preventScroll}),a.mostRecentlyFocusedNode=E,ch(E)&&E.select()}},v=function(E){var y=u("setReturnFocus",{params:[E]});return y||(y===!1?!1:E)},m=function(E){var y=E.target,_=E.event,T=E.isBackward,R=T===void 0?!1:T;y=y||Hn(_),h();var x=null;if(a.tabbableGroups.length>0){var P=l(y,_),k=P>=0?a.containerGroups[P]:void 0;if(P<0)R?x=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:x=a.tabbableGroups[0].firstTabbableNode;else if(R){var U=a.tabbableGroups.findIndex(function(ee){var Z=ee.firstTabbableNode;return y===Z});if(U<0&&(k.container===y||Wi(y,o.tabbableOptions)&&!Tr(y,o.tabbableOptions)&&!k.nextTabbableNode(y,!1))&&(U=P),U>=0){var V=U===0?a.tabbableGroups.length-1:U-1,w=a.tabbableGroups[V];x=dr(y)>=0?w.lastTabbableNode:w.lastDomTabbableNode}else En(_)||(x=k.nextTabbableNode(y,!1))}else{var O=a.tabbableGroups.findIndex(function(ee){var Z=ee.lastTabbableNode;return y===Z});if(O<0&&(k.container===y||Wi(y,o.tabbableOptions)&&!Tr(y,o.tabbableOptions)&&!k.nextTabbableNode(y))&&(O=P),O>=0){var I=O===a.tabbableGroups.length-1?0:O+1,X=a.tabbableGroups[I];x=dr(y)>=0?X.firstTabbableNode:X.firstDomTabbableNode}else En(_)||(x=k.nextTabbableNode(y))}}else x=u("fallbackFocus");return x},g=function(E){var y=Hn(E);if(!(l(y,E)>=0)){if(fn(o.clickOutsideDeactivates,E)){c.deactivate({returnFocus:o.returnFocusOnDeactivate});return}fn(o.allowOutsideClick,E)||E.preventDefault()}},b=function(E){var y=Hn(E),_=l(y,E)>=0;if(_||y instanceof Document)_&&(a.mostRecentlyFocusedNode=y);else{E.stopImmediatePropagation();var T,R=!0;if(a.mostRecentlyFocusedNode)if(dr(a.mostRecentlyFocusedNode)>0){var x=l(a.mostRecentlyFocusedNode),P=a.containerGroups[x].tabbableNodes;if(P.length>0){var k=P.findIndex(function(U){return U===a.mostRecentlyFocusedNode});k>=0&&(o.isKeyForward(a.recentNavEvent)?k+1<P.length&&(T=P[k+1],R=!1):k-1>=0&&(T=P[k-1],R=!1))}}else a.containerGroups.some(function(U){return U.tabbableNodes.some(function(V){return dr(V)>0})})||(R=!1);else R=!1;R&&(T=m({target:a.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(a.recentNavEvent)})),p(T||a.mostRecentlyFocusedNode||f())}a.recentNavEvent=void 0},S=function(E){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=E;var _=m({event:E,isBackward:y});_&&(En(E)&&E.preventDefault(),p(_))},$=function(E){(o.isKeyForward(E)||o.isKeyBackward(E))&&S(E,o.isKeyBackward(E))},C=function(E){lh(E)&&fn(o.escapeDeactivates,E)!==!1&&(E.preventDefault(),c.deactivate())},D=function(E){var y=Hn(E);l(y,E)>=0||fn(o.clickOutsideDeactivates,E)||fn(o.allowOutsideClick,E)||(E.preventDefault(),E.stopImmediatePropagation())},W=function(){if(a.active)return ps.activateTrap(i,c),a.delayInitialFocusTimer=o.delayInitialFocus?vs(function(){p(f())}):p(f()),n.addEventListener("focusin",b,!0),n.addEventListener("mousedown",g,{capture:!0,passive:!1}),n.addEventListener("touchstart",g,{capture:!0,passive:!1}),n.addEventListener("click",D,{capture:!0,passive:!1}),n.addEventListener("keydown",$,{capture:!0,passive:!1}),n.addEventListener("keydown",C),c},G=function(){if(a.active)return n.removeEventListener("focusin",b,!0),n.removeEventListener("mousedown",g,!0),n.removeEventListener("touchstart",g,!0),n.removeEventListener("click",D,!0),n.removeEventListener("keydown",$,!0),n.removeEventListener("keydown",C),c},q=function(E){var y=E.some(function(_){var T=Array.from(_.removedNodes);return T.some(function(R){return R===a.mostRecentlyFocusedNode})});y&&p(f())},Y=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(q):void 0,B=function(){Y&&(Y.disconnect(),a.active&&!a.paused&&a.containers.map(function(E){Y.observe(E,{subtree:!0,childList:!0})}))};return c={get active(){return a.active},get paused(){return a.paused},activate:function(E){if(a.active)return this;var y=s(E,"onActivate"),_=s(E,"onPostActivate"),T=s(E,"checkCanFocusTrap");T||h(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=n.activeElement,y==null||y();var R=function(){T&&h(),W(),B(),_==null||_()};return T?(T(a.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(E){if(!a.active)return this;var y=hs({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},E);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,G(),a.active=!1,a.paused=!1,B(),ps.deactivateTrap(i,c);var _=s(y,"onDeactivate"),T=s(y,"onPostDeactivate"),R=s(y,"checkCanReturnFocus"),x=s(y,"returnFocus","returnFocusOnDeactivate");_==null||_();var P=function(){vs(function(){x&&p(v(a.nodeFocusedBeforeActivation)),T==null||T()})};return x&&R?(R(v(a.nodeFocusedBeforeActivation)).then(P,P),this):(P(),this)},pause:function(E){if(a.paused||!a.active)return this;var y=s(E,"onPause"),_=s(E,"onPostPause");return a.paused=!0,y==null||y(),G(),B(),_==null||_(),this},unpause:function(E){if(!a.paused||!a.active)return this;var y=s(E,"onUnpause"),_=s(E,"onPostUnpause");return a.paused=!1,y==null||y(),h(),W(),B(),_==null||_(),this},updateContainerElements:function(E){var y=[].concat(E).filter(Boolean);return a.containers=y.map(function(_){return typeof _=="string"?n.querySelector(_):_}),a.active&&h(),B(),this}},c.updateContainerElements(e),c};function ph(t={}){let e;const{immediate:r,...n}=t,i=jt(!1),o=jt(!1),a=f=>e==null?void 0:e.activate(f),c=f=>{e==null||e.deactivate(f)},s=()=>{e&&(e.pause(),o.set(!0))},l=()=>{e&&(e.unpause(),o.set(!1))};return{useFocusTrap:f=>(e=hh(f,{...n,onActivate(){var h;i.set(!0),(h=t.onActivate)==null||h.call(t)},onDeactivate(){var h;i.set(!1),(h=t.onDeactivate)==null||h.call(t)}}),r&&a(),{destroy(){c(),e=void 0}}),hasFocus:_o(i),isPaused:_o(o),activate:a,deactivate:c,pause:s,unpause:l}}const Kn=[],vh=(t,e)=>{let r=Ve;function n(){const o=Kn.indexOf(t);o>=0&&Kn.splice(o,1)}function i(o){r();const{open:a,onClose:c,shouldCloseOnInteractOutside:s,closeOnInteractOutside:l}=o;Nc(100).then(()=>{a?Kn.push(t):n()});function u(){return ri(Kn)===t}function f(){u()&&c&&(c(),n())}function h(p){const v=p.target;Dn(v)&&v&&u()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation())}function d(p){s!=null&&s(p)&&u()&&(p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation(),f())}r=bh(t,{onInteractOutsideStart:h,onInteractOutside:l?d:void 0,enabled:a}).destroy}return i(e),{update:i,destroy(){n(),r()}}},gh={floating:{},focusTrap:{},modal:{},escapeKeydown:{},portal:"body"},mh=(t,e)=>{t.dataset.escapee="";const{anchorElement:r,open:n,options:i}=e;if(!r||!n||!i)return{destroy:Ve};const o={...gh,...i},a=[];if(o.portal!==null&&a.push(yh(t,o.portal).destroy),a.push(Md(r,t,o.floating).destroy),o.focusTrap!==null){const{useFocusTrap:s}=ph({immediate:!0,escapeDeactivates:!1,allowOutsideClick:!0,returnFocusOnDeactivate:!1,fallbackFocus:t,...o.focusTrap});a.push(s(t).destroy)}o.modal!==null&&a.push(vh(t,{onClose:()=>{De(r)&&(n.set(!1),r.focus())},shouldCloseOnInteractOutside:s=>!(s.defaultPrevented||De(r)&&r.contains(s.target)),...o.modal}).destroy),o.escapeKeydown!==null&&a.push(zc(t,{enabled:n,handler:()=>{n.set(!1)},...o.escapeKeydown}).destroy);const c=tr(...a);return{destroy(){c()}}},yh=(t,e="body")=>{let r;if(!De(e)&&typeof e!="string")return{destroy:Ve};async function n(o){if(e=o,typeof e=="string"){if(r=document.querySelector(e),r===null&&(await ti(),r=document.querySelector(e)),r===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)r=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",r.appendChild(t),t.hidden=!1}function i(){t.remove()}return n(e),{update:n,destroy:i}},bh=(t,e)=>{let r=Ve,n=Ve,i=!1,o=!1,a=!1;function c(u){r(),n();const{onInteractOutside:f,onInteractOutsideStart:h,enabled:d}=u;if(!d)return;function p(g){f&&gs(g,t)&&(h==null||h(g));const b=g.target;Dn(b)&&al(t,b)&&(o=!0),i=!0}function v(g){f==null||f(g)}const m=wh(t);if(typeof PointerEvent<"u"){const g=b=>{n();const S=$=>{s($)&&v($),l()};if(b.pointerType==="touch"){n=Mt(m,"click",S,{capture:!0,once:!0});return}S(b)};r=tr(Mt(m,"pointerdown",p,!0),Mt(m,"pointerup",g,!0))}else{const g=S=>{a?a=!1:s(S)&&v(S),l()},b=S=>{a=!0,s(S)&&v(S),l()};r=tr(Mt(m,"mousedown",p,!0),Mt(m,"mouseup",g,!0),Mt(m,"touchstart",p,!0),Mt(m,"touchend",b,!0))}}function s(u){return!!(i&&!o&&gs(u,t))}function l(){i=!1,o=!1}return c(e),{update:c,destroy(){r(),n()}}};function gs(t,e){if("button"in t&&t.button>0)return!1;const r=t.target;if(!Dn(r))return!1;const n=r.ownerDocument;return!n||!n.documentElement.contains(r)?!1:e&&!al(e,r)}function al(t,e){return t===e||t.contains(e)}function wh(t){return(t==null?void 0:t.ownerDocument)??document}function _h(t){const e={};return Object.keys(t).forEach(r=>{const n=r,i=t[n];jc(i)?e[n]=Vt(i):e[n]=Vt(pr(i))}),e}const Eh={prefix:"",disabled:pr(!1),required:pr(!1),name:pr(void 0)};function Sh(t){const e={...Eh,...Af(t)},{name:r}=Fc(e.prefix),{value:n,name:i,disabled:o,required:a}=_h(Qo(e,"prefix")),c=i;return pt(r("hidden-input"),{stores:[n,c,o,a],returned:([l,u,f,h])=>({name:u,value:l==null?void 0:l.toString(),"aria-hidden":"true",hidden:!0,disabled:f,required:h,tabIndex:-1,style:di({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"})}),action:l=>({destroy:n.subscribe(f=>{l.value=f,l.dispatchEvent(new Event("change",{bubbles:!0}))})})})}function Ah(){return{elements:{root:pt("label",{action:e=>({destroy:Dr(e,"mousedown",n=>{!n.defaultPrevented&&n.detail>1&&n.preventDefault()})})})}}}const Ch=[ie.ARROW_LEFT,ie.ESCAPE,ie.ARROW_RIGHT,ie.SHIFT,ie.CAPS_LOCK,ie.CONTROL,ie.ALT,ie.META,ie.ENTER,ie.F1,ie.F2,ie.F3,ie.F4,ie.F5,ie.F6,ie.F7,ie.F8,ie.F9,ie.F10,ie.F11,ie.F12],Th={positioning:{placement:"bottom",sameWidth:!0},scrollAlignment:"nearest",loop:!0,defaultOpen:!1,closeOnOutsideClick:!0,preventScroll:!0,closeOnEscape:!0,forceVisible:!1,portal:void 0,builder:"listbox",disabled:!1,required:!1,name:void 0,typeahead:!0,highlightOnHover:!0,onOutsideClick:void 0},Oh=["trigger","menu","label"];function Rh(t){const e={...Th,...t},r=Vt(jt(null)),n=Vt(jt(null)),i=e.selected??jt(e.defaultSelected),o=os(i,e==null?void 0:e.onSelectedChange),a=Ot(n,M=>M?y(M):void 0),c=e.open??jt(e.defaultOpen),s=os(c,e==null?void 0:e.onOpenChange),l=Ao({...Qo(e,"open","defaultOpen","builder","ids"),multiple:e.multiple??!1}),{scrollAlignment:u,loop:f,closeOnOutsideClick:h,closeOnEscape:d,preventScroll:p,portal:v,forceVisible:m,positioning:g,multiple:b,arrowSize:S,disabled:$,required:C,typeahead:D,name:W,highlightOnHover:G,onOutsideClick:q}=l,{name:Y,selector:B}=Fc(e.builder),A=Ao({...Of(Oh),...e.ids}),{handleTypeaheadSearch:E}=zf({onMatch:M=>{n.set(M),M.scrollIntoView({block:u.get()})},getCurrentItem(){return n.get()}});function y(M){const j=M.getAttribute("data-value"),se=M.getAttribute("data-label"),Te=M.hasAttribute("data-disabled");return{value:j&&JSON.parse(j),label:se??M.textContent??void 0,disabled:!!Te}}const _=M=>{o.update(j=>{if(b.get()){const Te=Array.isArray(j)?[...j]:[];return df(M,Te,(Oe,ce)=>vt(Oe.value,ce.value))}return M})};function T(M){const j=y(M);_(j)}async function R(){s.set(!0);const M=document.getElementById(A.trigger.get());if(!M)return;M!==r.get()&&r.set(M),await ti();const j=document.getElementById(A.menu.get());if(!De(j))return;const se=j.querySelector("[aria-selected=true]");De(se)&&n.set(se)}function x(){s.set(!1),n.set(null)}const P=Nf({open:s,forceVisible:m,activeTrigger:r}),k=Ot([o],([M])=>j=>Array.isArray(M)?M.some(se=>vt(se.value,j)):Bc(j)?vt(M==null?void 0:M.value,Sf(j,void 0)):vt(M==null?void 0:M.value,j)),U=Ot([a],([M])=>j=>vt(M==null?void 0:M.value,j)),V=pt(Y("trigger"),{stores:[s,n,$,A.menu,A.trigger,A.label],returned:([M,j,se,Te,Oe,ce])=>({"aria-activedescendant":j==null?void 0:j.id,"aria-autocomplete":"list","aria-controls":Te,"aria-expanded":M,"aria-labelledby":ce,id:Oe,role:"combobox",disabled:es(se),type:e.builder==="select"?"button":void 0}),action:M=>{const j=vf(M),se=tr(Dr(M,"click",()=>{M.focus(),s.get()?x():R()}),Dr(M,"keydown",ce=>{if(!s.get()){if(Ch.includes(ce.key)||ce.key===ie.TAB||ce.key===ie.BACKSPACE&&j&&M.value===""||ce.key===ie.SPACE&&ns(M))return;R(),ti().then(()=>{if(o.get())return;const K=document.getElementById(A.menu.get());if(!De(K))return;const H=Array.from(K.querySelectorAll(`${B("item")}:not([data-disabled]):not([data-hidden])`)).filter(te=>De(te));H.length&&(ce.key===ie.ARROW_DOWN?(n.set(H[0]),H[0].scrollIntoView({block:u.get()})):ce.key===ie.ARROW_UP&&(n.set(ri(H)),ri(H).scrollIntoView({block:u.get()})))})}if(ce.key===ie.TAB){x();return}if(ce.key===ie.ENTER&&!ce.isComposing||ce.key===ie.SPACE&&ns(M)){ce.preventDefault();const L=n.get();L&&T(L),b.get()||x()}if(ce.key===ie.ARROW_UP&&ce.altKey&&x(),xf.includes(ce.key)){ce.preventDefault();const L=document.getElementById(A.menu.get());if(!De(L))return;const K=Vi(L);if(!K.length)return;const H=K.filter(_e=>!is(_e)&&_e.dataset.hidden===void 0),te=n.get(),ge=te?H.indexOf(te):-1,me=f.get(),Pe=u.get();let we;switch(ce.key){case ie.ARROW_DOWN:we=lf(H,ge,me);break;case ie.ARROW_UP:we=uf(H,ge,me);break;case ie.PAGE_DOWN:we=cf(H,ge,10,me);break;case ie.PAGE_UP:we=sf(H,ge,10,me);break;case ie.HOME:we=H[0];break;case ie.END:we=ri(H);break;default:return}n.set(we),we==null||we.scrollIntoView({block:Pe})}else if(D.get()){const L=document.getElementById(A.menu.get());if(!De(L))return;E(ce.key,Vi(L))}}));let Te=Ve;const Oe=zc(M,{handler:x,enabled:Ot([s,d],([ce,Re])=>ce&&Re)});return Oe&&Oe.destroy&&(Te=Oe.destroy),{destroy(){se(),Te()}}}}),w=pt(Y("menu"),{stores:[P,A.menu],returned:([M,j])=>({hidden:M?void 0:!0,id:j,role:"listbox",style:di({display:M?void 0:"none"})}),action:M=>{let j=Ve;const se=tr(mn([P,v,h,g,r],([Te,Oe,ce,Re,L])=>{j(),!(!Te||!L)&&ti().then(()=>{j();const K=Kf(A.trigger.get());j=mh(M,{anchorElement:L,open:s,options:{floating:Re,focusTrap:null,modal:{closeOnInteractOutside:ce,onClose:x,open:Te,shouldCloseOnInteractOutside:H=>{var ge;if((ge=q.get())==null||ge(H),H.defaultPrevented)return!1;const te=H.target;return!(!Dn(te)||te===L||L.contains(te)||K(H))}},escapeKeydown:null,portal:Hf(M,Oe)}}).destroy})}));return{destroy:()=>{se(),j()}}}}),{elements:{root:O}}=Ah(),{action:I}=Ti(O),X=pt(Y("label"),{stores:[A.label,A.trigger],returned:([M,j])=>({id:M,for:j}),action:I}),ee=pt(Y("option"),{stores:[k],returned:([M])=>j=>{const se=M(j.value);return{"data-value":JSON.stringify(j.value),"data-label":j.label,"data-disabled":es(j.disabled),"aria-disabled":j.disabled?!0:void 0,"aria-selected":se,"data-selected":se?"":void 0,id:Uc(),role:"option"}},action:M=>({destroy:tr(Dr(M,"click",se=>{if(is(M)){se.preventDefault();return}T(M),b.get()||x()}),mn(G,se=>se?tr(Dr(M,"mouseover",()=>{n.set(M)}),Dr(M,"mouseleave",()=>{n.set(null)})):void 0))})}),Z=pt(Y("group"),{returned:()=>M=>({role:"group","aria-labelledby":M})}),ne=pt(Y("group-label"),{returned:()=>M=>({id:M})}),ae=Sh({value:Ot([o],([M])=>{const j=Array.isArray(M)?M.map(se=>se.value):M==null?void 0:M.value;return typeof j=="string"?j:JSON.stringify(j)}),name:_o(W),required:C,prefix:e.builder}),ue=pt(Y("arrow"),{stores:S,returned:M=>({"data-arrow":!0,style:di({position:"absolute",width:`var(--arrow-size, ${M}px)`,height:`var(--arrow-size, ${M}px)`})})});return _f(()=>{if(!_n)return;const M=document.getElementById(A.menu.get()),j=document.getElementById(A.trigger.get());if(j&&r.set(j),!M)return;const se=M.querySelector("[data-selected]");De(se)}),mn([n],([M])=>{if(!_n)return;const j=document.getElementById(A.menu.get());De(j)&&Vi(j).forEach(se=>{se===M?bf(se):wf(se)})}),mn([s],([M])=>{if(!_n)return;let j=Ve;return p.get()&&M&&(j=jf()),()=>{j()}}),{ids:A,elements:{trigger:V,group:Z,option:ee,menu:w,groupLabel:ne,label:X,hiddenInput:ae,arrow:ue},states:{open:s,selected:o,highlighted:a,highlightedItem:n},helpers:{isSelected:k,isHighlighted:U,closeMenu:x},options:l}}const Ph={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({...Qo(Ph,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});function xh(t){const e=Rh({...t,builder:"select"}),r=Ot(e.states.selected,n=>Array.isArray(n)?n.map(i=>i.label).join(", "):(n==null?void 0:n.label)??"");return{...e,elements:{...e.elements},states:{...e.states,selectedLabel:r}}}const Ih={orientation:"horizontal",decorative:!1},Lh=t=>{const e={...Ih,...t},r=Ao(e),{orientation:n,decorative:i}=r;return{elements:{root:pt("separator",{stores:[n,i],returned:([a,c])=>({role:c?"none":"separator","aria-orientation":a==="vertical"?a:void 0,"aria-hidden":c,"data-orientation":a})})},options:r}};function sl(t,e){const r={};return e.forEach(n=>{r[n]={[`data-${t}-${n}`]:""}}),n=>r[n]}function aa(){const t=Bu();return e=>{const{originalEvent:r}=e.detail,{cancelable:n}=e,i=r.type;t(i,{originalEvent:r,currentTarget:r.currentTarget},{cancelable:n})||e.preventDefault()}}function cl(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=n)}return e}function ll(t){return function(e,r){if(r===void 0)return;const n=t[e];n&&n.set(r)}}function Dh(t,e){return t.length!==e.length?!1:t.every((r,n)=>r===e[n])}function Hi(t,e){const r=[];return e.builders.forEach(n=>{const i=n.action(t);i&&r.push(i)}),{destroy:()=>{r.forEach(n=>{n.destroy&&n.destroy()})}}}function $h(t){const e={};return t.forEach(r=>{Object.keys(r).forEach(n=>{n!=="action"&&(e[n]=r[n])})}),e}function Mh(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["href","type","builders","el"]);Je(e,!1);let i=N(e,"href",24,()=>{}),o=N(e,"type",24,()=>{}),a=N(e,"builders",24,()=>[]),c=N(e,"el",28,()=>{});const s={"data-button-root":""};it();var l=oe(),u=re(l);{var f=d=>{var p=oe(),v=re(p);const m=mr(()=>$h(a()));Eo(v,()=>i()?"a":"button",!1,(g,b)=>{ft(g,D=>c(D),()=>c()),Ft(g,(D,W)=>Hi==null?void 0:Hi(D,W),()=>({builders:a()}));let S;$e(()=>S=nt(g,S,{type:i()?void 0:o(),href:i(),tabindex:"0",...F(m),...n,...s},void 0,g.namespaceURI===fi,g.nodeName.includes("-"))),he("click",g,function(D){fe.call(this,e,D)}),he("change",g,function(D){fe.call(this,e,D)}),he("keydown",g,function(D){fe.call(this,e,D)}),he("keyup",g,function(D){fe.call(this,e,D)}),he("mouseenter",g,function(D){fe.call(this,e,D)}),he("mouseleave",g,function(D){fe.call(this,e,D)}),he("mousedown",g,function(D){fe.call(this,e,D)}),he("pointerdown",g,function(D){fe.call(this,e,D)}),he("mouseup",g,function(D){fe.call(this,e,D)}),he("pointerup",g,function(D){fe.call(this,e,D)});var $=oe(),C=re($);Ee(C,e,"default",{},null),z(b,$)}),z(d,p)},h=d=>{var p=oe(),v=re(p);Eo(v,()=>i()?"a":"button",!1,(m,g)=>{ft(m,C=>c(C),()=>c());let b;$e(()=>b=nt(m,b,{type:i()?void 0:o(),href:i(),tabindex:"0",...n,...s},void 0,m.namespaceURI===fi,m.nodeName.includes("-"))),he("click",m,function(C){fe.call(this,e,C)}),he("change",m,function(C){fe.call(this,e,C)}),he("keydown",m,function(C){fe.call(this,e,C)}),he("keyup",m,function(C){fe.call(this,e,C)}),he("mouseenter",m,function(C){fe.call(this,e,C)}),he("mouseleave",m,function(C){fe.call(this,e,C)}),he("mousedown",m,function(C){fe.call(this,e,C)}),he("pointerdown",m,function(C){fe.call(this,e,C)}),he("mouseup",m,function(C){fe.call(this,e,C)}),he("pointerup",m,function(C){fe.call(this,e,C)});var S=oe(),$=re(S);Ee($,e,"default",{},null),z(g,S)}),z(d,p)};rt(u,d=>{a()&&a().length?d(f):d(h,!1)})}z(t,l),Qe()}function kh(t){return(e={})=>Fh(t,e)}function Fh(t,e){const n={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(i=>({...i,placement:Bh(n.side,n.align),offset:{...i.offset,mainAxis:n.sideOffset,crossAxis:n.alignOffset},gutter:0,sameWidth:n.sameWidth,flip:n.avoidCollisions,overflowPadding:n.collisionPadding,boundary:n.collisionBoundary,fitViewport:n.fitViewport,strategy:n.strategy,overlap:n.overlap}))}function Bh(t,e){return e==="center"?t:`${t}-${e}`}function jh(){return{NAME:"separator",PARTS:["root"]}}function Nh(t){const{NAME:e,PARTS:r}=jh(),n=sl(e,r),i={...Lh(cl(t)),getAttrs:n};return{...i,updateOption:ll(i.options)}}var Uh=Be("<div></div>");function Vh(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["orientation","decorative","asChild","el"]);Je(e,!1);const i=_r(),o=()=>Ut(f,"$root",i),a=Kr();let c=N(e,"orientation",8,"horizontal"),s=N(e,"decorative",8,!0),l=N(e,"asChild",8,!1),u=N(e,"el",28,()=>{});const{elements:{root:f},updateOption:h,getAttrs:d}=Nh({orientation:c(),decorative:s()}),p=d("root");Ae(()=>be(c()),()=>{h("orientation",c())}),Ae(()=>be(s()),()=>{h("decorative",s())}),Ae(()=>o(),()=>{dt(a,o())}),Ae(()=>F(a),()=>{Object.assign(F(a),p)}),Yr(),it();var v=oe(),m=re(v);{var g=S=>{var $=oe(),C=re($);Ee(C,e,"default",{get builder(){return F(a)}},null),z(S,$)},b=S=>{var $=Uh();let C;ft($,D=>u(D),()=>u()),Ft($,D=>{var W,G;return(G=(W=F(a)).action)==null?void 0:G.call(W,D)}),$e(()=>C=nt($,C,{...F(a),...n})),z(S,$)};rt(m,S=>{l()?S(g):S(b,!1)})}z(t,v),Qe()}function xi(){return{NAME:"select",GROUP_NAME:"select-group",ITEM_NAME:"select-item",PARTS:["arrow","content","group","item","indicator","input","label","trigger","value"]}}function en(){const{NAME:t}=xi();return Ic(t)}function Gh(t){const{NAME:e,PARTS:r}=xi(),n=sl(e,r),i={...xh({...cl(t),forceVisible:!0}),getAttrs:n};return Lc(e,i),{...i,updateOption:ll(i.options)}}function zh(t){const{ITEM_NAME:e}=xi(),r=en();return Lc(e,t),r}function Wh(){const{ITEM_NAME:t}=xi(),{helpers:{isSelected:e},getAttrs:r}=en();return{value:Ic(t),isSelected:e,getAttrs:r}}function Hh(t){const r={...{side:"bottom",align:"center",sameWidth:!0},...t},{options:{positioning:n}}=en();kh(n)(r)}function Kh(t,e){Je(e,!1);const r=_r(),n=()=>Ut(G,"$idValues",r);let i=N(e,"required",24,()=>{}),o=N(e,"disabled",24,()=>{}),a=N(e,"preventScroll",24,()=>{}),c=N(e,"loop",24,()=>{}),s=N(e,"closeOnEscape",24,()=>{}),l=N(e,"closeOnOutsideClick",24,()=>{}),u=N(e,"portal",24,()=>{}),f=N(e,"name",24,()=>{}),h=N(e,"multiple",8,!1),d=N(e,"selected",28,()=>{}),p=N(e,"onSelectedChange",24,()=>{}),v=N(e,"open",28,()=>{}),m=N(e,"onOpenChange",24,()=>{}),g=N(e,"items",24,()=>[]),b=N(e,"onOutsideClick",24,()=>{}),S=N(e,"typeahead",24,()=>{});const{states:{open:$,selected:C},updateOption:D,ids:W}=Gh({required:i(),disabled:o(),preventScroll:a(),loop:c(),closeOnEscape:s(),closeOnOutsideClick:l(),portal:u(),name:f(),onOutsideClick:b(),multiple:h(),forceVisible:!0,defaultSelected:Array.isArray(d())?[...d()]:d(),defaultOpen:v(),onSelectedChange:({next:B})=>{var A,E;return Array.isArray(B)?((!Array.isArray(d())||!Dh(d(),B))&&((A=p())==null||A(B),d(B)),B):(d()!==B&&((E=p())==null||E(B),d(B)),B)},onOpenChange:({next:B})=>{var A;return v()!==B&&((A=m())==null||A(B),v(B)),B},items:g(),typeahead:S()}),G=Ot([W.menu,W.trigger,W.label],([B,A,E])=>({menu:B,trigger:A,label:E}));Ae(()=>be(v()),()=>{v()!==void 0&&$.set(v())}),Ae(()=>be(d()),()=>{d()!==void 0&&C.set(Array.isArray(d())?[...d()]:d())}),Ae(()=>be(i()),()=>{D("required",i())}),Ae(()=>be(o()),()=>{D("disabled",o())}),Ae(()=>be(a()),()=>{D("preventScroll",a())}),Ae(()=>be(c()),()=>{D("loop",c())}),Ae(()=>be(s()),()=>{D("closeOnEscape",s())}),Ae(()=>be(l()),()=>{D("closeOnOutsideClick",l())}),Ae(()=>be(u()),()=>{D("portal",u())}),Ae(()=>be(f()),()=>{D("name",f())}),Ae(()=>be(h()),()=>{D("multiple",h())}),Ae(()=>be(b()),()=>{D("onOutsideClick",b())}),Ae(()=>be(S()),()=>{D("typeahead",S())}),Yr(),it();var q=oe(),Y=re(q);Ee(Y,e,"default",{get ids(){return n()}},null),z(t,q),Qe()}var qh=Be("<div><!></div>"),Xh=Be("<div><!></div>"),Yh=Be("<div><!></div>"),Jh=Be("<div><!></div>"),Qh=Be("<div><!></div>");function Zh(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"]);Je(e,!1);const i=_r(),o=()=>Ut(A,"$menu",i),a=()=>Ut(E,"$open",i),c=Kr();let s=N(e,"transition",24,()=>{}),l=N(e,"transitionConfig",24,()=>{}),u=N(e,"inTransition",24,()=>{}),f=N(e,"inTransitionConfig",24,()=>{}),h=N(e,"outTransition",24,()=>{}),d=N(e,"outTransitionConfig",24,()=>{}),p=N(e,"asChild",8,!1),v=N(e,"id",24,()=>{}),m=N(e,"side",8,"bottom"),g=N(e,"align",8,"center"),b=N(e,"sideOffset",8,0),S=N(e,"alignOffset",8,0),$=N(e,"collisionPadding",8,8),C=N(e,"avoidCollisions",8,!0),D=N(e,"collisionBoundary",24,()=>{}),W=N(e,"sameWidth",8,!0),G=N(e,"fitViewport",8,!1),q=N(e,"strategy",8,"absolute"),Y=N(e,"overlap",8,!1),B=N(e,"el",28,()=>{});const{elements:{menu:A},states:{open:E},ids:y,getAttrs:_}=en(),T=aa(),R=_("content");Ae(()=>be(v()),()=>{v()&&y.menu.set(v())}),Ae(()=>o(),()=>{dt(c,o())}),Ae(()=>F(c),()=>{Object.assign(F(c),R)}),Ae(()=>(a(),be(m()),be(g()),be(b()),be(S()),be($()),be(C()),be(D()),be(W()),be(G()),be(q()),be(Y())),()=>{a()&&Hh({side:m(),align:g(),sideOffset:b(),alignOffset:S(),collisionPadding:$(),avoidCollisions:C(),collisionBoundary:D(),sameWidth:W(),fitViewport:G(),strategy:q(),overlap:Y()})}),Yr(),it();var x=oe(),P=re(x);{var k=V=>{var w=oe(),O=re(w);Ee(O,e,"default",{get builder(){return F(c)}},null),z(V,w)},U=V=>{var w=oe(),O=re(w);{var I=ee=>{var Z=qh();let ne;var ae=Fe(Z);Ee(ae,e,"default",{get builder(){return F(c)}},null),Le(Z),ft(Z,ue=>B(ue),()=>B()),Ft(Z,ue=>{var M,j;return(j=(M=F(c)).action)==null?void 0:j.call(M,ue)}),ke(()=>he("m-pointerleave",Z,T)),ke(()=>he("keydown",Z,function(ue){fe.call(this,e,ue)})),$e(()=>ne=nt(Z,ne,{...F(c),...n})),un(3,Z,s,l),z(ee,Z)},X=ee=>{var Z=oe(),ne=re(Z);{var ae=M=>{var j=Xh();let se;var Te=Fe(j);Ee(Te,e,"default",{get builder(){return F(c)}},null),Le(j),ft(j,Oe=>B(Oe),()=>B()),Ft(j,Oe=>{var ce,Re;return(Re=(ce=F(c)).action)==null?void 0:Re.call(ce,Oe)}),ke(()=>he("m-pointerleave",j,T)),ke(()=>he("keydown",j,function(Oe){fe.call(this,e,Oe)})),$e(()=>se=nt(j,se,{...F(c),...n})),un(1,j,u,f),un(2,j,h,d),z(M,j)},ue=M=>{var j=oe(),se=re(j);{var Te=ce=>{var Re=Yh();let L;var K=Fe(Re);Ee(K,e,"default",{get builder(){return F(c)}},null),Le(Re),ft(Re,H=>B(H),()=>B()),Ft(Re,H=>{var te,ge;return(ge=(te=F(c)).action)==null?void 0:ge.call(te,H)}),ke(()=>he("m-pointerleave",Re,T)),ke(()=>he("keydown",Re,function(H){fe.call(this,e,H)})),$e(()=>L=nt(Re,L,{...F(c),...n})),un(1,Re,u,f),z(ce,Re)},Oe=ce=>{var Re=oe(),L=re(Re);{var K=te=>{var ge=Jh();let me;var Pe=Fe(ge);Ee(Pe,e,"default",{get builder(){return F(c)}},null),Le(ge),ft(ge,we=>B(we),()=>B()),Ft(ge,we=>{var _e,je;return(je=(_e=F(c)).action)==null?void 0:je.call(_e,we)}),ke(()=>he("m-pointerleave",ge,T)),ke(()=>he("keydown",ge,function(we){fe.call(this,e,we)})),$e(()=>me=nt(ge,me,{...F(c),...n})),un(2,ge,h,d),z(te,ge)},H=te=>{var ge=oe(),me=re(ge);{var Pe=we=>{var _e=Qh();let je;var qe=Fe(_e);Ee(qe,e,"default",{get builder(){return F(c)}},null),Le(_e),ft(_e,Xe=>B(Xe),()=>B()),Ft(_e,Xe=>{var Ie,et;return(et=(Ie=F(c)).action)==null?void 0:et.call(Ie,Xe)}),ke(()=>he("m-pointerleave",_e,T)),ke(()=>he("keydown",_e,function(Xe){fe.call(this,e,Xe)})),$e(()=>je=nt(_e,je,{...F(c),...n})),z(we,_e)};rt(me,we=>{a()&&we(Pe)},!0)}z(te,ge)};rt(L,te=>{h()&&a()?te(K):te(H,!1)},!0)}z(ce,Re)};rt(se,ce=>{u()&&a()?ce(Te):ce(Oe,!1)},!0)}z(M,j)};rt(ne,M=>{u()&&h()&&a()?M(ae):M(ue,!1)},!0)}z(ee,Z)};rt(O,ee=>{s()&&a()?ee(I):ee(X,!1)},!0)}z(V,w)};rt(P,V=>{p()&&a()?V(k):V(U,!1)})}z(t,x),Qe()}var ep=Be("<div><!></div>");function tp(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["value","disabled","label","asChild","el"]);Je(e,!1);const i=_r(),o=()=>Ut(p,"$item",i),a=()=>Ut(v,"$isSelectedStore",i),c=Kr(),s=Kr();let l=N(e,"value",8),u=N(e,"disabled",24,()=>{}),f=N(e,"label",24,()=>{}),h=N(e,"asChild",8,!1),d=N(e,"el",28,()=>{});const{elements:{option:p},helpers:{isSelected:v},getAttrs:m}=zh(l()),g=aa(),b=m("item");Ae(()=>(o(),be(l()),be(u()),be(f())),()=>{dt(c,o()({value:l(),disabled:u(),label:f()}))}),Ae(()=>F(c),()=>{Object.assign(F(c),b)}),Ae(()=>(a(),be(l())),()=>{dt(s,a()(l()))}),Yr(),it();var S=oe(),$=re(S);{var C=W=>{var G=oe(),q=re(G);Ee(q,e,"default",{get builder(){return F(c)},get isSelected(){return F(s)}},null),z(W,G)},D=W=>{var G=ep();let q;var Y=Fe(G);Ee(Y,e,"default",{get builder(){return F(c)},get isSelected(){return F(s)}},B=>{var A=fr();$e(()=>Ur(A,f()||l())),z(B,A)}),Le(G),ft(G,B=>d(B),()=>d()),Ft(G,B=>{var A,E;return(E=(A=F(c)).action)==null?void 0:E.call(A,B)}),ke(()=>he("m-click",G,g)),ke(()=>he("m-pointermove",G,g)),ke(()=>he("focusin",G,function(B){fe.call(this,e,B)})),ke(()=>he("keydown",G,function(B){fe.call(this,e,B)})),ke(()=>he("focusout",G,function(B){fe.call(this,e,B)})),ke(()=>he("pointerleave",G,function(B){fe.call(this,e,B)})),$e(()=>q=nt(G,q,{...F(c),...n})),z(W,G)};rt($,W=>{h()?W(C):W(D,!1)})}z(t,S),Qe()}var rp=Be("<div><!></div>");function np(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["asChild","el"]);Je(e,!1);const i=_r(),o=()=>Ut(s,"$isSelected",i);let a=N(e,"asChild",8,!1),c=N(e,"el",28,()=>{});const{isSelected:s,value:l,getAttrs:u}=Wh(),f=u("indicator");it();var h=oe(),d=re(h);{var p=m=>{var g=oe(),b=re(g);Ee(b,e,"default",{attrs:f,get isSelected(){return o()(l)}},null),z(m,g)},v=m=>{var g=rp();let b;var S=Fe(g);{var $=C=>{var D=oe(),W=re(D);Ee(W,e,"default",{attrs:f,get isSelected(){return o()(l)}},null),z(C,D)};rt(S,C=>{o()(l)&&C($)})}Le(g),ft(g,C=>c(C),()=>c()),$e(()=>b=nt(g,b,{...n,...f})),z(m,g)};rt(d,m=>{a()?m(p):m(v,!1)})}z(t,h),Qe()}var ip=Be("<button><!></button>");function op(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["asChild","id","el"]);Je(e,!1);const i=_r(),o=()=>Ut(u,"$trigger",i),a=Kr();let c=N(e,"asChild",8,!1),s=N(e,"id",24,()=>{}),l=N(e,"el",28,()=>{});const{elements:{trigger:u},ids:f,getAttrs:h}=en(),d=aa(),p=h("trigger");Ae(()=>be(s()),()=>{s()&&f.trigger.set(s())}),Ae(()=>o(),()=>{dt(a,o())}),Ae(()=>F(a),()=>{Object.assign(F(a),p)}),Yr(),it();var v=oe(),m=re(v);{var g=S=>{var $=oe(),C=re($);Ee(C,e,"default",{get builder(){return F(a)}},null),z(S,$)},b=S=>{var $=ip();let C;var D=Fe($);Ee(D,e,"default",{get builder(){return F(a)}},null),Le($),ft($,W=>l(W),()=>l()),Ft($,W=>{var G,q;return(q=(G=F(a)).action)==null?void 0:q.call(G,W)}),ke(()=>he("m-click",$,d)),ke(()=>he("m-keydown",$,d)),$e(()=>C=nt($,C,{...F(a),type:"button",...n})),z(S,$)};rt(m,S=>{c()?S(g):S(b,!1)})}z(t,v),Qe()}var ap=Be("<span> </span>");function sp(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["placeholder","asChild","el"]);Je(e,!1);const i=_r(),o=()=>Ut(u,"$selectedLabel",i),a=Kr();let c=N(e,"placeholder",8,""),s=N(e,"asChild",8,!1),l=N(e,"el",28,()=>{});const{states:{selectedLabel:u},getAttrs:f}=en(),h=f("value");Ae(()=>o(),()=>{dt(a,o())}),Yr(),it();var d=oe(),p=re(d);{var v=g=>{var b=oe(),S=re(b);Ee(S,e,"default",{get label(){return F(a)},attrs:h},null),z(g,b)},m=g=>{var b=ap();let S;var $=Fe(b,!0);Le(b),ft(b,C=>l(C),()=>l()),$e(()=>{S=nt(b,S,{...n,...h,"data-placeholder":F(a)?void 0:""}),Ur($,F(a)||c())}),z(g,b)};rt(p,g=>{s()?g(v):g(m,!1)})}z(t,d),Qe()}var ms=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tt=t=>!t||typeof t!="object"||Object.keys(t).length===0,cp=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function ul(t,e){t.forEach(function(r){Array.isArray(r)?ul(r,e):e.push(r)})}function fl(t){let e=[];return ul(t,e),e}var dl=(...t)=>fl(t).filter(Boolean),hl=(t,e)=>{let r={},n=Object.keys(t),i=Object.keys(e);for(let o of n)if(i.includes(o)){let a=t[o],c=e[o];Array.isArray(a)||Array.isArray(c)?r[o]=dl(c,a):typeof a=="object"&&typeof c=="object"?r[o]=hl(a,c):r[o]=c+" "+a}else r[o]=t[o];for(let o of i)n.includes(o)||(r[o]=e[o]);return r},ys=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim();const sa="-",lp=t=>{const e=fp(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const c=a.split(sa);return c[0]===""&&c.length!==1&&c.shift(),pl(c,e)||up(a)},getConflictingClassGroupIds:(a,c)=>{const s=r[a]||[];return c&&n[a]?[...s,...n[a]]:s}}},pl=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?pl(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(sa);return(a=e.validators.find(({validator:c})=>c(o)))==null?void 0:a.classGroupId},bs=/^\[(.+)\]$/,up=t=>{if(bs.test(t)){const e=bs.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},fp=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return hp(Object.entries(t.classGroups),r).forEach(([o,a])=>{xo(a,n,o,e)}),n},xo=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:ws(e,i);o.classGroupId=r;return}if(typeof i=="function"){if(dp(i)){xo(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,a])=>{xo(a,ws(e,o),r,n)})})},ws=(t,e)=>{let r=t;return e.split(sa).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},dp=t=>t.isThemeGetter,hp=(t,e)=>e?t.map(([r,n])=>{const i=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,c])=>[e+a,c])):o);return[r,i]}):t,pp=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(o,a)=>{r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return i(o,a),a},set(o,a){r.has(o)?r.set(o,a):i(o,a)}}},vl="!",vp=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],o=e.length,a=c=>{const s=[];let l=0,u=0,f;for(let m=0;m<c.length;m++){let g=c[m];if(l===0){if(g===i&&(n||c.slice(m,m+o)===e)){s.push(c.slice(u,m)),u=m+o;continue}if(g==="/"){f=m;continue}}g==="["?l++:g==="]"&&l--}const h=s.length===0?c:c.substring(u),d=h.startsWith(vl),p=d?h.substring(1):h,v=f&&f>u?f-u:void 0;return{modifiers:s,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:v}};return r?c=>r({className:c,parseClassName:a}):a},gp=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},mp=t=>({cache:pp(t.cacheSize),parseClassName:vp(t),...lp(t)}),yp=/\s+/,bp=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(yp);let c="";for(let s=a.length-1;s>=0;s-=1){const l=a[s],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:d}=r(l);let p=!!d,v=n(p?h.substring(0,d):h);if(!v){if(!p){c=l+(c.length>0?" "+c:c);continue}if(v=n(h),!v){c=l+(c.length>0?" "+c:c);continue}p=!1}const m=gp(u).join(":"),g=f?m+vl:m,b=g+v;if(o.includes(b))continue;o.push(b);const S=i(v,p);for(let $=0;$<S.length;++$){const C=S[$];o.push(g+C)}c=l+(c.length>0?" "+c:c)}return c};function wp(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=gl(e))&&(n&&(n+=" "),n+=r);return n}const gl=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=gl(t[n]))&&(r&&(r+=" "),r+=e);return r};function Io(t,...e){let r,n,i,o=a;function a(s){const l=e.reduce((u,f)=>f(u),t());return r=mp(l),n=r.cache.get,i=r.cache.set,o=c,c(s)}function c(s){const l=n(s);if(l)return l;const u=bp(s,r);return i(s,u),u}return function(){return o(wp.apply(null,arguments))}}const xe=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},ml=/^\[(?:([a-z-]+):)?(.+)\]$/i,_p=/^\d+\/\d+$/,Ep=new Set(["px","full","screen"]),Sp=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ap=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Tp=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Op=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dt=t=>Gr(t)||Ep.has(t)||_p.test(t),qt=t=>tn(t,"length",Mp),Gr=t=>!!t&&!Number.isNaN(Number(t)),Ki=t=>tn(t,"number",Gr),dn=t=>!!t&&Number.isInteger(Number(t)),Rp=t=>t.endsWith("%")&&Gr(t.slice(0,-1)),le=t=>ml.test(t),Xt=t=>Sp.test(t),Pp=new Set(["length","size","percentage"]),xp=t=>tn(t,Pp,yl),Ip=t=>tn(t,"position",yl),Lp=new Set(["image","url"]),Dp=t=>tn(t,Lp,Fp),$p=t=>tn(t,"",kp),hn=()=>!0,tn=(t,e,r)=>{const n=ml.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Mp=t=>Ap.test(t)&&!Cp.test(t),yl=()=>!1,kp=t=>Tp.test(t),Fp=t=>Op.test(t),Lo=()=>{const t=xe("colors"),e=xe("spacing"),r=xe("blur"),n=xe("brightness"),i=xe("borderColor"),o=xe("borderRadius"),a=xe("borderSpacing"),c=xe("borderWidth"),s=xe("contrast"),l=xe("grayscale"),u=xe("hueRotate"),f=xe("invert"),h=xe("gap"),d=xe("gradientColorStops"),p=xe("gradientColorStopPositions"),v=xe("inset"),m=xe("margin"),g=xe("opacity"),b=xe("padding"),S=xe("saturate"),$=xe("scale"),C=xe("sepia"),D=xe("skew"),W=xe("space"),G=xe("translate"),q=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",le,e],A=()=>[le,e],E=()=>["",Dt,qt],y=()=>["auto",Gr,le],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],x=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",le],k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Gr,le];return{cacheSize:500,separator:":",theme:{colors:[hn],spacing:[Dt,qt],blur:["none","",Xt,le],brightness:U(),borderColor:[t],borderRadius:["none","","full",Xt,le],borderSpacing:A(),borderWidth:E(),contrast:U(),grayscale:P(),hueRotate:U(),invert:P(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[Rp,qt],inset:B(),margin:B(),opacity:U(),padding:A(),saturate:U(),scale:U(),sepia:P(),skew:U(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[Xt]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),le]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dn,le]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",dn,le]}],"grid-cols":[{"grid-cols":[hn]}],"col-start-end":[{col:["auto",{span:["full",dn,le]},le]}],"col-start":[{"col-start":y()}],"col-end":[{"col-end":y()}],"grid-rows":[{"grid-rows":[hn]}],"row-start-end":[{row:["auto",{span:[dn,le]},le]}],"row-start":[{"row-start":y()}],"row-end":[{"row-end":y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...x()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...x(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...x(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,e]}],"min-w":[{"min-w":[le,e,"min","max","fit"]}],"max-w":[{"max-w":[le,e,"none","full","min","max","fit","prose",{screen:[Xt]},Xt]}],h:[{h:[le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xt,qt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ki]}],"font-family":[{font:[hn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",Gr,Ki]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dt,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dt,qt]}],"underline-offset":[{"underline-offset":["auto",Dt,le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),Ip]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xp]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Dp]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:T()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[Dt,le]}],"outline-w":[{outline:[Dt,qt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Dt,qt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xt,$p]}],"shadow-color":[{shadow:[hn]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",Xt,le]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[dn,le]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Dt,qt,Ki]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Bp=(t,{cacheSize:e,prefix:r,separator:n,experimentalParseClassName:i,extend:o={},override:a={}})=>{yn(t,"cacheSize",e),yn(t,"prefix",r),yn(t,"separator",n),yn(t,"experimentalParseClassName",i);for(const c in a)jp(t[c],a[c]);for(const c in o)Np(t[c],o[c]);return t},yn=(t,e,r)=>{r!==void 0&&(t[e]=r)},jp=(t,e)=>{if(e)for(const r in e)yn(t,r,e[r])},Np=(t,e)=>{if(e)for(const r in e){const n=e[r];n!==void 0&&(t[r]=(t[r]||[]).concat(n))}},Up=(t,...e)=>typeof t=="function"?Io(Lo,t,...e):Io(()=>Bp(Lo(),t),...e),bl=Io(Lo);var Vp={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},wl=t=>t||void 0,Cn=(...t)=>wl(fl(t).filter(Boolean).join(" ")),qi=null,kt={},Do=!1,pn=(...t)=>e=>e.twMerge?((!qi||Do)&&(Do=!1,qi=tt(kt)?bl:Up({...kt,extend:{theme:kt.theme,classGroups:kt.classGroups,conflictingClassGroupModifiers:kt.conflictingClassGroupModifiers,conflictingClassGroups:kt.conflictingClassGroups,...kt.extend}})),wl(qi(Cn(t)))):Cn(t),_s=(t,e)=>{for(let r in e)t.hasOwnProperty(r)?t[r]=Cn(t[r],e[r]):t[r]=e[r];return t},Gp=(t,e)=>{let{extend:r=null,slots:n={},variants:i={},compoundVariants:o=[],compoundSlots:a=[],defaultVariants:c={}}=t,s={...Vp,...e},l=r!=null&&r.base?Cn(r.base,t==null?void 0:t.base):t==null?void 0:t.base,u=r!=null&&r.variants&&!tt(r.variants)?hl(i,r.variants):i,f=r!=null&&r.defaultVariants&&!tt(r.defaultVariants)?{...r.defaultVariants,...c}:c;!tt(s.twMergeConfig)&&!cp(s.twMergeConfig,kt)&&(Do=!0,kt=s.twMergeConfig);let h=tt(r==null?void 0:r.slots),d=tt(n)?{}:{base:Cn(t==null?void 0:t.base,h&&(r==null?void 0:r.base)),...n},p=h?d:_s({...r==null?void 0:r.slots},tt(d)?{base:t==null?void 0:t.base}:d),v=tt(r==null?void 0:r.compoundVariants)?o:dl(r==null?void 0:r.compoundVariants,o),m=b=>{if(tt(u)&&tt(n)&&h)return pn(l,b==null?void 0:b.class,b==null?void 0:b.className)(s);if(v&&!Array.isArray(v))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof v}`);if(a&&!Array.isArray(a))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof a}`);let S=(A,E,y=[],_)=>{let T=y;if(typeof E=="string")T=T.concat(ys(E).split(" ").map(R=>`${A}:${R}`));else if(Array.isArray(E))T=T.concat(E.reduce((R,x)=>R.concat(`${A}:${x}`),[]));else if(typeof E=="object"&&typeof _=="string"){for(let R in E)if(E.hasOwnProperty(R)&&R===_){let x=E[R];if(x&&typeof x=="string"){let P=ys(x);T[_]?T[_]=T[_].concat(P.split(" ").map(k=>`${A}:${k}`)):T[_]=P.split(" ").map(k=>`${A}:${k}`)}else Array.isArray(x)&&x.length>0&&(T[_]=x.reduce((P,k)=>P.concat(`${A}:${k}`),[]))}}return T},$=(A,E=u,y=null,_=null)=>{var T;let R=E[A];if(!R||tt(R))return null;let x=(T=_==null?void 0:_[A])!=null?T:b==null?void 0:b[A];if(x===null)return null;let P=ms(x),k=Array.isArray(s.responsiveVariants)&&s.responsiveVariants.length>0||s.responsiveVariants===!0,U=f==null?void 0:f[A],V=[];if(typeof P=="object"&&k)for(let[I,X]of Object.entries(P)){let ee=R[X];if(I==="initial"){U=X;continue}Array.isArray(s.responsiveVariants)&&!s.responsiveVariants.includes(I)||(V=S(I,ee,V,y))}let w=P!=null&&typeof P!="object"?P:ms(U),O=R[w||"false"];return typeof V=="object"&&typeof y=="string"&&V[y]?_s(V,O):V.length>0?(V.push(O),y==="base"?V.join(" "):V):O},C=()=>u?Object.keys(u).map(A=>$(A,u)):null,D=(A,E)=>{if(!u||typeof u!="object")return null;let y=new Array;for(let _ in u){let T=$(_,u,A,E),R=A==="base"&&typeof T=="string"?T:T&&T[A];R&&(y[y.length]=R)}return y},W={};for(let A in b)b[A]!==void 0&&(W[A]=b[A]);let G=(A,E)=>{var y;let _=typeof(b==null?void 0:b[A])=="object"?{[A]:(y=b[A])==null?void 0:y.initial}:{};return{...f,...W,..._,...E}},q=(A=[],E)=>{let y=[];for(let{class:_,className:T,...R}of A){let x=!0;for(let[P,k]of Object.entries(R)){let U=G(P,E)[P];if(Array.isArray(k)){if(!k.includes(U)){x=!1;break}}else{let V=w=>w==null||w===!1;if(V(k)&&V(U))continue;if(U!==k){x=!1;break}}}x&&(_&&y.push(_),T&&y.push(T))}return y},Y=A=>{let E=q(v,A);if(!Array.isArray(E))return E;let y={};for(let _ of E)if(typeof _=="string"&&(y.base=pn(y.base,_)(s)),typeof _=="object")for(let[T,R]of Object.entries(_))y[T]=pn(y[T],R)(s);return y},B=A=>{if(a.length<1)return null;let E={};for(let{slots:y=[],class:_,className:T,...R}of a){if(!tt(R)){let x=!0;for(let P of Object.keys(R)){let k=G(P,A)[P];if(k===void 0||(Array.isArray(R[P])?!R[P].includes(k):R[P]!==k)){x=!1;break}}if(!x)continue}for(let x of y)E[x]=E[x]||[],E[x].push([_,T])}return E};if(!tt(n)||!h){let A={};if(typeof p=="object"&&!tt(p))for(let E of Object.keys(p))A[E]=y=>{var _,T;return pn(p[E],D(E,y),((_=Y(y))!=null?_:[])[E],((T=B(y))!=null?T:[])[E],y==null?void 0:y.class,y==null?void 0:y.className)(s)};return A}return pn(l,C(),q(v),b==null?void 0:b.class,b==null?void 0:b.className)(s)},g=()=>{if(!(!u||typeof u!="object"))return Object.keys(u)};return m.variantKeys=g(),m.extend=r,m.base=l,m.slots=p,m.variants=u,m.defaultVariants=f,m.compoundSlots=a,m.compoundVariants=v,m};const zp=Gp({base:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function _l(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=_l(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Wp(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=_l(t))&&(n&&(n+=" "),n+=e);return n}function Hp(t){const e=t-1;return e*e*e+1}function Mn(...t){return bl(Wp(t))}const Kp=(t,e={y:-8,x:0,start:.95,duration:150})=>{const r=getComputedStyle(t),n=r.transform==="none"?"":r.transform,i=(a,c,s)=>{const[l,u]=c,[f,h]=s;return(a-l)/(u-l)*(h-f)+f},o=a=>Object.keys(a).reduce((c,s)=>a[s]===void 0?c:c+`${s}:${a[s]};`,"");return{duration:e.duration??200,delay:0,css:a=>{const c=i(a,[0,1],[e.y??5,0]),s=i(a,[0,1],[e.x??0,0]),l=i(a,[0,1],[e.start??.95,1]);return o({transform:`${n} translate3d(${s}px, ${c}px, 0) scale(${l})`,opacity:a})},easing:Hp}};function ni(t){return new Promise(e=>{t.play(),t.onended=e})}function qp(t,e){return JSON.stringify(t)!==JSON.stringify(e)}function Yt(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["class","variant","size","builders"]);Je(e,!1);let i=N(e,"class",8,void 0),o=N(e,"variant",8,"default"),a=N(e,"size",8,"default"),c=N(e,"builders",24,()=>[]);it();var s=mr(()=>Mn(zp({variant:o(),size:a(),className:i()})));Mh(t,ct({get builders(){return c()},get class(){return F(s)},type:"button"},()=>n,{$$events:{click(l){fe.call(this,e,l)},keydown(l){fe.call(this,e,l)}},children:(l,u)=>{var f=oe(),h=re(f);Ee(h,e,"default",{},null),z(l,f)},$$slots:{default:!0}})),Qe()}/**
 * @license lucide-svelte v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Yp=gu("<svg><!><!></svg>");function or(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Je(e,!1);let i=N(e,"name",8,void 0),o=N(e,"color",8,"currentColor"),a=N(e,"size",8,24),c=N(e,"strokeWidth",8,2),s=N(e,"absoluteStrokeWidth",8,!1),l=N(e,"iconNode",24,()=>[]);const u=(...v)=>v.filter((m,g,b)=>!!m&&b.indexOf(m)===g).join(" ");it();var f=Yp();let h;var d=Fe(f);Lr(d,1,l,Ir,(v,m)=>{let g=()=>F(m)[0],b=()=>F(m)[1];var S=oe(),$=re(S);Eo($,g,!0,(C,D)=>{let W;$e(()=>W=nt(C,W,{...b()},void 0,C.namespaceURI===fi,C.nodeName.includes("-")))}),z(v,S)});var p=Ne(d);Ee(p,e,"default",{},null),Le(f),$e(()=>h=nt(f,h,{...Xp,...n,width:a(),height:a(),stroke:o(),"stroke-width":s()?Number(c())*24/Number(a()):c(),class:u("lucide-icon","lucide",i()?`lucide-${i()}`:"",r.class)},void 0,!0)),z(t,f),Qe()}function Jp(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]);or(t,ct({name:"check"},()=>r,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(i,o)=>{var a=oe(),c=re(a);Ee(c,e,"default",{},null),z(i,a)},$$slots:{default:!0}}))}var Qp=Be('<span class="absolute left-2 flex h-3.5 w-3.5 items-center justify-center"><!></span> <!>',1);function Xi(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["class","value","label","disabled"]);Je(e,!1);let i=N(e,"class",8,void 0),o=N(e,"value",8),a=N(e,"label",8,void 0),c=N(e,"disabled",8,void 0);it();var s=mr(()=>Mn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:opacity-50",i()));tp(t,ct({get value(){return o()},get disabled(){return c()},get label(){return a()},get class(){return F(s)}},()=>n,{$$events:{click(l){fe.call(this,e,l)},keydown(l){fe.call(this,e,l)},focusin(l){fe.call(this,e,l)},focusout(l){fe.call(this,e,l)},pointerleave(l){fe.call(this,e,l)},pointermove(l){fe.call(this,e,l)}},children:(l,u)=>{var f=Qp(),h=re(f),d=Fe(h);np(d,{children:(v,m)=>{Jp(v,{class:"h-4 w-4"})},$$slots:{default:!0}}),Le(h);var p=Ne(h,2);Ee(p,e,"default",{},v=>{var m=fr();$e(()=>Ur(m,a()||o())),z(v,m)}),z(l,f)},$$slots:{default:!0}})),Qe()}function Zp(t){const e=t-1;return e*e*e+1}function ev(t,{delay:e=0,duration:r=400,easing:n=Zp,start:i=0,opacity:o=0}={}){const a=getComputedStyle(t),c=+a.opacity,s=a.transform==="none"?"":a.transform,l=1-i,u=c*(1-o);return{delay:e,duration:r,easing:n,css:(f,h)=>`
			transform: ${s} scale(${1-l*h});
			opacity: ${c-u*h}
		`}}var tv=Be('<div class="w-full p-1"><!></div>');function Yi(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["sideOffset","inTransition","inTransitionConfig","outTransition","outTransitionConfig","class"]);Je(e,!1);let i=N(e,"sideOffset",8,4),o=N(e,"inTransition",8,Kp),a=N(e,"inTransitionConfig",8,void 0),c=N(e,"outTransition",8,ev),s=N(e,"outTransitionConfig",24,()=>({start:.95,opacity:0,duration:50})),l=N(e,"class",8,void 0);it();var u=mr(()=>Mn("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md outline-none",l()));Zh(t,ct({get inTransition(){return o()},get inTransitionConfig(){return a()},get outTransition(){return c()},get outTransitionConfig(){return s()},get sideOffset(){return i()},get class(){return F(u)}},()=>n,{$$events:{keydown(f){fe.call(this,e,f)}},children:(f,h)=>{var d=tv(),p=Fe(d);Ee(p,e,"default",{},null),Le(d),z(f,d)},$$slots:{default:!0}})),Qe()}function El(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]);or(t,ct({name:"chevron-down"},()=>r,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(i,o)=>{var a=oe(),c=re(a);Ee(c,e,"default",{},null),z(i,a)},$$slots:{default:!0}}))}var rv=Be("<!> <div><!></div>",1);function Ji(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["class"]);Je(e,!1);let i=N(e,"class",8,void 0);it();var o=mr(()=>Mn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",i()));op(t,ct({get class(){return F(o)}},()=>n,{$$events:{click(a){fe.call(this,e,a)},keydown(a){fe.call(this,e,a)}},children:ju,$$slots:{default:(a,c)=>{const s=mr(()=>c.builder);var l=rv(),u=re(l);Ee(u,e,"default",{get builder(){return F(s)}},null);var f=Ne(u,2),h=Fe(f);El(h,{class:"h-4 w-4 opacity-50"}),Le(f),z(a,l)}}})),Qe()}const Qi=Kh,Zi=sp;function nv(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]),n=ye(r,["class","orientation","decorative"]);Je(e,!1);let i=N(e,"class",8,void 0),o=N(e,"orientation",8,"horizontal"),a=N(e,"decorative",8,void 0);it();var c=mr(()=>Mn("shrink-0 bg-border",o()==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",i()));Vh(t,ct({get class(){return F(c)},get orientation(){return o()},get decorative(){return a()}},()=>n)),Qe()}const lr={labyrinth_train:{matrix:[[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,1,1,1,1],[0,0,0,0,0,0,1]],initialPosition:{x:6,y:4},initialOrientation:"north",targetPosition:{x:3,y:0},type:"labyrinth"},labyrinth_p1:{matrix:[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,1,0,0,1,1],[1,0,0,0,1,1,0],[1,0,0,0,1,0,0]],initialPosition:{x:4,y:4},initialOrientation:"north",targetPosition:{x:3,y:0},type:"labyrinth"},labyrinth_p2:{matrix:[[1,1,1,1,0,0,0],[1,0,0,0,0,0,0],[1,0,0,0,0,0,0],[1,1,1,1,0,0,0],[0,0,1,0,0,0,0]],initialPosition:{x:2,y:4},initialOrientation:"north",targetPosition:{x:3,y:0},type:"labyrinth"},labyrinth_p3:{matrix:[[1,1,0,0,1,0,0],[1,0,0,0,1,0,0],[1,1,1,1,1,0,0],[0,0,0,0,1,0,0],[0,0,0,0,1,0,0]],initialPosition:{x:4,y:0},initialOrientation:"south",targetPosition:{x:1,y:0},type:"labyrinth"},labyrinth_p4:{matrix:[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[1,1,1,0,1,1,1],[1,0,1,0,1,0,0],[1,0,1,1,1,0,0]],initialPosition:{x:0,y:4},initialOrientation:"north",targetPosition:{x:6,y:2},type:"labyrinth"},labyrinth_p5:{matrix:[[0,0,0,0,0,1,0],[0,0,0,0,0,1,1],[0,0,1,1,1,0,1],[0,0,0,0,1,0,1],[0,0,0,0,1,1,1]],initialPosition:{x:2,y:2},initialOrientation:"east",targetPosition:{x:0,y:5},type:"labyrinth"},labyrinth_p6:{matrix:[[0,0,0,0,0,0,1],[0,0,0,1,1,1,1],[0,0,0,1,0,0,0],[0,0,0,1,1,1,1],[0,0,0,0,0,0,0]],initialPosition:{x:6,y:3},initialOrientation:"west",targetPosition:{x:6,y:0},type:"labyrinth"}},Or={maze_p1:{matrix:[[0,0,0,0,0,0,0],[18,18,25,10,0,0,0],[0,0,0,4,10,24,21],[0,0,0,0,0,0,12],[0,0,0,0,0,0,8]],initialPosition:{x:6,y:4},initialOrientation:"north",targetPosition:{x:0,y:1},targetResult:150,type:"maze"},maze_p2:{matrix:[[0,0,0,0,0,0,0],[0,0,25,10,24,18,12],[8,24,15,0,0,0,0],[21,0,0,0,0,0,0],[18,0,0,0,0,0,0]],initialPosition:{x:0,y:4},initialOrientation:"north",targetPosition:{x:1,y:6},targetResult:150,type:"maze"},maze_p3:{matrix:[[0,0,0,12,0,0,0],[56,4,10,9,0,0,0],[5,0,0,0,0,0,0],[12,48,0,0,0,0,0],[0,14,0,0,0,0,0]],initialPosition:{x:1,y:4},initialOrientation:"north",targetPosition:{x:3,y:0},targetResult:170,type:"maze"},maze_p4:{matrix:[[0,0,0,9,0,0,0],[0,0,0,9,8,24,7],[0,0,0,0,0,0,20],[0,0,0,0,0,24,63],[0,0,0,0,0,6,0]],initialPosition:{x:5,y:4},initialOrientation:"north",targetPosition:{x:3,y:0},targetResult:170,type:"maze"},maze_p5:{matrix:[[0,0,0,0,0,0,0],[0,0,56,9,2,30,10],[0,0,30,0,0,0,0],[0,8,12,0,0,0,0],[0,3,0,0,0,0,0]],initialPosition:{x:1,y:4},initialOrientation:"east",targetPosition:{x:6,y:1},targetResult:160,type:"maze"},maze_p6:{matrix:[[0,0,0,0,0,0,0],[10,15,14,56,9,0,0],[0,0,0,0,30,0,0],[0,0,0,0,12,8,0],[0,0,0,0,0,4,2]],initialPosition:{x:6,y:4},initialOrientation:"west",targetPosition:{x:0,y:1},targetResult:160,type:"maze"}};class Sl{}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $o=function(t,e){return $o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$o(t,e)};function Gt(t,e){function r(){this.constructor=t}$o(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function J(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(l){try{s(n.next(l))}catch(u){o(u)}}function c(l){try{s(n.throw(l))}catch(u){o(u)}}function s(l){var u;l.done?i(l.value):(u=l.value,u instanceof r?u:new r(function(f){f(u)})).then(a,c)}s((n=n.apply(t,e||[])).next())})}function Q(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(s){return function(l){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(f){u=[6,f],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([s,l])}}}var Es,iv=function(){function t(e){e===void 0&&(e=1),this.concurrent=e,this.queue=[],this.running=0}return t.prototype.pump=function(){return J(this,void 0,void 0,function(){var e,r,n;return Q(this,function(i){switch(i.label){case 0:if(this.running>=this.concurrent)return[2];if(!(e=this.queue.shift()))return[2];this.running++,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.fn()];case 2:return r=i.sent(),e.resolve(r),[3,4];case 3:return n=i.sent(),e.reject(n),[3,4];case 4:return this.running--,[2,this.pump()]}})})},t.prototype.add=function(e){var r=this;return new Promise(function(n,i){return r.queue.push({fn:e,resolve:n,reject:i}),r.pump()})},t}(),Er=function(){function t(e,r){this.service=e,this.emitter=r}return t.prototype.getCharacteristic=function(e){return J(this,void 0,void 0,function(){var r;return Q(this,function(n){switch(n.label){case 0:return this.characteristics?[3,2]:(r=this,[4,this.service.getCharacteristics()]);case 1:r.characteristics=n.sent(),n.label=2;case 2:return[2,this.characteristics.find(function(i){return i.uuid===e})]}})})},t.prototype.getCharacteristicValue=function(e){return J(this,void 0,void 0,function(){var r,n=this;return Q(this,function(i){switch(i.label){case 0:return[4,this.getCharacteristic(e)];case 1:if(!(r=i.sent()))throw new Error("Unable to locate characteristic");return[4,t.queue.add(function(){return J(n,void 0,void 0,function(){return Q(this,function(o){return[2,r.readValue()]})})})];case 2:return[2,i.sent()]}})})},t.prototype.setCharacteristicValue=function(e,r){return J(this,void 0,void 0,function(){var n,i=this;return Q(this,function(o){switch(o.label){case 0:return[4,this.getCharacteristic(e)];case 1:if(!(n=o.sent()))throw new Error("Unable to locate characteristic");return[4,t.queue.add(function(){return J(i,void 0,void 0,function(){return Q(this,function(a){return[2,n.writeValue(r)]})})})];case 2:return o.sent(),[2]}})})},t.prototype.handleListener=function(e,r,n){return J(this,void 0,void 0,function(){var i,o=this;return Q(this,function(a){switch(a.label){case 0:return[4,this.getCharacteristic(r)];case 1:return(i=a.sent())?[4,t.queue.add(function(){return J(o,void 0,void 0,function(){return Q(this,function(c){return[2,i.startNotifications()]})})})]:[2];case 2:return a.sent(),this.emitter.on("newListener",function(c){if(!(c!==e||o.emitter.listenerCount(e)>0))return t.queue.add(function(){return J(o,void 0,void 0,function(){return Q(this,function(s){return[2,i.addEventListener("characteristicvaluechanged",n)]})})})}),this.emitter.on("removeListener",function(c){if(!(c!==e||o.emitter.listenerCount(e)>0))return t.queue.add(function(){return J(o,void 0,void 0,function(){return Q(this,function(s){return[2,i.removeEventListener("characteristicvaluechanged",n)]})})})}),[2]}})})},t.queue=new iv,t}();(function(t){t.modelNumber="00002a24-0000-1000-8000-00805f9b34fb",t.serialNumber="00002a25-0000-1000-8000-00805f9b34fb",t.firmwareRevision="00002a26-0000-1000-8000-00805f9b34fb",t.hardwareRevision="00002a27-0000-1000-8000-00805f9b34fb",t.manufacturer="00002a29-0000-1000-8000-00805f9b34fb"})(Es||(Es={}));function Jt(){}function Se(){Se.init.call(this)}function Al(t){return t._maxListeners===void 0?Se.defaultMaxListeners:t._maxListeners}function Ss(t,e,r,n){var i,o,a,c;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]):(o=t._events=new Jt,t._eventsCount=0),a){if(typeof a=="function"?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),!a.warned&&(i=Al(t))&&i>0&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,c=s,typeof console.warn=="function"?console.warn(c):console.log(c)}}else a=o[e]=r,++t._eventsCount;return t}function As(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}function Cs(t){var e=this._events;if(e){var r=e[t];if(typeof r=="function")return 1;if(r)return r.length}return 0}function vn(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}Jt.prototype=Object.create(null),Se.EventEmitter=Se,Se.usingDomains=!1,Se.prototype.domain=void 0,Se.prototype._events=void 0,Se.prototype._maxListeners=void 0,Se.defaultMaxListeners=10,Se.init=function(){this.domain=null,Se.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Jt,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Se.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Se.prototype.getMaxListeners=function(){return Al(this)},Se.prototype.emit=function(t){var e,r,n,i,o,a,c,s=t==="error";if(a=this._events)s=s&&a.error==null;else if(!s)return!1;if(c=this.domain,s){if(e=arguments[1],!c){if(e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=c,e.domainThrown=!1,c.emit("error",e),!1}if(!(r=a[t]))return!1;var u=typeof r=="function";switch(n=arguments.length){case 1:(function(f,h,d){if(h)f.call(d);else for(var p=f.length,v=vn(f,p),m=0;m<p;++m)v[m].call(d)})(r,u,this);break;case 2:(function(f,h,d,p){if(h)f.call(d,p);else for(var v=f.length,m=vn(f,v),g=0;g<v;++g)m[g].call(d,p)})(r,u,this,arguments[1]);break;case 3:(function(f,h,d,p,v){if(h)f.call(d,p,v);else for(var m=f.length,g=vn(f,m),b=0;b<m;++b)g[b].call(d,p,v)})(r,u,this,arguments[1],arguments[2]);break;case 4:(function(f,h,d,p,v,m){if(h)f.call(d,p,v,m);else for(var g=f.length,b=vn(f,g),S=0;S<g;++S)b[S].call(d,p,v,m)})(r,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];(function(f,h,d,p){if(h)f.apply(d,p);else for(var v=f.length,m=vn(f,v),g=0;g<v;++g)m[g].apply(d,p)})(r,u,this,i)}return!0},Se.prototype.addListener=function(t,e){return Ss(this,t,e,!1)},Se.prototype.on=Se.prototype.addListener,Se.prototype.prependListener=function(t,e){return Ss(this,t,e,!0)},Se.prototype.once=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,As(this,t,e)),this},Se.prototype.prependOnceListener=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,As(this,t,e)),this},Se.prototype.removeListener=function(t,e){var r,n,i,o,a;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[t]))return this;if(r===e||r.listener&&r.listener===e)--this._eventsCount==0?this._events=new Jt:(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(i=-1,o=r.length;o-- >0;)if(r[o]===e||r[o].listener&&r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;if(r.length===1){if(r[0]=void 0,--this._eventsCount==0)return this._events=new Jt,this;delete n[t]}else(function(c,s){for(var l=s,u=l+1,f=c.length;u<f;l+=1,u+=1)c[l]=c[u];c.pop()})(r,i);n.removeListener&&this.emit("removeListener",t,a||e)}return this},Se.prototype.off=function(t,e){return this.removeListener(t,e)},Se.prototype.removeAllListeners=function(t){var e,r;if(!(r=this._events))return this;if(!r.removeListener)return arguments.length===0?(this._events=new Jt,this._eventsCount=0):r[t]&&(--this._eventsCount==0?this._events=new Jt:delete r[t]),this;if(arguments.length===0){for(var n,i=Object.keys(r),o=0;o<i.length;++o)(n=i[o])!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new Jt,this._eventsCount=0,this}if(typeof(e=r[t])=="function")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},Se.prototype.listeners=function(t){var e,r=this._events;return r&&(e=r[t])?typeof e=="function"?[e.listener||e]:function(n){for(var i=new Array(n.length),o=0;o<i.length;++o)i[o]=n[o].listener||n[o];return i}(e):[]},Se.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Cs.call(t,e)},Se.prototype.listenerCount=Cs,Se.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Mr,Ts,ar=function(t){function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isEventListenerObject=function(n){return n.handleEvent!==void 0},r}return Gt(e,t),e.prototype.addEventListener=function(r,n){if(n){var i=this.isEventListenerObject(n)?n.handleEvent:n;t.prototype.addListener.call(this,r,i)}},e.prototype.removeEventListener=function(r,n){if(n){var i=this.isEventListenerObject(n)?n.handleEvent:n;t.prototype.removeListener.call(this,r,i)}},e.prototype.dispatchEvent=function(r,n){var i;return i=typeof r=="string"?new CustomEvent(r,{detail:n}):r,t.prototype.emit.call(this,i.type,i)},e}(Se);(function(t){t.buttonAState="e95dda90-251d-470a-a062-fa1922dfa9a8",t.buttonBState="e95dda91-251d-470a-a062-fa1922dfa9a8"})(Mr||(Mr={})),function(t){t[t.Release=0]="Release",t[t.ShortPress=1]="ShortPress",t[t.LongPress=2]="LongPress"}(Ts||(Ts={}));var Os;(function(t){function e(r){var n=t.call(this)||this;return n.helper=new Er(r,n),n}return Gt(e,t),e.create=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){switch(i.label){case 0:return[4,(n=new e(r)).init()];case 1:return i.sent(),[2,n]}})})},e.prototype.init=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.handleListener("buttonastatechanged",Mr.buttonAState,this.buttonAStateChangedHandler.bind(this))];case 1:return r.sent(),[4,this.helper.handleListener("buttonbstatechanged",Mr.buttonBState,this.buttonBStateChangedHandler.bind(this))];case 2:return r.sent(),[2]}})})},e.prototype.readButtonAState=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.getCharacteristicValue(Mr.buttonAState)];case 1:return[2,r.sent().getUint8(0)]}})})},e.prototype.readButtonBState=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.getCharacteristicValue(Mr.buttonBState)];case 1:return[2,r.sent().getUint8(0)]}})})},e.prototype.buttonAStateChangedHandler=function(r){var n=r.target.value;this.dispatchEvent("buttonastatechanged",n.getUint8(0))},e.prototype.buttonBStateChangedHandler=function(r){var n=r.target.value;this.dispatchEvent("buttonbstatechanged",n.getUint8(0))},e.uuid="e95d9882-251d-470a-a062-fa1922dfa9a8",e})(ar);(function(t){t.ledMatrixState="e95d7b77-251d-470a-a062-fa1922dfa9a8",t.ledText="e95d93ee-251d-470a-a062-fa1922dfa9a8",t.scrollingDelay="e95d0d2d-251d-470a-a062-fa1922dfa9a8"})(Os||(Os={}));var kr;(function(t){t.temperature="e95d9250-251d-470a-a062-fa1922dfa9a8",t.temperaturePeriod="e95d1b25-251d-470a-a062-fa1922dfa9a8"})(kr||(kr={}));var Fr;(function(t){function e(r){var n=t.call(this)||this;return n.helper=new Er(r,n),n}return Gt(e,t),e.create=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){switch(i.label){case 0:return[4,(n=new e(r)).init()];case 1:return i.sent(),[2,n]}})})},e.prototype.init=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.handleListener("temperaturechanged",kr.temperature,this.temperatureChangedHandler.bind(this))];case 1:return r.sent(),[2]}})})},e.prototype.readTemperature=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.getCharacteristicValue(kr.temperature)];case 1:return[2,r.sent().getInt8(0)]}})})},e.prototype.getTemperaturePeriod=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.getCharacteristicValue(kr.temperaturePeriod)];case 1:return[2,r.sent().getUint16(0,!0)]}})})},e.prototype.setTemperaturePeriod=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){switch(i.label){case 0:return(n=new DataView(new ArrayBuffer(2))).setUint16(0,r,!0),[4,this.helper.setCharacteristicValue(kr.temperaturePeriod,n)];case 1:return[2,i.sent()]}})})},e.prototype.temperatureChangedHandler=function(r){var n=r.target.value;this.dispatchEvent("temperaturechanged",n.getInt8(0))},e.uuid="e95d6100-251d-470a-a062-fa1922dfa9a8",e})(ar);(function(t){t.accelerometerData="e95dca4b-251d-470a-a062-fa1922dfa9a8",t.accelerometerPeriod="e95dfb24-251d-470a-a062-fa1922dfa9a8"})(Fr||(Fr={}));var Et,Rs;(function(t){function e(r){var n=t.call(this)||this;return n.helper=new Er(r,n),n}return Gt(e,t),e.create=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){switch(i.label){case 0:return[4,(n=new e(r)).init()];case 1:return i.sent(),[2,n]}})})},e.prototype.init=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.handleListener("accelerometerdatachanged",Fr.accelerometerData,this.accelerometerDataChangedHandler.bind(this))];case 1:return r.sent(),[2]}})})},e.prototype.readAccelerometerData=function(){return J(this,void 0,void 0,function(){var r;return Q(this,function(n){switch(n.label){case 0:return[4,this.helper.getCharacteristicValue(Fr.accelerometerData)];case 1:return r=n.sent(),[2,this.dataViewToAccelerometerData(r)]}})})},e.prototype.getAccelerometerPeriod=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.getCharacteristicValue(Fr.accelerometerPeriod)];case 1:return[2,r.sent().getUint16(0,!0)]}})})},e.prototype.setAccelerometerPeriod=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){return(n=new DataView(new ArrayBuffer(2))).setUint16(0,r,!0),[2,this.helper.setCharacteristicValue(Fr.accelerometerPeriod,n)]})})},e.prototype.accelerometerDataChangedHandler=function(r){var n=r.target.value,i=this.dataViewToAccelerometerData(n);this.dispatchEvent("accelerometerdatachanged",i)},e.prototype.dataViewToAccelerometerData=function(r){return{x:r.getInt16(0,!0)/1e3,y:r.getInt16(2,!0)/1e3,z:r.getInt16(4,!0)/1e3}},e.uuid="e95d0753-251d-470a-a062-fa1922dfa9a8",e})(ar);(function(t){t.magnetometerData="e95dfb11-251d-470a-a062-fa1922dfa9a8",t.magnetometerPeriod="e95d386c-251d-470a-a062-fa1922dfa9a8",t.magnetometerBearing="e95d9715-251d-470a-a062-fa1922dfa9a8",t.magnetometerCalibration="e95db358-251d-470a-a062-fa1922dfa9a8"})(Et||(Et={})),function(t){t[t.unknown=0]="unknown",t[t.requested=1]="requested",t[t.completed=2]="completed",t[t.errored=3]="errored"}(Rs||(Rs={}));var St;(function(t){function e(r){var n=t.call(this)||this;return n.helper=new Er(r,n),n}return Gt(e,t),e.create=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){switch(i.label){case 0:return[4,(n=new e(r)).init()];case 1:return i.sent(),[2,n]}})})},e.prototype.init=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.handleListener("magnetometerdatachanged",Et.magnetometerData,this.magnetometerDataChangedHandler.bind(this))];case 1:return r.sent(),[4,this.helper.handleListener("magnetometerbearingchanged",Et.magnetometerBearing,this.magnetometerBearingChangedHandler.bind(this))];case 2:return r.sent(),[4,this.helper.handleListener("magnetometercalibrationchanged",Et.magnetometerCalibration,this.magnetometerCalibrationChangedHandler.bind(this))];case 3:return r.sent(),[2]}})})},e.prototype.calibrate=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){return[2,this.helper.setCharacteristicValue(Et.magnetometerCalibration,new Uint8Array([1]))]})})},e.prototype.readMagnetometerData=function(){return J(this,void 0,void 0,function(){var r;return Q(this,function(n){switch(n.label){case 0:return[4,this.helper.getCharacteristicValue(Et.magnetometerData)];case 1:return r=n.sent(),[2,this.dataViewToMagnetometerData(r)]}})})},e.prototype.readMagnetometerBearing=function(){return J(this,void 0,void 0,function(){var r;return Q(this,function(n){switch(n.label){case 0:return[4,this.helper.getCharacteristicValue(Et.magnetometerBearing)];case 1:return(r=n.sent()).byteLength===2?[2,r.getUint16(0,!0)]:[2,void 0]}})})},e.prototype.getMagnetometerPeriod=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.getCharacteristicValue(Et.magnetometerPeriod)];case 1:return[2,r.sent().getUint16(0,!0)]}})})},e.prototype.setMagnetometerPeriod=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){return(n=new DataView(new ArrayBuffer(2))).setUint16(0,r,!0),[2,this.helper.setCharacteristicValue(Et.magnetometerPeriod,n)]})})},e.prototype.magnetometerDataChangedHandler=function(r){var n=r.target.value,i=this.dataViewToMagnetometerData(n);this.dispatchEvent("magnetometerdatachanged",i)},e.prototype.magnetometerBearingChangedHandler=function(r){var n=r.target.value;n.byteLength===2&&this.dispatchEvent("magnetometerbearingchanged",n.getUint16(0,!0))},e.prototype.magnetometerCalibrationChangedHandler=function(r){var n=r.target.value;n.byteLength===1&&this.dispatchEvent("magnetometercalibrationchanged",n.getUint8(0))},e.prototype.dataViewToMagnetometerData=function(r){return{x:r.getInt16(0,!0),y:r.getInt16(1,!0),z:r.getInt16(2,!0)}},e.uuid="e95df2d8-251d-470a-a062-fa1922dfa9a8",e})(ar);(function(t){t.pinData="e95d8d00-251d-470a-a062-fa1922dfa9a8",t.pinAdConfiguration="e95d5899-251d-470a-a062-fa1922dfa9a8",t.pinIoConfiguration="e95db9fe-251d-470a-a062-fa1922dfa9a8",t.pwmControl="e95dd822-251d-470a-a062-fa1922dfa9a8"})(St||(St={}));var Ps,xs,eo=!0;(function(t){t[t.Digital=0]="Digital",t[t.Analogue=1]="Analogue"})(Ps||(Ps={})),function(t){t[t.Output=0]="Output",t[t.Input=1]="Input"}(xs||(xs={}));var Br;(function(t){function e(r){var n=t.call(this)||this;return n.helper=new Er(r,n),n}return Gt(e,t),e.create=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){switch(i.label){case 0:return[4,(n=new e(r)).init()];case 1:return i.sent(),[2,n]}})})},e.prototype.init=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.handleListener("pindatachanged",St.pinData,this.pinDataChangedHandler.bind(this))];case 1:return r.sent(),[2]}})})},e.prototype.readPinData=function(){return J(this,void 0,void 0,function(){var r;return Q(this,function(n){switch(n.label){case 0:return[4,this.helper.getCharacteristicValue(St.pinData)];case 1:return r=n.sent(),[2,this.dataViewToPinData(r)]}})})},e.prototype.writePinData=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){return n=this.pinDataToDataView(r),[2,this.helper.setCharacteristicValue(St.pinData,n)]})})},e.prototype.getAdConfiguration=function(){return J(this,void 0,void 0,function(){var r;return Q(this,function(n){switch(n.label){case 0:return[4,this.helper.getCharacteristicValue(St.pinAdConfiguration)];case 1:return r=n.sent(),[2,this.dataViewToConfig(r)]}})})},e.prototype.setAdConfiguration=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){return n=this.configToDataView(r),[2,this.helper.setCharacteristicValue(St.pinAdConfiguration,n)]})})},e.prototype.getIoConfiguration=function(){return J(this,void 0,void 0,function(){var r;return Q(this,function(n){switch(n.label){case 0:return[4,this.helper.getCharacteristicValue(St.pinIoConfiguration)];case 1:return r=n.sent(),[2,this.dataViewToConfig(r)]}})})},e.prototype.setIoConfiguration=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){return n=this.configToDataView(r),[2,this.helper.setCharacteristicValue(St.pinIoConfiguration,n)]})})},e.prototype.setPwmControl=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){return n=this.pwmControlDataToDataView(r),[2,this.helper.setCharacteristicValue(St.pwmControl,n)]})})},e.prototype.pinDataChangedHandler=function(r){var n=r.target.value,i=this.dataViewToPinData(n);this.dispatchEvent("pindatachanged",i)},e.prototype.dataViewToPinData=function(r){for(var n=[],i=0;i<r.byteLength;i+=2)n.push({pin:r.getUint8(i),value:r.getUint8(i+1)});return n},e.prototype.pinDataToDataView=function(r){var n=new DataView(new ArrayBuffer(2*r.length));return r.forEach(function(i,o){n.setUint8(2*o,i.pin),n.setUint8(2*o+1,i.value)}),n},e.prototype.dataViewToConfig=function(r){for(var n=[],i=(r.getUint16(0)<<8)+r.getUint8(2),o=0;o<24;o++)n.push(i>>o);return n},e.prototype.configToDataView=function(r){for(var n=new DataView(new ArrayBuffer(3)),i=0,o=0;o<r.length;o++)i&=1<<r[o];return n.setUint16(0,i>>8,eo),n.setUint8(2,255&i),n},e.prototype.pwmControlDataToDataView=function(r){var n=new DataView(new ArrayBuffer(7));return n.setUint8(0,r.pin),n.setUint16(1,r.value,eo),n.setUint32(3,r.period,eo),n},e.uuid="e95d127b-251d-470a-a062-fa1922dfa9a8",e})(ar);(function(t){t.tx="6e400002-b5a3-f393-e0a9-e50e24dcca9e",t.rx="6e400003-b5a3-f393-e0a9-e50e24dcca9e"})(Br||(Br={}));var Zt;(function(t){function e(r){var n=t.call(this)||this;return n.helper=new Er(r,n),n}return Gt(e,t),e.create=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){switch(i.label){case 0:return[4,(n=new e(r)).init()];case 1:return i.sent(),[2,n]}})})},e.prototype.init=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.handleListener("receive",Br.tx,this.receiveHandler.bind(this))];case 1:return r.sent(),[4,this.helper.handleListener("receiveText",Br.tx,this.receiveTextHandler.bind(this))];case 2:return r.sent(),[2]}})})},e.prototype.send=function(r){return J(this,void 0,void 0,function(){return Q(this,function(n){return[2,this.helper.setCharacteristicValue(Br.rx,r)]})})},e.prototype.sendText=function(r){return J(this,void 0,void 0,function(){var n,i;return Q(this,function(o){return n=new TextEncoder,i=n.encode(r),[2,this.helper.setCharacteristicValue(Br.rx,i)]})})},e.prototype.receiveHandler=function(r){var n=r.target.value,i=new Uint8Array(n.buffer);this.dispatchEvent("receive",i)},e.prototype.receiveTextHandler=function(r){var n=r.target.value,i=new TextDecoder().decode(n.buffer);this.dispatchEvent("receiveText",i)},e.uuid="6e400001-b5a3-f393-e0a9-e50e24dcca9e",e})(ar);(function(t){t.microBitRequirements="e95db84c-251d-470a-a062-fa1922dfa9a8",t.microBitEvent="e95d9775-251d-470a-a062-fa1922dfa9a8",t.clientRequirements="e95d23c4-251d-470a-a062-fa1922dfa9a8",t.clientEvent="e95d5404-251d-470a-a062-fa1922dfa9a8"})(Zt||(Zt={}));var Is;(function(t){function e(r){var n=t.call(this)||this;return n.helper=new Er(r,n),n}return Gt(e,t),e.create=function(r){return J(this,void 0,void 0,function(){var n;return Q(this,function(i){switch(i.label){case 0:return[4,(n=new e(r)).init()];case 1:return i.sent(),[2,n]}})})},e.prototype.init=function(){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,this.helper.handleListener("microbitevent",Zt.microBitEvent,this.eventHandler.bind(this))];case 1:return r.sent(),[4,this.helper.handleListener("microbitrequirementschanged",Zt.microBitRequirements,this.microbitRequirementsChangedHandler.bind(this))];case 2:return r.sent(),[2]}})})},e.prototype.getMicrobitRequirements=function(){return J(this,void 0,void 0,function(){var r;return Q(this,function(n){switch(n.label){case 0:return[4,this.helper.getCharacteristicValue(Zt.microBitRequirements)];case 1:return r=n.sent(),[2,this.viewToMicrobitEvent(r)]}})})},e.prototype.setClientRequirements=function(r,n){return J(this,void 0,void 0,function(){var i;return Q(this,function(o){switch(o.label){case 0:return(i=new DataView(new ArrayBuffer(4))).setUint16(0,r,!0),i.setUint16(1,n,!0),[4,this.helper.setCharacteristicValue(Zt.clientRequirements,i)];case 1:return[2,o.sent()]}})})},e.prototype.readMicrobitEvent=function(){return J(this,void 0,void 0,function(){var r;return Q(this,function(n){switch(n.label){case 0:return[4,this.helper.getCharacteristicValue(Zt.microBitEvent)];case 1:return r=n.sent(),[2,this.viewToMicrobitEvent(r)]}})})},e.prototype.writeClientEvent=function(r,n){return J(this,void 0,void 0,function(){var i;return Q(this,function(o){switch(o.label){case 0:return(i=new DataView(new ArrayBuffer(4))).setUint16(0,r,!0),i.setUint16(1,n,!0),[4,this.helper.setCharacteristicValue(Zt.clientEvent,i)];case 1:return[2,o.sent()]}})})},e.prototype.microbitRequirementsChangedHandler=function(r){var n=r.target.value,i=this.viewToMicrobitEvent(n);this.dispatchEvent("microbitrequirementschanged",i)},e.prototype.eventHandler=function(r){var n=r.target.value,i=this.viewToMicrobitEvent(n);this.dispatchEvent("microbitevent",i)},e.prototype.viewToMicrobitEvent=function(r){return{type:r.getUint16(0,!0),value:r.getUint16(1,!0)}},e.uuid="e95d93af-251d-470a-a062-fa1922dfa9a8",e})(ar);(function(t){t.dfuControl="e95d93b1-251d-470a-a062-fa1922dfa9a8"})(Is||(Is={}));(function(t){function e(r){var n=t.call(this)||this;return n.uartService=r,r.addEventListener("receiveText",function(i){var o=i.detail;if(o.startsWith("c:")){var a=o.replace("c:","").split(":"),c=a[0],s=a[1];n.emit("receiveCommand",{command:c,value:s?parseInt(s,10):void 0})}}),n}return Gt(e,t),e.prototype.arg=function(r){return J(this,arguments,void 0,function(n,i){var o;return i===void 0&&(i="arg"),Q(this,function(a){switch(a.label){case 0:return o="c:".concat(i,":").concat(n,`
`),[4,this.uartService.sendText(o)];case 1:return a.sent(),[2]}})})},e.prototype.narg=function(){return J(this,arguments,void 0,function(r){var n;return r===void 0&&(r="narg"),Q(this,function(i){switch(i.label){case 0:return n="c:".concat(r,`
`),[4,this.uartService.sendText(n)];case 1:return i.sent(),[2]}})})},e})(ar);class ov extends Sl{constructor(){super(...arguments);Kt(this,"device",null);Kt(this,"txCharacteristic",null)}async connect(){var c,s;const r=await navigator.bluetooth.requestDevice({filters:[{namePrefix:"BBC micro:bit"}],optionalServices:["6e400001-b5a3-f393-e0a9-e50e24dcca9e"]});this.device=r;const n=await((c=r.gatt)==null?void 0:c.connect());if(!n)throw new Error("Failed to connect to GATT server");const i=await n.getPrimaryService("6e400001-b5a3-f393-e0a9-e50e24dcca9e"),o=await i.getCharacteristic("6e400003-b5a3-f393-e0a9-e50e24dcca9e");this.txCharacteristic=o;const a=await i.getCharacteristics();for(const l of a)console.log("Characteristic UUID:",l.uuid),console.log("Writable:",l.properties.write,"Write w/o response:",l.properties.writeWithoutResponse);console.log("Microbit connected with UART RX ready."),console.log("RX props:",(s=this.txCharacteristic)==null?void 0:s.properties)}async disconnect(){var r,n;(n=(r=this.device)==null?void 0:r.gatt)!=null&&n.connected&&(this.device.gatt.disconnect(),console.log("Microbit disconnected.")),this.device=null,this.txCharacteristic=null}async canMove(){var r,n;return((n=(r=this.device)==null?void 0:r.gatt)==null?void 0:n.connected)??!1}async sendUART(r){if(!this.txCharacteristic){console.warn("TX characteristic not available");return}const n=new TextEncoder;await this.txCharacteristic.writeValue(n.encode(r+`
`)),console.log("Sent to micro:bit:",r)}async move(r){const n={forward:"forward",backward:"backward",left:"left",right:"right"};await this.sendUART(n[r]??"stop")}dance(){throw new Error("Method not implemented.")}speak(){throw new Error("Method not implemented.")}}var Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ii={},ca={},Sr={},la={},ua={exports:{}},zr=typeof Reflect=="object"?Reflect:null,Ls=zr&&typeof zr.apply=="function"?zr.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},ii;zr&&typeof zr.ownKeys=="function"?ii=zr.ownKeys:Object.getOwnPropertySymbols?ii=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ii=function(e){return Object.getOwnPropertyNames(e)};function av(t){console&&console.warn&&console.warn(t)}var Cl=Number.isNaN||function(e){return e!==e};function Ce(){Ce.init.call(this)}ua.exports=Ce;ua.exports.once=uv;Ce.EventEmitter=Ce;Ce.prototype._events=void 0;Ce.prototype._eventsCount=0;Ce.prototype._maxListeners=void 0;var Ds=10;function Li(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Ce,"defaultMaxListeners",{enumerable:!0,get:function(){return Ds},set:function(t){if(typeof t!="number"||t<0||Cl(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ds=t}});Ce.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ce.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Cl(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Tl(t){return t._maxListeners===void 0?Ce.defaultMaxListeners:t._maxListeners}Ce.prototype.getMaxListeners=function(){return Tl(this)};Ce.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var s=o[e];if(s===void 0)return!1;if(typeof s=="function")Ls(s,this,r);else for(var l=s.length,u=Il(s,l),n=0;n<l;++n)Ls(u[n],this,r);return!0};function Ol(t,e,r,n){var i,o,a;if(Li(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),a===void 0)a=o[e]=r,++t._eventsCount;else if(typeof a=="function"?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=Tl(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,av(c)}return t}Ce.prototype.addListener=function(e,r){return Ol(this,e,r,!1)};Ce.prototype.on=Ce.prototype.addListener;Ce.prototype.prependListener=function(e,r){return Ol(this,e,r,!0)};function sv(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Rl(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=sv.bind(n);return i.listener=r,n.wrapFn=i,i}Ce.prototype.once=function(e,r){return Li(r),this.on(e,Rl(this,e,r)),this};Ce.prototype.prependOnceListener=function(e,r){return Li(r),this.prependListener(e,Rl(this,e,r)),this};Ce.prototype.removeListener=function(e,r){var n,i,o,a,c;if(Li(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){c=n[a].listener,o=a;break}if(o<0)return this;o===0?n.shift():cv(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,c||r)}return this};Ce.prototype.off=Ce.prototype.removeListener;Ce.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Pl(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?lv(i):Il(i,i.length)}Ce.prototype.listeners=function(e){return Pl(this,e,!0)};Ce.prototype.rawListeners=function(e){return Pl(this,e,!1)};Ce.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):xl.call(t,e)};Ce.prototype.listenerCount=xl;function xl(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ce.prototype.eventNames=function(){return this._eventsCount>0?ii(this._events):[]};function Il(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function cv(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function lv(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function uv(t,e){return new Promise(function(r,n){function i(a){t.removeListener(e,o),n(a)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Ll(t,e,o,{once:!0}),e!=="error"&&fv(t,i,{once:!0})})}function fv(t,e,r){typeof t.on=="function"&&Ll(t,"error",e,r)}function Ll(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var It=ua.exports,lt={},fa={},da={};Object.defineProperty(da,"__esModule",{value:!0});var dv=function(){function t(){}return t.prototype.parse=function(e){if(e.byteLength<1)throw new Error("parse error");var r=e.readUInt8(0);switch(r){case 1:if(e.byteLength<11)break;return{buffer:e,data:{x:e.readUInt16LE(1),y:e.readUInt16LE(3),angle:e.readUInt16LE(5),sensorX:e.readUInt16LE(7),sensorY:e.readUInt16LE(9)},dataType:"id:position-id"};case 2:if(e.byteLength<7)break;return{buffer:e,data:{standardId:e.readUInt32LE(1),angle:e.readUInt16LE(5)},dataType:"id:standard-id"};case 3:return{buffer:e,dataType:"id:position-id-missed"};case 4:return{buffer:e,dataType:"id:standard-id-missed"}}throw new Error("parse error")},t}();da.IdSpec=dv;Object.defineProperty(fa,"__esModule",{value:!0});var hv=da,pv=function(){function t(e,r){this.characteristic=e,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=r}return t.prototype.onData=function(e){var r=new hv.IdSpec;try{var n=r.parse(e);switch(n.dataType){case"id:position-id":this.eventEmitter.emit(n.dataType,n.data);break;case"id:standard-id":this.eventEmitter.emit(n.dataType,n.data);break;case"id:position-id-missed":case"id:standard-id-missed":this.eventEmitter.emit(n.dataType);break;default:break}}catch{return}},t.UUID="10b201015b3b45719508cf3efcd7bbae",t}();fa.IdCharacteristic=pv;var ha={},Mo={exports:{}};const vv="2.0.0",Dl=256,gv=Number.MAX_SAFE_INTEGER||9007199254740991,mv=16,yv=Dl-6,bv=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Di={MAX_LENGTH:Dl,MAX_SAFE_COMPONENT_LENGTH:mv,MAX_SAFE_BUILD_LENGTH:yv,MAX_SAFE_INTEGER:gv,RELEASE_TYPES:bv,SEMVER_SPEC_VERSION:vv,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};function wv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $l={exports:{}},Me=$l.exports={},At,Ct;function ko(){throw new Error("setTimeout has not been defined")}function Fo(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?At=setTimeout:At=ko}catch{At=ko}try{typeof clearTimeout=="function"?Ct=clearTimeout:Ct=Fo}catch{Ct=Fo}})();function Ml(t){if(At===setTimeout)return setTimeout(t,0);if((At===ko||!At)&&setTimeout)return At=setTimeout,setTimeout(t,0);try{return At(t,0)}catch{try{return At.call(null,t,0)}catch{return At.call(this,t,0)}}}function _v(t){if(Ct===clearTimeout)return clearTimeout(t);if((Ct===Fo||!Ct)&&clearTimeout)return Ct=clearTimeout,clearTimeout(t);try{return Ct(t)}catch{try{return Ct.call(null,t)}catch{return Ct.call(this,t)}}}var Nt=[],Wr=!1,hr,oi=-1;function Ev(){!Wr||!hr||(Wr=!1,hr.length?Nt=hr.concat(Nt):oi=-1,Nt.length&&kl())}function kl(){if(!Wr){var t=Ml(Ev);Wr=!0;for(var e=Nt.length;e;){for(hr=Nt,Nt=[];++oi<e;)hr&&hr[oi].run();oi=-1,e=Nt.length}hr=null,Wr=!1,_v(t)}}Me.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Nt.push(new Fl(t,e)),Nt.length===1&&!Wr&&Ml(kl)};function Fl(t,e){this.fun=t,this.array=e}Fl.prototype.run=function(){this.fun.apply(null,this.array)};Me.title="browser";Me.browser=!0;Me.env={};Me.argv=[];Me.version="";Me.versions={};function zt(){}Me.on=zt;Me.addListener=zt;Me.once=zt;Me.off=zt;Me.removeListener=zt;Me.removeAllListeners=zt;Me.emit=zt;Me.prependListener=zt;Me.prependOnceListener=zt;Me.listeners=function(t){return[]};Me.binding=function(t){throw new Error("process.binding is not supported")};Me.cwd=function(){return"/"};Me.chdir=function(t){throw new Error("process.chdir is not supported")};Me.umask=function(){return 0};var Sv=$l.exports;const ot=wv(Sv);var to={};const Av=typeof ot=="object"&&to&&to.NODE_DEBUG&&/\bsemver\b/i.test(to.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var $i=Av;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Di,o=$i;e=t.exports={};const a=e.re=[],c=e.safeRe=[],s=e.src=[],l=e.t={};let u=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,n]],d=v=>{for(const[m,g]of h)v=v.split(`${m}*`).join(`${m}{0,${g}}`).split(`${m}+`).join(`${m}{1,${g}}`);return v},p=(v,m,g)=>{const b=d(m),S=u++;o(v,S,m),l[v]=S,s[S]=m,a[S]=new RegExp(m,g?"g":void 0),c[S]=new RegExp(b,g?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${s[l.NUMERICIDENTIFIER]})\\.(${s[l.NUMERICIDENTIFIER]})\\.(${s[l.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${s[l.NUMERICIDENTIFIERLOOSE]})\\.(${s[l.NUMERICIDENTIFIERLOOSE]})\\.(${s[l.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${s[l.NUMERICIDENTIFIER]}|${s[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${s[l.NUMERICIDENTIFIERLOOSE]}|${s[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${s[l.PRERELEASEIDENTIFIER]}(?:\\.${s[l.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${s[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[l.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${s[l.BUILDIDENTIFIER]}(?:\\.${s[l.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${s[l.MAINVERSION]}${s[l.PRERELEASE]}?${s[l.BUILD]}?`),p("FULL",`^${s[l.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${s[l.MAINVERSIONLOOSE]}${s[l.PRERELEASELOOSE]}?${s[l.BUILD]}?`),p("LOOSE",`^${s[l.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${s[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${s[l.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${s[l.XRANGEIDENTIFIER]})(?:\\.(${s[l.XRANGEIDENTIFIER]})(?:\\.(${s[l.XRANGEIDENTIFIER]})(?:${s[l.PRERELEASE]})?${s[l.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${s[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[l.XRANGEIDENTIFIERLOOSE]})(?:${s[l.PRERELEASELOOSE]})?${s[l.BUILD]}?)?)?`),p("XRANGE",`^${s[l.GTLT]}\\s*${s[l.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${s[l.GTLT]}\\s*${s[l.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),p("COERCE",`${s[l.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",s[l.COERCEPLAIN]+`(?:${s[l.PRERELEASE]})?(?:${s[l.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",s[l.COERCE],!0),p("COERCERTLFULL",s[l.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${s[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",p("TILDE",`^${s[l.LONETILDE]}${s[l.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${s[l.LONETILDE]}${s[l.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${s[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",p("CARET",`^${s[l.LONECARET]}${s[l.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${s[l.LONECARET]}${s[l.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${s[l.GTLT]}\\s*(${s[l.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${s[l.GTLT]}\\s*(${s[l.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${s[l.GTLT]}\\s*(${s[l.LOOSEPLAIN]}|${s[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${s[l.XRANGEPLAIN]})\\s+-\\s+(${s[l.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${s[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[l.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Mo,Mo.exports);var kn=Mo.exports;const Cv=Object.freeze({loose:!0}),Tv=Object.freeze({}),Ov=t=>t?typeof t!="object"?Cv:t:Tv;var pa=Ov;const $s=/^[0-9]+$/,Bl=(t,e)=>{const r=$s.test(t),n=$s.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Rv=(t,e)=>Bl(e,t);var jl={compareIdentifiers:Bl,rcompareIdentifiers:Rv};const qn=$i,{MAX_LENGTH:Ms,MAX_SAFE_INTEGER:Xn}=Di,{safeRe:ks,t:Fs}=kn,Pv=pa,{compareIdentifiers:Rr}=jl;let xv=class _t{constructor(e,r){if(r=Pv(r),e instanceof _t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Ms)throw new TypeError(`version is longer than ${Ms} characters`);qn("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?ks[Fs.LOOSE]:ks[Fs.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Xn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Xn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Xn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<Xn)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(qn("SemVer.compare",this.version,this.options,e),!(e instanceof _t)){if(typeof e=="string"&&e===this.version)return 0;e=new _t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof _t||(e=new _t(e,this.options)),Rr(this.major,e.major)||Rr(this.minor,e.minor)||Rr(this.patch,e.patch)}comparePre(e){if(e instanceof _t||(e=new _t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(qn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Rr(n,i)}while(++r)}compareBuild(e){e instanceof _t||(e=new _t(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(qn("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Rr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),Rr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Ze=xv;const Bs=Ze,Iv=(t,e,r=!1)=>{if(t instanceof Bs)return t;try{return new Bs(t,e)}catch(n){if(!r)return null;throw n}};var rn=Iv;const Lv=rn,Dv=(t,e)=>{const r=Lv(t,e);return r?r.version:null};var $v=Dv;const Mv=rn,kv=(t,e)=>{const r=Mv(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Fv=kv;const js=Ze,Bv=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new js(t instanceof js?t.version:t,r).inc(e,n,i).version}catch{return null}};var jv=Bv;const Ns=rn,Nv=(t,e)=>{const r=Ns(t,null,!0),n=Ns(e,null,!0),i=r.compare(n);if(i===0)return null;const o=i>0,a=o?r:n,c=o?n:r,s=!!a.prerelease.length;if(!!c.prerelease.length&&!s)return!c.patch&&!c.minor?"major":a.patch?"patch":a.minor?"minor":"major";const u=s?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var Uv=Nv;const Vv=Ze,Gv=(t,e)=>new Vv(t,e).major;var zv=Gv;const Wv=Ze,Hv=(t,e)=>new Wv(t,e).minor;var Kv=Hv;const qv=Ze,Xv=(t,e)=>new qv(t,e).patch;var Yv=Xv;const Jv=rn,Qv=(t,e)=>{const r=Jv(t,e);return r&&r.prerelease.length?r.prerelease:null};var Zv=Qv;const Us=Ze,eg=(t,e,r)=>new Us(t,r).compare(new Us(e,r));var yt=eg;const tg=yt,rg=(t,e,r)=>tg(e,t,r);var ng=rg;const ig=yt,og=(t,e)=>ig(t,e,!0);var ag=og;const Vs=Ze,sg=(t,e,r)=>{const n=new Vs(t,r),i=new Vs(e,r);return n.compare(i)||n.compareBuild(i)};var va=sg;const cg=va,lg=(t,e)=>t.sort((r,n)=>cg(r,n,e));var ug=lg;const fg=va,dg=(t,e)=>t.sort((r,n)=>fg(n,r,e));var hg=dg;const pg=yt,vg=(t,e,r)=>pg(t,e,r)>0;var Mi=vg;const gg=yt,mg=(t,e,r)=>gg(t,e,r)<0;var ga=mg;const yg=yt,bg=(t,e,r)=>yg(t,e,r)===0;var Nl=bg;const wg=yt,_g=(t,e,r)=>wg(t,e,r)!==0;var Ul=_g;const Eg=yt,Sg=(t,e,r)=>Eg(t,e,r)>=0;var ma=Sg;const Ag=yt,Cg=(t,e,r)=>Ag(t,e,r)<=0;var ya=Cg;const Tg=Nl,Og=Ul,Rg=Mi,Pg=ma,xg=ga,Ig=ya,Lg=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Tg(t,r,n);case"!=":return Og(t,r,n);case">":return Rg(t,r,n);case">=":return Pg(t,r,n);case"<":return xg(t,r,n);case"<=":return Ig(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Vl=Lg;const Dg=Ze,$g=rn,{safeRe:Yn,t:Jn}=kn,Mg=(t,e)=>{if(t instanceof Dg)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Yn[Jn.COERCEFULL]:Yn[Jn.COERCE]);else{const s=e.includePrerelease?Yn[Jn.COERCERTLFULL]:Yn[Jn.COERCERTL];let l;for(;(l=s.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),s.lastIndex=l.index+l[1].length+l[2].length;s.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",o=r[4]||"0",a=e.includePrerelease&&r[5]?`-${r[5]}`:"",c=e.includePrerelease&&r[6]?`+${r[6]}`:"";return $g(`${n}.${i}.${o}${a}${c}`,e)};var kg=Mg;class Fg{constructor(){this.max=1e3,this.map=new Map}get(e){const r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}}var Bg=Fg,ro,Gs;function bt(){if(Gs)return ro;Gs=1;const t=/\s+/g;class e{constructor(_,T){if(T=i(T),_ instanceof e)return _.loose===!!T.loose&&_.includePrerelease===!!T.includePrerelease?_:new e(_.raw,T);if(_ instanceof o)return this.raw=_.value,this.set=[[_]],this.formatted=void 0,this;if(this.options=T,this.loose=!!T.loose,this.includePrerelease=!!T.includePrerelease,this.raw=_.trim().replace(t," "),this.set=this.raw.split("||").map(R=>this.parseRange(R.trim())).filter(R=>R.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const R=this.set[0];if(this.set=this.set.filter(x=>!v(x[0])),this.set.length===0)this.set=[R];else if(this.set.length>1){for(const x of this.set)if(x.length===1&&m(x[0])){this.set=[x];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let _=0;_<this.set.length;_++){_>0&&(this.formatted+="||");const T=this.set[_];for(let R=0;R<T.length;R++)R>0&&(this.formatted+=" "),this.formatted+=T[R].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(_){const R=((this.options.includePrerelease&&d)|(this.options.loose&&p))+":"+_,x=n.get(R);if(x)return x;const P=this.options.loose,k=P?s[l.HYPHENRANGELOOSE]:s[l.HYPHENRANGE];_=_.replace(k,A(this.options.includePrerelease)),a("hyphen replace",_),_=_.replace(s[l.COMPARATORTRIM],u),a("comparator trim",_),_=_.replace(s[l.TILDETRIM],f),a("tilde trim",_),_=_.replace(s[l.CARETTRIM],h),a("caret trim",_);let U=_.split(" ").map(I=>b(I,this.options)).join(" ").split(/\s+/).map(I=>B(I,this.options));P&&(U=U.filter(I=>(a("loose invalid filter",I,this.options),!!I.match(s[l.COMPARATORLOOSE])))),a("range list",U);const V=new Map,w=U.map(I=>new o(I,this.options));for(const I of w){if(v(I))return[I];V.set(I.value,I)}V.size>1&&V.has("")&&V.delete("");const O=[...V.values()];return n.set(R,O),O}intersects(_,T){if(!(_ instanceof e))throw new TypeError("a Range is required");return this.set.some(R=>g(R,T)&&_.set.some(x=>g(x,T)&&R.every(P=>x.every(k=>P.intersects(k,T)))))}test(_){if(!_)return!1;if(typeof _=="string")try{_=new c(_,this.options)}catch{return!1}for(let T=0;T<this.set.length;T++)if(E(this.set[T],_,this.options))return!0;return!1}}ro=e;const r=Bg,n=new r,i=pa,o=ki(),a=$i,c=Ze,{safeRe:s,t:l,comparatorTrimReplace:u,tildeTrimReplace:f,caretTrimReplace:h}=kn,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:p}=Di,v=y=>y.value==="<0.0.0-0",m=y=>y.value==="",g=(y,_)=>{let T=!0;const R=y.slice();let x=R.pop();for(;T&&R.length;)T=R.every(P=>x.intersects(P,_)),x=R.pop();return T},b=(y,_)=>(a("comp",y,_),y=D(y,_),a("caret",y),y=$(y,_),a("tildes",y),y=G(y,_),a("xrange",y),y=Y(y,_),a("stars",y),y),S=y=>!y||y.toLowerCase()==="x"||y==="*",$=(y,_)=>y.trim().split(/\s+/).map(T=>C(T,_)).join(" "),C=(y,_)=>{const T=_.loose?s[l.TILDELOOSE]:s[l.TILDE];return y.replace(T,(R,x,P,k,U)=>{a("tilde",y,R,x,P,k,U);let V;return S(x)?V="":S(P)?V=`>=${x}.0.0 <${+x+1}.0.0-0`:S(k)?V=`>=${x}.${P}.0 <${x}.${+P+1}.0-0`:U?(a("replaceTilde pr",U),V=`>=${x}.${P}.${k}-${U} <${x}.${+P+1}.0-0`):V=`>=${x}.${P}.${k} <${x}.${+P+1}.0-0`,a("tilde return",V),V})},D=(y,_)=>y.trim().split(/\s+/).map(T=>W(T,_)).join(" "),W=(y,_)=>{a("caret",y,_);const T=_.loose?s[l.CARETLOOSE]:s[l.CARET],R=_.includePrerelease?"-0":"";return y.replace(T,(x,P,k,U,V)=>{a("caret",y,x,P,k,U,V);let w;return S(P)?w="":S(k)?w=`>=${P}.0.0${R} <${+P+1}.0.0-0`:S(U)?P==="0"?w=`>=${P}.${k}.0${R} <${P}.${+k+1}.0-0`:w=`>=${P}.${k}.0${R} <${+P+1}.0.0-0`:V?(a("replaceCaret pr",V),P==="0"?k==="0"?w=`>=${P}.${k}.${U}-${V} <${P}.${k}.${+U+1}-0`:w=`>=${P}.${k}.${U}-${V} <${P}.${+k+1}.0-0`:w=`>=${P}.${k}.${U}-${V} <${+P+1}.0.0-0`):(a("no pr"),P==="0"?k==="0"?w=`>=${P}.${k}.${U}${R} <${P}.${k}.${+U+1}-0`:w=`>=${P}.${k}.${U}${R} <${P}.${+k+1}.0-0`:w=`>=${P}.${k}.${U} <${+P+1}.0.0-0`),a("caret return",w),w})},G=(y,_)=>(a("replaceXRanges",y,_),y.split(/\s+/).map(T=>q(T,_)).join(" ")),q=(y,_)=>{y=y.trim();const T=_.loose?s[l.XRANGELOOSE]:s[l.XRANGE];return y.replace(T,(R,x,P,k,U,V)=>{a("xRange",y,R,x,P,k,U,V);const w=S(P),O=w||S(k),I=O||S(U),X=I;return x==="="&&X&&(x=""),V=_.includePrerelease?"-0":"",w?x===">"||x==="<"?R="<0.0.0-0":R="*":x&&X?(O&&(k=0),U=0,x===">"?(x=">=",O?(P=+P+1,k=0,U=0):(k=+k+1,U=0)):x==="<="&&(x="<",O?P=+P+1:k=+k+1),x==="<"&&(V="-0"),R=`${x+P}.${k}.${U}${V}`):O?R=`>=${P}.0.0${V} <${+P+1}.0.0-0`:I&&(R=`>=${P}.${k}.0${V} <${P}.${+k+1}.0-0`),a("xRange return",R),R})},Y=(y,_)=>(a("replaceStars",y,_),y.trim().replace(s[l.STAR],"")),B=(y,_)=>(a("replaceGTE0",y,_),y.trim().replace(s[_.includePrerelease?l.GTE0PRE:l.GTE0],"")),A=y=>(_,T,R,x,P,k,U,V,w,O,I,X)=>(S(R)?T="":S(x)?T=`>=${R}.0.0${y?"-0":""}`:S(P)?T=`>=${R}.${x}.0${y?"-0":""}`:k?T=`>=${T}`:T=`>=${T}${y?"-0":""}`,S(w)?V="":S(O)?V=`<${+w+1}.0.0-0`:S(I)?V=`<${w}.${+O+1}.0-0`:X?V=`<=${w}.${O}.${I}-${X}`:y?V=`<${w}.${O}.${+I+1}-0`:V=`<=${V}`,`${T} ${V}`.trim()),E=(y,_,T)=>{for(let R=0;R<y.length;R++)if(!y[R].test(_))return!1;if(_.prerelease.length&&!T.includePrerelease){for(let R=0;R<y.length;R++)if(a(y[R].semver),y[R].semver!==o.ANY&&y[R].semver.prerelease.length>0){const x=y[R].semver;if(x.major===_.major&&x.minor===_.minor&&x.patch===_.patch)return!0}return!1}return!0};return ro}var no,zs;function ki(){if(zs)return no;zs=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,f){if(f=r(f),u instanceof e){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),a("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(u){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],h=u.match(f);if(!h)throw new TypeError(`Invalid comparator: ${u}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new c(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(a("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new c(u,this.options)}catch{return!1}return o(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new s(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new s(this.value,f).test(u.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||o(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||o(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}no=e;const r=pa,{safeRe:n,t:i}=kn,o=Vl,a=$i,c=Ze,s=bt();return no}const jg=bt(),Ng=(t,e,r)=>{try{e=new jg(e,r)}catch{return!1}return e.test(t)};var Fi=Ng;const Ug=bt(),Vg=(t,e)=>new Ug(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var Gg=Vg;const zg=Ze,Wg=bt(),Hg=(t,e,r)=>{let n=null,i=null,o=null;try{o=new Wg(e,r)}catch{return null}return t.forEach(a=>{o.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new zg(n,r))}),n};var Kg=Hg;const qg=Ze,Xg=bt(),Yg=(t,e,r)=>{let n=null,i=null,o=null;try{o=new Xg(e,r)}catch{return null}return t.forEach(a=>{o.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new qg(n,r))}),n};var Jg=Yg;const io=Ze,Qg=bt(),Ws=Mi,Zg=(t,e)=>{t=new Qg(t,e);let r=new io("0.0.0");if(t.test(r)||(r=new io("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let o=null;i.forEach(a=>{const c=new io(a.semver.version);switch(a.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!o||Ws(c,o))&&(o=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),o&&(!r||Ws(r,o))&&(r=o)}return r&&t.test(r)?r:null};var em=Zg;const tm=bt(),rm=(t,e)=>{try{return new tm(t,e).range||"*"}catch{return null}};var nm=rm;const im=Ze,Gl=ki(),{ANY:om}=Gl,am=bt(),sm=Fi,Hs=Mi,Ks=ga,cm=ya,lm=ma,um=(t,e,r,n)=>{t=new im(t,n),e=new am(e,n);let i,o,a,c,s;switch(r){case">":i=Hs,o=cm,a=Ks,c=">",s=">=";break;case"<":i=Ks,o=lm,a=Hs,c="<",s="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(sm(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const u=e.set[l];let f=null,h=null;if(u.forEach(d=>{d.semver===om&&(d=new Gl(">=0.0.0")),f=f||d,h=h||d,i(d.semver,f.semver,n)?f=d:a(d.semver,h.semver,n)&&(h=d)}),f.operator===c||f.operator===s||(!h.operator||h.operator===c)&&o(t,h.semver))return!1;if(h.operator===s&&a(t,h.semver))return!1}return!0};var ba=um;const fm=ba,dm=(t,e,r)=>fm(t,e,">",r);var hm=dm;const pm=ba,vm=(t,e,r)=>pm(t,e,"<",r);var gm=vm;const qs=bt(),mm=(t,e,r)=>(t=new qs(t,r),e=new qs(e,r),t.intersects(e,r));var ym=mm;const bm=Fi,wm=yt;var _m=(t,e,r)=>{const n=[];let i=null,o=null;const a=t.sort((u,f)=>wm(u,f,r));for(const u of a)bm(u,e,r)?(o=u,i||(i=u)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);const c=[];for(const[u,f]of n)u===f?c.push(u):!f&&u===a[0]?c.push("*"):f?u===a[0]?c.push(`<=${f}`):c.push(`${u} - ${f}`):c.push(`>=${u}`);const s=c.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return s.length<l.length?s:e};const Xs=bt(),wa=ki(),{ANY:oo}=wa,gn=Fi,_a=yt,Em=(t,e,r={})=>{if(t===e)return!0;t=new Xs(t,r),e=new Xs(e,r);let n=!1;e:for(const i of t.set){for(const o of e.set){const a=Am(i,o,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},Sm=[new wa(">=0.0.0-0")],Ys=[new wa(">=0.0.0")],Am=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===oo){if(e.length===1&&e[0].semver===oo)return!0;r.includePrerelease?t=Sm:t=Ys}if(e.length===1&&e[0].semver===oo){if(r.includePrerelease)return!0;e=Ys}const n=new Set;let i,o;for(const d of t)d.operator===">"||d.operator===">="?i=Js(i,d,r):d.operator==="<"||d.operator==="<="?o=Qs(o,d,r):n.add(d.semver);if(n.size>1)return null;let a;if(i&&o){if(a=_a(i.semver,o.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||o.operator!=="<="))return null}for(const d of n){if(i&&!gn(d,String(i),r)||o&&!gn(d,String(o),r))return null;for(const p of e)if(!gn(d,String(p),r))return!1;return!0}let c,s,l,u,f=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&o.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const d of e){if(u=u||d.operator===">"||d.operator===">=",l=l||d.operator==="<"||d.operator==="<=",i){if(h&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===h.major&&d.semver.minor===h.minor&&d.semver.patch===h.patch&&(h=!1),d.operator===">"||d.operator===">="){if(c=Js(i,d,r),c===d&&c!==i)return!1}else if(i.operator===">="&&!gn(i.semver,String(d),r))return!1}if(o){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator==="<"||d.operator==="<="){if(s=Qs(o,d,r),s===d&&s!==o)return!1}else if(o.operator==="<="&&!gn(o.semver,String(d),r))return!1}if(!d.operator&&(o||i)&&a!==0)return!1}return!(i&&l&&!o&&a!==0||o&&u&&!i&&a!==0||h||f)},Js=(t,e,r)=>{if(!t)return e;const n=_a(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Qs=(t,e,r)=>{if(!t)return e;const n=_a(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var Cm=Em;const ao=kn,Zs=Di,Tm=Ze,ec=jl,Om=rn,Rm=$v,Pm=Fv,xm=jv,Im=Uv,Lm=zv,Dm=Kv,$m=Yv,Mm=Zv,km=yt,Fm=ng,Bm=ag,jm=va,Nm=ug,Um=hg,Vm=Mi,Gm=ga,zm=Nl,Wm=Ul,Hm=ma,Km=ya,qm=Vl,Xm=kg,Ym=ki(),Jm=bt(),Qm=Fi,Zm=Gg,ey=Kg,ty=Jg,ry=em,ny=nm,iy=ba,oy=hm,ay=gm,sy=ym,cy=_m,ly=Cm;var uy={parse:Om,valid:Rm,clean:Pm,inc:xm,diff:Im,major:Lm,minor:Dm,patch:$m,prerelease:Mm,compare:km,rcompare:Fm,compareLoose:Bm,compareBuild:jm,sort:Nm,rsort:Um,gt:Vm,lt:Gm,eq:zm,neq:Wm,gte:Hm,lte:Km,cmp:qm,coerce:Xm,Comparator:Ym,Range:Jm,satisfies:Qm,toComparators:Zm,maxSatisfying:ey,minSatisfying:ty,minVersion:ry,validRange:ny,outside:iy,gtr:oy,ltr:ay,intersects:sy,simplifyRange:cy,subset:ly,SemVer:Tm,re:ao.re,src:ao.src,tokens:ao.t,SEMVER_SPEC_VERSION:Zs.SEMVER_SPEC_VERSION,RELEASE_TYPES:Zs.RELEASE_TYPES,compareIdentifiers:ec.compareIdentifiers,rcompareIdentifiers:ec.rcompareIdentifiers},Bi={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});function fy(t,e,r){return Math.max(Math.min(t,r),e)}nn.clamp=fy;var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.createTagHandler=function(){var t=0;return{current:function(){return t},next:function(){return t=(t+1)%256,t}}};var wi=Ge&&Ge.__assign||function(){return wi=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wi.apply(this,arguments)};Object.defineProperty(Bi,"__esModule",{value:!0});var so=nn,dy=Ea,hy=function(){function t(e){e===void 0&&(e=dy.createTagHandler()),this.tag=e}return t.prototype.parse=function(e){if(e.byteLength!==3)throw new Error("parse error");var r=e.readUInt8(0);switch(r){case 131:case 132:return{buffer:e,data:{operationId:e.readUInt8(1),reason:e.readUInt8(2)},dataType:"motor:moveTo-response"};case 224:return{buffer:e,data:{left:e.readUInt8(1),right:e.readUInt8(2)},dataType:"motor:speed-feedback"}}throw new Error("parse error")},t.prototype.move=function(e,r,n){n===void 0&&(n=0);var i=e>0?1:-1,o=r>0?1:-1,a=e>0?1:2,c=r>0?1:2,s=Math.min(Math.abs(e),t.MAX_SPEED),l=Math.min(Math.abs(r),t.MAX_SPEED),u=so.clamp(n/10,0,255);return{buffer:pe.from([2,1,a,s,2,c,l,u]),data:{left:i*s,right:o*l,durationMs:u*10}}},t.prototype.moveTo=function(e,r){var n,i,o,a,c=this.tag.next(),s=Math.min(e.length,t.NUMBER_OF_TARGETS_PER_OPERATION),l=pe.alloc(8+6*s);l.writeUInt8(4,0),l.writeUInt8(c,1),l.writeUInt8(r.timeout,2),l.writeUInt8(r.moveType,3),l.writeUInt8(r.maxSpeed,4),l.writeUInt8(r.speedType,5),l.writeUInt8(0,6),l.writeUInt8(r.overwrite?0:1,7);for(var u=0;u<s;u++){var f=e[u],h=(n=f.x,n??65535),d=(i=f.y,i??65535),p=so.clamp((o=f.angle,o??0),0,8191),v=(a=f.rotateType,a??0);f.angle===void 0&&f.rotateType!==6&&(v=5),l.writeUInt16LE(h,8+6*u),l.writeUInt16LE(d,10+6*u),l.writeUInt16LE(v<<13|p,12+6*u)}return{buffer:pe.from(l),data:{targets:e.slice(0,s),options:wi(wi({},r),{operationId:c})}}},t.prototype.accelerationMove=function(e,r,n,i,o){n===void 0&&(n=0),i===void 0&&(i=t.ACC_PRIORITY_STRAIGHT),o===void 0&&(o=0);var a=e>0?1:-1,c=r>0?1:-1,s=e>0?0:1,l=r>0?0:1,u=Math.min(Math.abs(e),t.MAX_SPEED),f=Math.min(Math.abs(r),t.MAX_ROTATION),h=f&255,d=(f&65280)>>8,p=Math.min(Math.abs(n),255),v=so.clamp(o/10,0,255),m=i==t.ACC_PRIORITY_STRAIGHT?0:1;return{buffer:pe.from([5,u,p,h,d,l,s,m,v]),data:{straightSpeed:a*u,rotationSpeed:c*f,acceleration:p,priorityType:m,durationMs:v*10}}},t.MAX_SPEED=115,t.MAX_ROTATION=32767,t.NUMBER_OF_TARGETS_PER_OPERATION=29,t.ACC_PRIORITY_STRAIGHT=0,t.ACC_PRIORITY_ROTATION=1,t}();Bi.MotorSpec=hy;var _i=Ge&&Ge.__assign||function(){return _i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_i.apply(this,arguments)},py=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ha,"__esModule",{value:!0});var tc=py(uy),Qn=Bi,vy=function(){function t(e,r){this.spec=new Qn.MotorSpec,this.timer=null,this.pendingResolve=null,this.characteristic=e,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=r}return t.prototype.init=function(e){this.bleProtocolVersion=e},t.prototype.move=function(e,r,n){var i=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var o=this.spec.move(e,r,n);if(this.characteristic.write(pe.from(o.buffer),!0),o.data.durationMs>0)return new Promise(function(a){i.pendingResolve=a,i.timer=setTimeout(function(){i.pendingResolve&&(i.pendingResolve(),i.pendingResolve=null)},o.data.durationMs)})},t.prototype.moveTo=function(e,r){var n=this;if(this.bleProtocolVersion!==void 0&&tc.default.lt(this.bleProtocolVersion,"2.1.0"))return Promise.resolve();this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var i=function(a,c){return function(){return new Promise(function(s,l){var u=n.spec.moveTo(a,c),f=function(h){h.operationId===u.data.options.operationId&&(n.eventEmitter.removeListener("motor:moveTo-response",f),h.reason===0||h.reason===5?s():l(h.reason))};n.characteristic.write(pe.from(u.buffer),!0),n.eventEmitter.on("motor:moveTo-response",f)})}},o=e.reduce(function(a,c,s){if(s%Qn.MotorSpec.NUMBER_OF_TARGETS_PER_OPERATION===0){var l=s/Qn.MotorSpec.NUMBER_OF_TARGETS_PER_OPERATION%2;a[l]=a[l].then(i(e.slice(s,s+Qn.MotorSpec.NUMBER_OF_TARGETS_PER_OPERATION),s===0?r:_i(_i({},r),{overwrite:!1})))}return a},[Promise.resolve(),Promise.resolve()]);return new Promise(function(a,c){Promise.all(o).then(function(){a()}).catch(c)})},t.prototype.accelerationMove=function(e,r,n,i,o){var a=this;if(this.bleProtocolVersion!==void 0&&tc.default.lt(this.bleProtocolVersion,"2.1.0"))return Promise.resolve();this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var c=this.spec.accelerationMove(e,r,n,i,o);if(this.characteristic.write(pe.from(c.buffer),!0),c.data.durationMs>0)return new Promise(function(s){a.pendingResolve=s,a.timer=setTimeout(function(){a.pendingResolve&&(a.pendingResolve(),a.pendingResolve=null)},c.data.durationMs)})},t.prototype.stop=function(){this.move(0,0,0)},t.prototype.onData=function(e){try{var r=this.spec.parse(e);r.dataType==="motor:moveTo-response"&&this.eventEmitter.emit("motor:moveTo-response",{operationId:r.data.operationId,reason:r.data.reason}),r.dataType==="motor:speed-feedback"&&this.eventEmitter.emit("motor:speed-feedback",{left:r.data.left,right:r.data.right})}catch{return}},t.UUID="10b201025b3b45719508cf3efcd7bbae",t}();ha.MotorCharacteristic=vy;var Sa={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});var $t=nn,gy=function(){function t(){}return t.prototype.turnOnLight=function(e){var r=$t.clamp(e.durationMs/10,0,255),n=$t.clamp(e.red,0,255),i=$t.clamp(e.green,0,255),o=$t.clamp(e.blue,0,255);return{buffer:pe.from([3,r,1,1,n,i,o]),data:{durationMs:r*10,red:n,green:i,blue:o}}},t.prototype.turnOnLightWithScenario=function(e,r){var n={operations:[],repeatCount:$t.clamp(r,0,255),totalDurationMs:0},i=Math.min(e.length,29),o=pe.alloc(3+6*i);o.writeUInt8(4,0),o.writeUInt8(n.repeatCount,1),o.writeUInt8(i,2);for(var a=0,c=0;c<i;c++){var s=e[c],l=$t.clamp(s.durationMs/10,1,255),u=$t.clamp(s.red,0,255),f=$t.clamp(s.green,0,255),h=$t.clamp(s.blue,0,255);a+=l,n.operations.push({durationMs:l*10,red:u,green:f,blue:h}),o.writeUInt8(l,3+6*c),o.writeUInt8(1,4+6*c),o.writeUInt8(1,5+6*c),o.writeUInt8(u,6+6*c),o.writeUInt8(f,7+6*c),o.writeUInt8(h,8+6*c)}return n.totalDurationMs=a*10*n.repeatCount,{buffer:o,data:n}},t.prototype.turnOffLight=function(){return{buffer:pe.from([1])}},t}();Aa.LightSpec=gy;Object.defineProperty(Sa,"__esModule",{value:!0});var my=Aa,yy=function(){function t(e){this.spec=new my.LightSpec,this.timer=null,this.pendingResolve=null,this.characteristic=e}return t.prototype.turnOnLight=function(e){var r=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var n=this.spec.turnOnLight(e);if(this.characteristic.write(pe.from(n.buffer),!1),n.data.durationMs>0)return new Promise(function(i){r.pendingResolve=i,r.timer=setTimeout(function(){r.pendingResolve&&(r.pendingResolve(),r.pendingResolve=null)},n.data.durationMs)})},t.prototype.turnOnLightWithScenario=function(e,r){var n=this;if(r===void 0&&(r=0),!e||e.length===0)return Promise.reject("invalid argument: empty operation");this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var i=this.spec.turnOnLightWithScenario(e,r);if(this.characteristic.write(pe.from(i.buffer),!1),i.data.totalDurationMs>0)return new Promise(function(o){n.pendingResolve=o,n.timer=setTimeout(function(){n.pendingResolve&&(n.pendingResolve(),n.pendingResolve=null)},i.data.totalDurationMs)})},t.prototype.turnOffLight=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var e=this.spec.turnOffLight();this.characteristic.write(pe.from(e.buffer),!1)},t.UUID="10b201035b3b45719508cf3efcd7bbae",t}();Sa.LightCharacteristic=yy;var Ca={},Ta={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=nn;(function(n){n[n.C0=0]="C0",n[n.CS0=1]="CS0",n[n.D0=2]="D0",n[n.DS0=3]="DS0",n[n.E0=4]="E0",n[n.F0=5]="F0",n[n.FS0=6]="FS0",n[n.G0=7]="G0",n[n.GS0=8]="GS0",n[n.A0=9]="A0",n[n.AS0=10]="AS0",n[n.B0=11]="B0",n[n.C1=12]="C1",n[n.CS1=13]="CS1",n[n.D1=14]="D1",n[n.DS1=15]="DS1",n[n.E1=16]="E1",n[n.F1=17]="F1",n[n.FS1=18]="FS1",n[n.G1=19]="G1",n[n.GS1=20]="GS1",n[n.A1=21]="A1",n[n.AS1=22]="AS1",n[n.B1=23]="B1",n[n.C2=24]="C2",n[n.CS2=25]="CS2",n[n.D2=26]="D2",n[n.DS2=27]="DS2",n[n.E2=28]="E2",n[n.F2=29]="F2",n[n.FS2=30]="FS2",n[n.G2=31]="G2",n[n.GS2=32]="GS2",n[n.A2=33]="A2",n[n.AS2=34]="AS2",n[n.B2=35]="B2",n[n.C3=36]="C3",n[n.CS3=37]="CS3",n[n.D3=38]="D3",n[n.DS3=39]="DS3",n[n.E3=40]="E3",n[n.F3=41]="F3",n[n.FS3=42]="FS3",n[n.G3=43]="G3",n[n.GS3=44]="GS3",n[n.A3=45]="A3",n[n.AS3=46]="AS3",n[n.B3=47]="B3",n[n.C4=48]="C4",n[n.CS4=49]="CS4",n[n.D4=50]="D4",n[n.DS4=51]="DS4",n[n.E4=52]="E4",n[n.F4=53]="F4",n[n.FS4=54]="FS4",n[n.G4=55]="G4",n[n.GS4=56]="GS4",n[n.A4=57]="A4",n[n.AS4=58]="AS4",n[n.B4=59]="B4",n[n.C5=60]="C5",n[n.CS5=61]="CS5",n[n.D5=62]="D5",n[n.DS5=63]="DS5",n[n.E5=64]="E5",n[n.F5=65]="F5",n[n.FS5=66]="FS5",n[n.G5=67]="G5",n[n.GS5=68]="GS5",n[n.A5=69]="A5",n[n.AS5=70]="AS5",n[n.B5=71]="B5",n[n.C6=72]="C6",n[n.CS6=73]="CS6",n[n.D6=74]="D6",n[n.DS6=75]="DS6",n[n.E6=76]="E6",n[n.F6=77]="F6",n[n.FS6=78]="FS6",n[n.G6=79]="G6",n[n.GS6=80]="GS6",n[n.A6=81]="A6",n[n.AS6=82]="AS6",n[n.B6=83]="B6",n[n.C7=84]="C7",n[n.CS7=85]="CS7",n[n.D7=86]="D7",n[n.DS7=87]="DS7",n[n.E7=88]="E7",n[n.F7=89]="F7",n[n.FS7=90]="FS7",n[n.G7=91]="G7",n[n.GS7=92]="GS7",n[n.A7=93]="A7",n[n.AS7=94]="AS7",n[n.B7=95]="B7",n[n.C8=96]="C8",n[n.CS8=97]="CS8",n[n.D8=98]="D8",n[n.DS8=99]="DS8",n[n.E8=100]="E8",n[n.F8=101]="F8",n[n.FS8=102]="FS8",n[n.G8=103]="G8",n[n.GS8=104]="GS8",n[n.A8=105]="A8",n[n.AS8=106]="AS8",n[n.B8=107]="B8",n[n.C9=108]="C9",n[n.CS9=109]="CS9",n[n.D9=110]="D9",n[n.DS9=111]="DS9",n[n.E9=112]="E9",n[n.F9=113]="F9",n[n.FS9=114]="FS9",n[n.G9=115]="G9",n[n.GS9=116]="GS9",n[n.A9=117]="A9",n[n.AS9=118]="AS9",n[n.B9=119]="B9",n[n.C10=120]="C10",n[n.CS10=121]="CS10",n[n.D10=122]="D10",n[n.DS10=123]="DS10",n[n.E10=124]="E10",n[n.F10=125]="F10",n[n.FS10=126]="FS10",n[n.G10=127]="G10",n[n.NO_SOUND=128]="NO_SOUND"})(t.Note||(t.Note={}));var r=function(){function n(){}return n.prototype.playPresetSound=function(i){var o=e.clamp(i,0,10);return{buffer:pe.from([2,o,255]),data:{soundId:o}}},n.prototype.playSound=function(i,o){var a={operations:[],repeatCount:e.clamp(o,0,255),totalDurationMs:0},c=Math.min(i.length,59),s=pe.alloc(3+3*c);s.writeUInt8(3,0),s.writeUInt8(a.repeatCount,1),s.writeUInt8(c,2);for(var l=0,u=0;u<c;u++){var f=i[u],h=e.clamp(f.durationMs/10,1,255),d=f.noteName;l+=h,a.operations.push({durationMs:h*10,noteName:d}),s.writeUInt8(h,3+3*u),s.writeUInt8(d,4+3*u),s.writeUInt8(255,5+3*u)}return a.totalDurationMs=l*10*a.repeatCount,{buffer:s,data:a}},n.prototype.stopSound=function(){return{buffer:pe.from([1])}},n}();t.SoundSpec=r})(Ta);Object.defineProperty(Ca,"__esModule",{value:!0});var by=Ta,wy=function(){function t(e){this.spec=new by.SoundSpec,this.timer=null,this.pendingResolve=null,this.characteristic=e}return t.prototype.playPresetSound=function(e){this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var r=this.spec.playPresetSound(e);this.characteristic.write(pe.from(r.buffer),!1)},t.prototype.playSound=function(e,r){var n=this;r===void 0&&(r=0),this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var i=this.spec.playSound(e,r);if(this.characteristic.write(pe.from(i.buffer),!1),i.data.totalDurationMs>0)return new Promise(function(o){n.pendingResolve=o,n.timer=setTimeout(function(){n.pendingResolve&&(n.pendingResolve(),n.pendingResolve=null)},i.data.totalDurationMs)})},t.prototype.stopSound=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var e=this.spec.stopSound();this.characteristic.write(pe.from(e.buffer),!1)},t.UUID="10b201045b3b45719508cf3efcd7bbae",t}();Ca.SoundCharacteristic=wy;var Oa={},Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});var _y=function(){function t(){}return t.prototype.parse=function(e){var r=e.readUInt8(0);switch(r){case 1:{if(e.byteLength<3)throw new Error("parse error");var n=e.readUInt8(1)===0,i=e.readUInt8(2)===1,o=e.readUInt8(3)===1,a=e.readUInt8(4),c=e.byteLength>5?e.readUInt8(5):0;return{buffer:e,data:{isSloped:n,isCollisionDetected:i,isDoubleTapped:o,orientation:a,shakeLevel:c},dataType:"sensor:motion"}}case 2:{var s=e.readUInt8(1),l=void 0,u=void 0,f=void 0,h=void 0;return e.length>2?(l=e.readUInt8(2),u=e.readInt8(3)/10,f=e.readInt8(4)/10,h=e.readInt8(5)/10):(l=0,u=0,f=0,h=0),{buffer:e,data:{id:s,force:l,directionX:u,directionY:f,directionZ:h},dataType:"sensor:magnet"}}case 3:{var d=e.readUInt8(1);if(d===1){var p=e.readInt16LE(2),v=e.readInt16LE(4),m=e.readInt16LE(6);return{buffer:e,data:{roll:p,pitch:v,yaw:m},dataType:"sensor:attitude-euler"}}else if(d===2){var g=e.readInt16LE(2)/1e4,b=e.readInt16LE(4)/1e4,S=e.readInt16LE(6)/1e4,$=e.readInt16LE(8)/1e4;return{buffer:e,data:{w:g,x:b,y:S,z:$},dataType:"sensor:attitude-quaternion"}}}}throw new Error("parse error")},t}();Ra.SensorSpec=_y;Object.defineProperty(Oa,"__esModule",{value:!0});var Ey=Ra,Sy=function(){function t(e,r){this.spec=new Ey.SensorSpec,this.magnetMode=0,this.prevMotionStatus={},this.prevMagnetStatus={},this.prevAttitudeEuler={},this.prevAttitudeQuaternion={},this.characteristic=e,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=r}return t.prototype.getSlopeStatus=function(){var e=this;return new Promise(function(r){e.prevMotionStatus.isSloped!==void 0?r({isSloped:e.prevMotionStatus.isSloped}):r({isSloped:!1})})},t.prototype.getCollisionStatus=function(){var e=this;return new Promise(function(r){e.prevMotionStatus.isCollisionDetected!==void 0?r({isCollisionDetected:e.prevMotionStatus.isCollisionDetected}):r({isCollisionDetected:!1})})},t.prototype.getDoubleTapStatus=function(){var e=this;return new Promise(function(r){e.prevMotionStatus.isDoubleTapped!==void 0?r({isDoubleTapped:e.prevMotionStatus.isDoubleTapped}):r({isDoubleTapped:!1})})},t.prototype.getOrientation=function(){var e=this;return new Promise(function(r){e.prevMotionStatus.orientation!==void 0?r({orientation:e.prevMotionStatus.orientation}):r({orientation:1})})},t.prototype.getMagnetId=function(){var e=this;return new Promise(function(r){e.prevMagnetStatus.id!==void 0?r({id:e.prevMagnetStatus.id}):r({id:0})})},t.prototype.getMagnetForce=function(){var e=this;return new Promise(function(r){e.prevMagnetStatus.force!==void 0&&e.prevMagnetStatus.directionX!==void 0&&e.prevMagnetStatus.directionY!==void 0&&e.prevMagnetStatus.directionZ!==void 0?r({force:e.prevMagnetStatus.force,directionX:e.prevMagnetStatus.directionX,directionY:e.prevMagnetStatus.directionY,directionZ:e.prevMagnetStatus.directionZ}):r({force:0,directionX:0,directionY:0,directionZ:0})})},t.prototype.getAttitudeEuler=function(){var e=this;return new Promise(function(r){e.prevAttitudeEuler.roll!==void 0&&e.prevAttitudeEuler.pitch!==void 0&&e.prevAttitudeEuler.yaw!==void 0?r({roll:e.prevAttitudeEuler.roll,pitch:e.prevAttitudeEuler.pitch,yaw:e.prevAttitudeEuler.yaw}):r({roll:0,pitch:0,yaw:0})})},t.prototype.getAttitudeQuaternion=function(){var e=this;return new Promise(function(r){e.prevAttitudeQuaternion.w!==void 0&&e.prevAttitudeQuaternion.x!==void 0&&e.prevAttitudeQuaternion.y!==void 0&&e.prevAttitudeQuaternion.z!==void 0?r({w:e.prevAttitudeQuaternion.w,x:e.prevAttitudeQuaternion.x,y:e.prevAttitudeQuaternion.y,z:e.prevAttitudeQuaternion.z}):r({w:1,x:0,y:0,z:0})})},t.prototype.notifyMotionStatus=function(){this.characteristic.write(pe.from([129]),!1)},t.prototype.notifyMagnetStatus=function(){this.characteristic.write(pe.from([130]),!1)},t.prototype.setMagnetMode=function(e){this.magnetMode=e},t.prototype.onData=function(e){try{var r=this.spec.parse(e);r.dataType==="sensor:motion"&&(this.prevMotionStatus.isSloped!==r.data.isSloped&&this.eventEmitter.emit("sensor:slope",{isSloped:r.data.isSloped}),r.data.isCollisionDetected&&this.eventEmitter.emit("sensor:collision",{isCollisionDetected:r.data.isCollisionDetected}),r.data.isDoubleTapped&&this.eventEmitter.emit("sensor:double-tap"),this.prevMotionStatus.orientation!==r.data.orientation&&this.eventEmitter.emit("sensor:orientation",{orientation:r.data.orientation}),this.prevMotionStatus.shakeLevel!==r.data.shakeLevel&&this.eventEmitter.emit("sensor:shake",{level:r.data.shakeLevel}),this.prevMotionStatus=r.data),r.dataType==="sensor:magnet"&&(this.magnetMode===1&&this.eventEmitter.emit("sensor:magnet-id",{id:r.data.id}),this.magnetMode===2&&this.eventEmitter.emit("sensor:magnet-force",{force:r.data.force,directionX:r.data.directionX,directionY:r.data.directionY,directionZ:r.data.directionZ}),this.prevMagnetStatus=r.data),r.dataType==="sensor:attitude-euler"&&(this.eventEmitter.emit("sensor:attitude-euler",{roll:r.data.roll,pitch:r.data.pitch,yaw:r.data.yaw}),this.prevAttitudeEuler=r.data),r.dataType==="sensor:attitude-quaternion"&&(this.eventEmitter.emit("sensor:attitude-quaternion",{w:r.data.w,x:r.data.x,y:r.data.y,z:r.data.z}),this.prevAttitudeQuaternion=r.data)}catch{return}},t.UUID="10b201065b3b45719508cf3efcd7bbae",t}();Oa.SensorCharacteristic=Sy;var Pa={},xa={};Object.defineProperty(xa,"__esModule",{value:!0});var Ay=function(){function t(){}return t.prototype.parse=function(e){if(e.byteLength<2)throw new Error("parse error");var r=e.readUInt8(0);if(r!==1)throw new Error("parse error");var n=e.readUInt8(1)!==0;return{buffer:e,data:{id:r,pressed:n},dataType:"button:press"}},t}();xa.ButtonSpec=Ay;Object.defineProperty(Pa,"__esModule",{value:!0});var Cy=xa,Ty=function(){function t(e,r){this.spec=new Cy.ButtonSpec,this.characteristic=e,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=r}return t.prototype.getButtonStatus=function(){return this.read().then(function(e){return{pressed:e.data.pressed}})},t.prototype.read=function(){var e=this;return new Promise(function(r,n){e.characteristic.read(function(i,o){if(i){n(i);return}if(!o){n("cannot read any data from characteristic");return}try{var a=e.spec.parse(o);r(a);return}catch(c){n(c);return}})})},t.prototype.onData=function(e){try{var r=this.spec.parse(e);this.eventEmitter.emit("button:press",{pressed:r.data.pressed})}catch{return}},t.UUID="10b201075b3b45719508cf3efcd7bbae",t}();Pa.ButtonCharacteristic=Ty;var Ia={},La={};Object.defineProperty(La,"__esModule",{value:!0});var Oy=function(){function t(){}return t.prototype.parse=function(e){if(e.byteLength<1)throw new Error("parse error");var r=e.readUInt8(0);return{buffer:e,data:{level:r},dataType:"battery:battery"}},t}();La.BatterySpec=Oy;Object.defineProperty(Ia,"__esModule",{value:!0});var Ry=La,Py=function(){function t(e,r){this.spec=new Ry.BatterySpec,this.characteristic=e,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=r}return t.prototype.getBatteryStatus=function(){return this.read().then(function(e){return e.data})},t.prototype.read=function(){var e=this;return new Promise(function(r,n){e.characteristic.read(function(i,o){if(i){n(i);return}if(!o){n("cannot read any data from characteristic");return}try{var a=e.spec.parse(o);r(a);return}catch(c){n(c);return}})})},t.prototype.onData=function(e){try{var r=this.spec.parse(e);this.eventEmitter.emit("battery:battery",r.data)}catch{return}},t.UUID="10b201085b3b45719508cf3efcd7bbae",t}();Ia.BatteryCharacteristic=Py;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});var ut=nn,xy=It,Iy=function(){function t(e){this.eventEmitter=new xy.EventEmitter,this.characteristic=e,this.characteristic.properties.includes("notify")&&this.characteristic.on("data",this.onData.bind(this))}return t.prototype.init=function(e){this.bleProtocolVersion=e},t.prototype.getBLEProtocolVersion=function(){var e=this;return this.bleProtocolVersion!==void 0?Promise.resolve(this.bleProtocolVersion):new Promise(function(r,n){e.characteristic.subscribe(function(i){i?n(i):(e.characteristic.write(pe.from([1,0]),!1),e.eventEmitter.once("configuration:ble-protocol-version",function(o){e.characteristic.unsubscribe(),e.bleProtocolVersion=o,r(o)}))})})},t.prototype.setFlatThreshold=function(e){var r=ut.clamp(e,1,45);this.characteristic.write(pe.from([5,0,r]),!1)},t.prototype.setCollisionThreshold=function(e){var r=ut.clamp(e,1,10);this.characteristic.write(pe.from([6,0,r]),!1)},t.prototype.setDoubleTapIntervalThreshold=function(e){var r=ut.clamp(e,0,7);this.characteristic.write(pe.from([23,0,r]),!1)},t.prototype.setIdNotification=function(e,r){var n=ut.clamp(e/10,0,255),i=ut.clamp(r,0,255);this.characteristic.write(pe.from([24,0,n,i]),!1)},t.prototype.setIdMissedNotification=function(e){var r=ut.clamp(e/10,0,255);this.characteristic.write(pe.from([25,0,r]),!1)},t.prototype.setMotorSpeedFeedback=function(e){var r=e?1:0;this.characteristic.write(pe.from([28,0,r]),!1)},t.prototype.setMagnetDetection=function(e,r,n){var i=ut.clamp(e,0,2),o=ut.clamp(r/20,1,255),a=ut.clamp(n,0,1);this.characteristic.write(pe.from([27,0,i,o,a]),!1)},t.prototype.setAttitudeControl=function(e,r,n){var i=ut.clamp(e,1,2),o=ut.clamp(r/10,0,255),a=ut.clamp(n,0,1);this.characteristic.write(pe.from([29,0,i,o,a]),!1)},t.prototype.data2result=function(e){var r=e.readUInt8(0);if(r===129){var n=e.toString("utf-8",2,7);this.eventEmitter.emit("configuration:ble-protocol-version",n);return}},t.prototype.onData=function(e){this.data2result(e)},t.UUID="10b201ff5b3b45719508cf3efcd7bbae",t}();Da.ConfigurationCharacteristic=Iy;var zl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CARD_TYPHOON=3670016]="CARD_TYPHOON",e[e.CARD_RUSH=3670054]="CARD_RUSH",e[e.CARD_AUTO_TACKLE=3670018]="CARD_AUTO_TACKLE",e[e.CARD_RANDOM=3670056]="CARD_RANDOM",e[e.CARD_TACKLE_POWER_UP=3670020]="CARD_TACKLE_POWER_UP",e[e.CARD_SWING_POWER_UP=3670058]="CARD_SWING_POWER_UP",e[e.CARD_SIDE_ATTACK=3670022]="CARD_SIDE_ATTACK",e[e.CARD_CHASING=3670060]="CARD_CHASING",e[e.CARD_LEFT=3670024]="CARD_LEFT",e[e.CARD_RIGHT=3670062]="CARD_RIGHT",e[e.CARD_FRONT=3670026]="CARD_FRONT",e[e.CARD_BACK=3670064]="CARD_BACK",e[e.CARD_GO=3670028]="CARD_GO",e[e.SKUNK_BLUE=3670078]="SKUNK_BLUE",e[e.SKUNK_GREEN=3670042]="SKUNK_GREEN",e[e.SKUNK_YELLOW=3670080]="SKUNK_YELLOW",e[e.SKUNK_ORANGE=3670044]="SKUNK_ORANGE",e[e.SKUNK_RED=3670082]="SKUNK_RED",e[e.SKUNK_BROWN=3670046]="SKUNK_BROWN",e[e.STICKER_SPEED_UP=3670066]="STICKER_SPEED_UP",e[e.STICKER_SPEED_DOWN=3670030]="STICKER_SPEED_DOWN",e[e.STICKER_WOBBLE=3670068]="STICKER_WOBBLE",e[e.STICKER_PANIC=3670032]="STICKER_PANIC",e[e.STICKER_SPIN=3670070]="STICKER_SPIN",e[e.STICKER_SHOCK=3670034]="STICKER_SHOCK",e[e.MARK_CRAFT_FIGHTER=3670048]="MARK_CRAFT_FIGHTER",e[e.MARK_RHYTHM_AND_GO=3670052]="MARK_RHYTHM_AND_GO",e[e.MARK_SKUNK_CHASER=3670086]="MARK_SKUNK_CHASER",e[e.MARK_FINGER_STRIKE=3670050]="MARK_FINGER_STRIKE",e[e.MARK_FINGER_STRIKE_1P=3670088]="MARK_FINGER_STRIKE_1P",e[e.MARK_FREE_MOVE=3670084]="MARK_FREE_MOVE"}(t.StandardId||(t.StandardId={}))})(zl);Object.defineProperty(lt,"__esModule",{value:!0});var Ly=fa;lt.IdCharacteristic=Ly.IdCharacteristic;var Dy=ha;lt.MotorCharacteristic=Dy.MotorCharacteristic;var $y=Sa;lt.LightCharacteristic=$y.LightCharacteristic;var My=Ca;lt.SoundCharacteristic=My.SoundCharacteristic;var ky=Oa;lt.SensorCharacteristic=ky.SensorCharacteristic;var Fy=Pa;lt.ButtonCharacteristic=Fy.ButtonCharacteristic;var By=Ia;lt.BatteryCharacteristic=By.BatteryCharacteristic;var jy=Da;lt.ConfigurationCharacteristic=jy.ConfigurationCharacteristic;var Ny=zl;lt.StandardId=Ny.StandardId;var Uy=Ta;lt.Note=Uy.Note;var Vy=Ge&&Ge.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function c(u){try{l(n.next(u))}catch(f){a(f)}}function s(u){try{l(n.throw(u))}catch(f){a(f)}}function l(u){u.done?o(u.value):i(u.value).then(c,s)}l((n=n.apply(t,e||[])).next())})},Gy=Ge&&Ge.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(l){return function(u){return s([l,u])}}function s(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(la,"__esModule",{value:!0});var zy=It,Ke=lt,Wy=Bi;function We(){return Promise.reject("cannot discover the characteristic")}var Hy=function(){function t(e){this.eventEmitter=new zy.EventEmitter,this.motorCharacteristic=null,this.lightCharacteristic=null,this.soundCharacteristic=null,this.sensorCharacteristic=null,this.buttonCharacteristic=null,this.batteryCharacteristic=null,this.configurationCharacteristic=null,this.peripheral=e}return Object.defineProperty(t.prototype,"id",{get:function(){return this.peripheral.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"address",{get:function(){return this.peripheral.address},enumerable:!0,configurable:!0}),t.prototype.connect=function(){var e=this;return new Promise(function(r,n){e.peripheral.connect(function(i){if(i){n(i);return}e.peripheral.discoverAllServicesAndCharacteristics(function(o,a,c){return Vy(e,void 0,void 0,function(){var s;return Gy(this,function(l){switch(l.label){case 0:return o?(n(o),[2]):(c&&this.setCharacteristics(c),[4,this.getBLEProtocolVersion()]);case 1:return s=l.sent(),this.initCharacteristics(s),r(this),[2]}})})})})})},t.prototype.disconnect=function(){var e=this;return new Promise(function(r){e.peripheral.disconnect(function(){r()})})},t.prototype.on=function(e,r){var n=this.eventEmitter;return n.on(e,r),this},t.prototype.off=function(e,r){var n=this.eventEmitter;return n.removeListener(e,r),this},t.prototype.move=function(e,r,n){return n===void 0&&(n=0),this.motorCharacteristic!==null?this.motorCharacteristic.move(e,r,n):We()},t.prototype.moveTo=function(e,r){return r===void 0&&(r={moveType:0,maxSpeed:115,speedType:0,timeout:0,overwrite:!0}),this.motorCharacteristic!==null?this.motorCharacteristic.moveTo(e,r):We()},t.prototype.accelerationMove=function(e,r,n,i,o){return n===void 0&&(n=0),i===void 0&&(i=Wy.MotorSpec.ACC_PRIORITY_STRAIGHT),o===void 0&&(o=0),this.motorCharacteristic!==null?this.motorCharacteristic.accelerationMove(e,r,n,i,o):We()},t.prototype.stop=function(){this.motorCharacteristic!==null&&this.motorCharacteristic.stop()},t.prototype.turnOnLight=function(e){return this.lightCharacteristic!==null?this.lightCharacteristic.turnOnLight(e):We()},t.prototype.turnOnLightWithScenario=function(e,r){return r===void 0&&(r=0),this.lightCharacteristic!==null?this.lightCharacteristic.turnOnLightWithScenario(e,r):We()},t.prototype.turnOffLight=function(){this.lightCharacteristic!==null&&this.lightCharacteristic.turnOffLight()},t.prototype.playPresetSound=function(e){this.soundCharacteristic!==null&&this.soundCharacteristic.playPresetSound(e)},t.prototype.playSound=function(e,r){return r===void 0&&(r=0),this.soundCharacteristic!==null?this.soundCharacteristic.playSound(e,r):We()},t.prototype.stopSound=function(){this.soundCharacteristic!==null&&this.soundCharacteristic.stopSound()},t.prototype.getSlopeStatus=function(){return this.sensorCharacteristic!==null?this.sensorCharacteristic.getSlopeStatus():We()},t.prototype.getCollisionStatus=function(){return this.sensorCharacteristic!==null?this.sensorCharacteristic.getCollisionStatus():We()},t.prototype.getDoubleTapStatus=function(){return this.sensorCharacteristic!==null?this.sensorCharacteristic.getDoubleTapStatus():We()},t.prototype.getOrientation=function(){return this.sensorCharacteristic!==null?this.sensorCharacteristic.getOrientation():We()},t.prototype.getMagnetId=function(){return this.sensorCharacteristic!==null?this.sensorCharacteristic.getMagnetId():We()},t.prototype.getMagnetForce=function(){return this.sensorCharacteristic!==null?this.sensorCharacteristic.getMagnetForce():We()},t.prototype.getAttitudeEuler=function(){return this.sensorCharacteristic!==null?this.sensorCharacteristic.getAttitudeEuler():We()},t.prototype.getAttitudeQuaternion=function(){return this.sensorCharacteristic!==null?this.sensorCharacteristic.getAttitudeQuaternion():We()},t.prototype.getButtonStatus=function(){return this.buttonCharacteristic!==null?this.buttonCharacteristic.getButtonStatus():We()},t.prototype.getBatteryStatus=function(){return this.batteryCharacteristic!==null?this.batteryCharacteristic.getBatteryStatus():We()},t.prototype.getBLEProtocolVersion=function(){return this.configurationCharacteristic!==null?this.configurationCharacteristic.getBLEProtocolVersion():We()},t.prototype.setFlatThreshold=function(e){this.configurationCharacteristic!==null&&this.configurationCharacteristic.setFlatThreshold(e)},t.prototype.setCollisionThreshold=function(e){this.configurationCharacteristic!==null&&this.configurationCharacteristic.setCollisionThreshold(e)},t.prototype.setIdNotification=function(e,r){this.configurationCharacteristic!==null&&this.configurationCharacteristic.setIdNotification(e,r)},t.prototype.setIdMissedNotification=function(e){this.configurationCharacteristic!==null&&this.configurationCharacteristic.setIdMissedNotification(e)},t.prototype.setDoubleTapIntervalThreshold=function(e){this.configurationCharacteristic!==null&&this.configurationCharacteristic.setDoubleTapIntervalThreshold(e)},t.prototype.setMotorSpeedFeedback=function(e){this.configurationCharacteristic!==null&&this.configurationCharacteristic.setMotorSpeedFeedback(e)},t.prototype.setMagnetDetection=function(e,r,n){n===void 0&&(n=0);var i;this.configurationCharacteristic!==null&&((i=this.sensorCharacteristic)===null||i===void 0||i.setMagnetMode(e),this.configurationCharacteristic.setMagnetDetection(e,r,n))},t.prototype.setAttitudeControl=function(e,r,n){this.configurationCharacteristic!==null&&this.configurationCharacteristic.setAttitudeControl(e,r,n)},t.prototype.setCharacteristics=function(e){var r=this;e.forEach(function(n){switch(n.uuid){case Ke.IdCharacteristic.UUID:new Ke.IdCharacteristic(n,r.eventEmitter);break;case Ke.MotorCharacteristic.UUID:r.motorCharacteristic=new Ke.MotorCharacteristic(n,r.eventEmitter);break;case Ke.LightCharacteristic.UUID:r.lightCharacteristic=new Ke.LightCharacteristic(n);break;case Ke.SoundCharacteristic.UUID:r.soundCharacteristic=new Ke.SoundCharacteristic(n);break;case Ke.SensorCharacteristic.UUID:r.sensorCharacteristic=new Ke.SensorCharacteristic(n,r.eventEmitter);break;case Ke.ButtonCharacteristic.UUID:r.buttonCharacteristic=new Ke.ButtonCharacteristic(n,r.eventEmitter);break;case Ke.BatteryCharacteristic.UUID:r.batteryCharacteristic=new Ke.BatteryCharacteristic(n,r.eventEmitter);break;case Ke.ConfigurationCharacteristic.UUID:r.configurationCharacteristic=new Ke.ConfigurationCharacteristic(n);break}})},t.prototype.initCharacteristics=function(e){this.motorCharacteristic!==null&&this.motorCharacteristic.init(e),this.configurationCharacteristic!==null&&this.configurationCharacteristic.init(e),this.sensorCharacteristic!==null&&(this.sensorCharacteristic.notifyMotionStatus(),this.sensorCharacteristic.notifyMagnetStatus())},t.TOIO_SERVICE_ID="10b201005b3b45719508cf3efcd7bbae",t}();la.Cube=Hy;Object.defineProperty(Sr,"__esModule",{value:!0});var Ky=la;Sr.Cube=Ky.Cube;var Wl=lt;Sr.StandardId=Wl.StandardId;Sr.Note=Wl.Note;var Fn={},Bo={exports:{}},jo={exports:{}},Tn=1e3,On=Tn*60,Rn=On*60,Pn=Rn*24,qy=Pn*365.25,Xy=function(t,e){return e=e||{},typeof t=="string"?Yy(t):e.long?Qy(t):Jy(t)};function Yy(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*qy;case"days":case"day":case"d":return r*Pn;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Rn;case"minutes":case"minute":case"mins":case"min":case"m":return r*On;case"seconds":case"second":case"secs":case"sec":case"s":return r*Tn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function Jy(t){return t>=Pn?Math.round(t/Pn)+"d":t>=Rn?Math.round(t/Rn)+"h":t>=On?Math.round(t/On)+"m":t>=Tn?Math.round(t/Tn)+"s":t+"ms"}function Qy(t){return Zn(t,Pn,"day")||Zn(t,Rn,"hour")||Zn(t,On,"minute")||Zn(t,Tn,"second")||t+" ms"}function Zn(t,e,r){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}(function(t,e){e=t.exports=o,e.coerce=l,e.disable=c,e.enable=a,e.enabled=s,e.humanize=Xy,e.names=[],e.skips=[],e.formatters={};var r=0,n;function i(){return e.colors[r++%e.colors.length]}function o(u){function f(){}f.enabled=!1;function h(){var p=h,v=+new Date,m=v-(n||v);p.diff=m,p.prev=n,p.curr=v,n=v,p.useColors==null&&(p.useColors=e.useColors()),p.color==null&&p.useColors&&(p.color=i());var g=Array.prototype.slice.call(arguments);g[0]=e.coerce(g[0]),typeof g[0]!="string"&&(g=["%o"].concat(g));var b=0;g[0]=g[0].replace(/%([a-z%])/g,function($,C){if($==="%%")return $;b++;var D=e.formatters[C];if(typeof D=="function"){var W=g[b];$=D.call(p,W),g.splice(b,1),b--}return $}),typeof e.formatArgs=="function"&&(g=e.formatArgs.apply(p,g));var S=h.log||e.log||console.log.bind(console);S.apply(p,g)}h.enabled=!0;var d=e.enabled(u)?h:f;return d.namespace=u,d}function a(u){e.save(u);for(var f=(u||"").split(/[\s,]+/),h=f.length,d=0;d<h;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function c(){e.enable("")}function s(u){var f,h;for(f=0,h=e.skips.length;f<h;f++)if(e.skips[f].test(u))return!1;for(f=0,h=e.names.length;f<h;f++)if(e.names[f].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}})(jo,jo.exports);var Zy=jo.exports;(function(t,e){e=t.exports=Zy,e.log=i,e.formatArgs=n,e.save=o,e.load=a,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:c(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}e.formatters.j=function(s){return JSON.stringify(s)};function n(){var s=arguments,l=this.useColors;if(s[0]=(l?"%c":"")+this.namespace+(l?" %c":" ")+s[0]+(l?"%c ":" ")+"+"+e.humanize(this.diff),!l)return s;var u="color: "+this.color;s=[s[0],u,"color: inherit"].concat(Array.prototype.slice.call(s,1));var f=0,h=0;return s[0].replace(/%[a-z%]/g,function(d){d!=="%%"&&(f++,d==="%c"&&(h=f))}),s.splice(h,0,u),s}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(s){try{s==null?e.storage.removeItem("debug"):e.storage.debug=s}catch{}}function a(){var s;try{s=e.storage.debug}catch{}return s}e.enable(a());function c(){try{return window.localStorage}catch{}}})(Bo,Bo.exports);var Ar=Bo.exports,sr={},Hl={},Kl=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==i||c.enumerable!==!0)return!1}return!0},eb=Kl,$a=function(){return eb()&&!!Symbol.toStringTag},tb=Error,rb=EvalError,nb=RangeError,ib=ReferenceError,ql=SyntaxError,ji=TypeError,ob=URIError,rc=typeof Symbol<"u"&&Symbol,ab=Kl,sb=function(){return typeof rc!="function"||typeof Symbol!="function"||typeof rc("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ab()},co={__proto__:null,foo:{}},cb={__proto__:co}.foo===co.foo&&!(co instanceof Object),lb=function(){return cb},ub="Function.prototype.bind called on incompatible ",fb=Object.prototype.toString,db=Math.max,hb="[object Function]",nc=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},pb=function(e,r){for(var n=[],i=r,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},vb=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},gb=function(e){var r=this;if(typeof r!="function"||fb.apply(r)!==hb)throw new TypeError(ub+r);for(var n=pb(arguments,1),i,o=function(){if(this instanceof i){var u=r.apply(this,nc(n,arguments));return Object(u)===u?u:this}return r.apply(e,nc(n,arguments))},a=db(0,r.length-n.length),c=[],s=0;s<a;s++)c[s]="$"+s;if(i=Function("binder","return function ("+vb(c,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},mb=gb,Bn=Function.prototype.bind||mb,yb=Function.prototype.call,bb=Object.prototype.hasOwnProperty,wb=Bn,_b=wb.call(yb,bb),ve,Eb=tb,Sb=rb,Ab=nb,Cb=ib,Xr=ql,Hr=ji,Tb=ob,Xl=Function,lo=function(t){try{return Xl('"use strict"; return ('+t+").constructor;")()}catch{}},vr=Object.getOwnPropertyDescriptor;if(vr)try{vr({},"")}catch{vr=null}var uo=function(){throw new Hr},Ob=vr?function(){try{return arguments.callee,uo}catch{try{return vr(arguments,"callee").get}catch{return uo}}}():uo,Pr=sb(),Rb=lb(),Ue=Object.getPrototypeOf||(Rb?function(t){return t.__proto__}:null),$r={},Pb=typeof Uint8Array>"u"||!Ue?ve:Ue(Uint8Array),gr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ve:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ve:ArrayBuffer,"%ArrayIteratorPrototype%":Pr&&Ue?Ue([][Symbol.iterator]()):ve,"%AsyncFromSyncIteratorPrototype%":ve,"%AsyncFunction%":$r,"%AsyncGenerator%":$r,"%AsyncGeneratorFunction%":$r,"%AsyncIteratorPrototype%":$r,"%Atomics%":typeof Atomics>"u"?ve:Atomics,"%BigInt%":typeof BigInt>"u"?ve:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ve:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ve:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ve:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Eb,"%eval%":eval,"%EvalError%":Sb,"%Float32Array%":typeof Float32Array>"u"?ve:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ve:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ve:FinalizationRegistry,"%Function%":Xl,"%GeneratorFunction%":$r,"%Int8Array%":typeof Int8Array>"u"?ve:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ve:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ve:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Pr&&Ue?Ue(Ue([][Symbol.iterator]())):ve,"%JSON%":typeof JSON=="object"?JSON:ve,"%Map%":typeof Map>"u"?ve:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Pr||!Ue?ve:Ue(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ve:Promise,"%Proxy%":typeof Proxy>"u"?ve:Proxy,"%RangeError%":Ab,"%ReferenceError%":Cb,"%Reflect%":typeof Reflect>"u"?ve:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ve:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Pr||!Ue?ve:Ue(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ve:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Pr&&Ue?Ue(""[Symbol.iterator]()):ve,"%Symbol%":Pr?Symbol:ve,"%SyntaxError%":Xr,"%ThrowTypeError%":Ob,"%TypedArray%":Pb,"%TypeError%":Hr,"%Uint8Array%":typeof Uint8Array>"u"?ve:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ve:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ve:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ve:Uint32Array,"%URIError%":Tb,"%WeakMap%":typeof WeakMap>"u"?ve:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ve:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ve:WeakSet};if(Ue)try{null.error}catch(t){var xb=Ue(Ue(t));gr["%Error.prototype%"]=xb}var Ib=function t(e){var r;if(e==="%AsyncFunction%")r=lo("async function () {}");else if(e==="%GeneratorFunction%")r=lo("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=lo("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ue&&(r=Ue(i.prototype))}return gr[e]=r,r},ic={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},jn=Bn,Ei=_b,Lb=jn.call(Function.call,Array.prototype.concat),Db=jn.call(Function.apply,Array.prototype.splice),oc=jn.call(Function.call,String.prototype.replace),Si=jn.call(Function.call,String.prototype.slice),$b=jn.call(Function.call,RegExp.prototype.exec),Mb=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,kb=/\\(\\)?/g,Fb=function(e){var r=Si(e,0,1),n=Si(e,-1);if(r==="%"&&n!=="%")throw new Xr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Xr("invalid intrinsic syntax, expected opening `%`");var i=[];return oc(e,Mb,function(o,a,c,s){i[i.length]=c?oc(s,kb,"$1"):a||o}),i},Bb=function(e,r){var n=e,i;if(Ei(ic,n)&&(i=ic[n],n="%"+i[0]+"%"),Ei(gr,n)){var o=gr[n];if(o===$r&&(o=Ib(n)),typeof o>"u"&&!r)throw new Hr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Xr("intrinsic "+e+" does not exist!")},Ma=function(e,r){if(typeof e!="string"||e.length===0)throw new Hr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Hr('"allowMissing" argument must be a boolean');if($b(/^%?[^%]*%?$/,e)===null)throw new Xr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Fb(e),i=n.length>0?n[0]:"",o=Bb("%"+i+"%",r),a=o.name,c=o.value,s=!1,l=o.alias;l&&(i=l[0],Db(n,Lb([0,1],l)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],d=Si(h,0,1),p=Si(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Xr("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(s=!0),i+="."+h,a="%"+i+"%",Ei(gr,a))c=gr[a];else if(c!=null){if(!(h in c)){if(!r)throw new Hr("base intrinsic for "+e+" exists, but the property is not available.");return}if(vr&&u+1>=n.length){var v=vr(c,h);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?c=v.get:c=c[h]}else f=Ei(c,h),c=c[h];f&&!s&&(gr[a]=c)}}return c},Yl={exports:{}},jb=Ma,ai=jb("%Object.defineProperty%",!0)||!1;if(ai)try{ai({},"a",{value:1})}catch{ai=!1}var ka=ai,Nb=Object.getOwnPropertyDescriptor,si=Nb;if(si)try{si([],"length")}catch{si=null}var Fa=si,ac=ka,Ub=ql,xr=ji,sc=Fa,Vb=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new xr("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new xr("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new xr("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new xr("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new xr("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new xr("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,s=!!sc&&sc(e,r);if(ac)ac(e,r,{configurable:a===null&&s?s.configurable:!a,enumerable:i===null&&s?s.enumerable:!i,value:n,writable:o===null&&s?s.writable:!o});else if(c||!i&&!o&&!a)e[r]=n;else throw new Ub("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},No=ka,Jl=function(){return!!No};Jl.hasArrayLengthDefineBug=function(){if(!No)return null;try{return No([],"length",{value:1}).length!==1}catch{return!0}};var Gb=Jl,zb=Ma,cc=Vb,Wb=Gb(),lc=Fa,uc=ji,Hb=zb("%Math.floor%"),Kb=function(e,r){if(typeof e!="function")throw new uc("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Hb(r)!==r)throw new uc("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&lc){var a=lc(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!n)&&(Wb?cc(e,"length",r,!0,!0):cc(e,"length",r)),e},Ql=Function.prototype.call,Zl=Function.prototype.apply,qb=typeof Reflect=="function"&&Reflect.apply,Xb=Bn,Yb=Zl,Jb=Ql,Qb=qb,eu=Qb||Xb.call(Jb,Yb),Zb=Bn,e0=ji,t0=Ql,r0=eu,n0=function(e){if(e.length<1||typeof e[0]!="function")throw new e0("a function is required");return r0(Zb,t0,e)},i0=Bn,o0=Zl,a0=eu,s0=function(){return a0(i0,o0,arguments)};(function(t){var e=Kb,r=ka,n=n0,i=s0;t.exports=function(a){var c=n(arguments),s=a.length-(arguments.length-1);return e(c,1+(s>0?s:0),!0)},r?r(t.exports,"apply",{value:i}):t.exports.apply=i})(Yl);var tu=Yl.exports,ru=Ma,nu=tu,c0=nu(ru("String.prototype.indexOf")),iu=function(e,r){var n=ru(e,!!r);return typeof n=="function"&&c0(e,".prototype.")>-1?nu(n):n},l0=$a(),u0=iu,Uo=u0("Object.prototype.toString"),Ni=function(e){return l0&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Uo(e)==="[object Arguments]"},ou=function(e){return Ni(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Uo(e)!=="[object Array]"&&Uo(e.callee)==="[object Function]"},f0=function(){return Ni(arguments)}();Ni.isLegacyArguments=ou;var d0=f0?Ni:ou,h0=Object.prototype.toString,p0=Function.prototype.toString,v0=/^\s*(?:function)?\*/,au=$a(),fo=Object.getPrototypeOf,g0=function(){if(!au)return!1;try{return Function("return function*() {}")()}catch{}},ho,m0=function(e){if(typeof e!="function")return!1;if(v0.test(p0.call(e)))return!0;if(!au){var r=h0.call(e);return r==="[object GeneratorFunction]"}if(!fo)return!1;if(typeof ho>"u"){var n=g0();ho=n?fo(n):!1}return fo(e)===ho},su=Function.prototype.toString,jr=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Vo,ci;if(typeof jr=="function"&&typeof Object.defineProperty=="function")try{Vo=Object.defineProperty({},"length",{get:function(){throw ci}}),ci={},jr(function(){throw 42},null,Vo)}catch(t){t!==ci&&(jr=null)}else jr=null;var y0=/^\s*class\b/,Go=function(e){try{var r=su.call(e);return y0.test(r)}catch{return!1}},po=function(e){try{return Go(e)?!1:(su.call(e),!0)}catch{return!1}},li=Object.prototype.toString,b0="[object Object]",w0="[object Function]",_0="[object GeneratorFunction]",E0="[object HTMLAllCollection]",S0="[object HTML document.all class]",A0="[object HTMLCollection]",C0=typeof Symbol=="function"&&!!Symbol.toStringTag,T0=!(0 in[,]),zo=function(){return!1};if(typeof document=="object"){var O0=document.all;li.call(O0)===li.call(document.all)&&(zo=function(e){if((T0||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=li.call(e);return(r===E0||r===S0||r===A0||r===b0)&&e("")==null}catch{}return!1})}var R0=jr?function(e){if(zo(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{jr(e,null,Vo)}catch(r){if(r!==ci)return!1}return!Go(e)&&po(e)}:function(e){if(zo(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(C0)return po(e);if(Go(e))return!1;var r=li.call(e);return r!==w0&&r!==_0&&!/^\[object HTML/.test(r)?!1:po(e)},P0=R0,x0=Object.prototype.toString,cu=Object.prototype.hasOwnProperty,I0=function(e,r,n){for(var i=0,o=e.length;i<o;i++)cu.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},L0=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},D0=function(e,r,n){for(var i in e)cu.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},$0=function(e,r,n){if(!P0(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),x0.call(e)==="[object Array]"?I0(e,r,i):typeof e=="string"?L0(e,r,i):D0(e,r,i)},M0=$0,k0=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],vo=k0,F0=typeof globalThis>"u"?Ge:globalThis,B0=function(){for(var e=[],r=0;r<vo.length;r++)typeof F0[vo[r]]=="function"&&(e[e.length]=vo[r]);return e},Ai=M0,j0=B0,fc=tu,Ba=iu,ui=Fa,N0=Ba("Object.prototype.toString"),lu=$a(),dc=typeof globalThis>"u"?Ge:globalThis,Wo=j0(),ja=Ba("String.prototype.slice"),go=Object.getPrototypeOf,U0=Ba("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Ci={__proto__:null};lu&&ui&&go?Ai(Wo,function(t){var e=new dc[t];if(Symbol.toStringTag in e){var r=go(e),n=ui(r,Symbol.toStringTag);if(!n){var i=go(r);n=ui(i,Symbol.toStringTag)}Ci["$"+t]=fc(n.get)}}):Ai(Wo,function(t){var e=new dc[t],r=e.slice||e.set;r&&(Ci["$"+t]=fc(r))});var V0=function(e){var r=!1;return Ai(Ci,function(n,i){if(!r)try{"$"+n(e)===i&&(r=ja(i,1))}catch{}}),r},G0=function(e){var r=!1;return Ai(Ci,function(n,i){if(!r)try{n(e),r=ja(i,1)}catch{}}),r},uu=function(e){if(!e||typeof e!="object")return!1;if(!lu){var r=ja(N0(e),8,-1);return U0(Wo,r)>-1?r:r!=="Object"?!1:G0(e)}return ui?V0(e):null},z0=uu,W0=function(e){return!!z0(e)};(function(t){var e=d0,r=m0,n=uu,i=W0;function o(L){return L.call.bind(L)}var a=typeof BigInt<"u",c=typeof Symbol<"u",s=o(Object.prototype.toString),l=o(Number.prototype.valueOf),u=o(String.prototype.valueOf),f=o(Boolean.prototype.valueOf);if(a)var h=o(BigInt.prototype.valueOf);if(c)var d=o(Symbol.prototype.valueOf);function p(L,K){if(typeof L!="object")return!1;try{return K(L),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function v(L){return typeof Promise<"u"&&L instanceof Promise||L!==null&&typeof L=="object"&&typeof L.then=="function"&&typeof L.catch=="function"}t.isPromise=v;function m(L){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(L):i(L)||w(L)}t.isArrayBufferView=m;function g(L){return n(L)==="Uint8Array"}t.isUint8Array=g;function b(L){return n(L)==="Uint8ClampedArray"}t.isUint8ClampedArray=b;function S(L){return n(L)==="Uint16Array"}t.isUint16Array=S;function $(L){return n(L)==="Uint32Array"}t.isUint32Array=$;function C(L){return n(L)==="Int8Array"}t.isInt8Array=C;function D(L){return n(L)==="Int16Array"}t.isInt16Array=D;function W(L){return n(L)==="Int32Array"}t.isInt32Array=W;function G(L){return n(L)==="Float32Array"}t.isFloat32Array=G;function q(L){return n(L)==="Float64Array"}t.isFloat64Array=q;function Y(L){return n(L)==="BigInt64Array"}t.isBigInt64Array=Y;function B(L){return n(L)==="BigUint64Array"}t.isBigUint64Array=B;function A(L){return s(L)==="[object Map]"}A.working=typeof Map<"u"&&A(new Map);function E(L){return typeof Map>"u"?!1:A.working?A(L):L instanceof Map}t.isMap=E;function y(L){return s(L)==="[object Set]"}y.working=typeof Set<"u"&&y(new Set);function _(L){return typeof Set>"u"?!1:y.working?y(L):L instanceof Set}t.isSet=_;function T(L){return s(L)==="[object WeakMap]"}T.working=typeof WeakMap<"u"&&T(new WeakMap);function R(L){return typeof WeakMap>"u"?!1:T.working?T(L):L instanceof WeakMap}t.isWeakMap=R;function x(L){return s(L)==="[object WeakSet]"}x.working=typeof WeakSet<"u"&&x(new WeakSet);function P(L){return x(L)}t.isWeakSet=P;function k(L){return s(L)==="[object ArrayBuffer]"}k.working=typeof ArrayBuffer<"u"&&k(new ArrayBuffer);function U(L){return typeof ArrayBuffer>"u"?!1:k.working?k(L):L instanceof ArrayBuffer}t.isArrayBuffer=U;function V(L){return s(L)==="[object DataView]"}V.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&V(new DataView(new ArrayBuffer(1),0,1));function w(L){return typeof DataView>"u"?!1:V.working?V(L):L instanceof DataView}t.isDataView=w;var O=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function I(L){return s(L)==="[object SharedArrayBuffer]"}function X(L){return typeof O>"u"?!1:(typeof I.working>"u"&&(I.working=I(new O)),I.working?I(L):L instanceof O)}t.isSharedArrayBuffer=X;function ee(L){return s(L)==="[object AsyncFunction]"}t.isAsyncFunction=ee;function Z(L){return s(L)==="[object Map Iterator]"}t.isMapIterator=Z;function ne(L){return s(L)==="[object Set Iterator]"}t.isSetIterator=ne;function ae(L){return s(L)==="[object Generator]"}t.isGeneratorObject=ae;function ue(L){return s(L)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=ue;function M(L){return p(L,l)}t.isNumberObject=M;function j(L){return p(L,u)}t.isStringObject=j;function se(L){return p(L,f)}t.isBooleanObject=se;function Te(L){return a&&p(L,h)}t.isBigIntObject=Te;function Oe(L){return c&&p(L,d)}t.isSymbolObject=Oe;function ce(L){return M(L)||j(L)||se(L)||Te(L)||Oe(L)}t.isBoxedPrimitive=ce;function Re(L){return typeof Uint8Array<"u"&&(U(L)||X(L))}t.isAnyArrayBuffer=Re,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(L){Object.defineProperty(t,L,{enumerable:!1,value:function(){throw new Error(L+" is not supported in userland")}})})})(Hl);var H0=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},Ho={exports:{}};typeof Object.create=="function"?Ho.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ho.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var K0=Ho.exports;(function(t){var e={},r=Object.getOwnPropertyDescriptors||function(O){for(var I=Object.keys(O),X={},ee=0;ee<I.length;ee++)X[I[ee]]=Object.getOwnPropertyDescriptor(O,I[ee]);return X},n=/%[sdj%]/g;t.format=function(w){if(!D(w)){for(var O=[],I=0;I<arguments.length;I++)O.push(c(arguments[I]));return O.join(" ")}for(var I=1,X=arguments,ee=X.length,Z=String(w).replace(n,function(ae){if(ae==="%%")return"%";if(I>=ee)return ae;switch(ae){case"%s":return String(X[I++]);case"%d":return Number(X[I++]);case"%j":try{return JSON.stringify(X[I++])}catch{return"[Circular]"}default:return ae}}),ne=X[I];I<ee;ne=X[++I])S(ne)||!Y(ne)?Z+=" "+ne:Z+=" "+c(ne);return Z},t.deprecate=function(w,O){if(typeof ot<"u"&&ot.noDeprecation===!0)return w;if(typeof ot>"u")return function(){return t.deprecate(w,O).apply(this,arguments)};var I=!1;function X(){if(!I){if(ot.throwDeprecation)throw new Error(O);ot.traceDeprecation?console.trace(O):console.error(O),I=!0}return w.apply(this,arguments)}return X};var i={},o=/^$/;if(e.NODE_DEBUG){var a=e.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+a+"$","i")}t.debuglog=function(w){if(w=w.toUpperCase(),!i[w])if(o.test(w)){var O=ot.pid;i[w]=function(){var I=t.format.apply(t,arguments);console.error("%s %d: %s",w,O,I)}}else i[w]=function(){};return i[w]};function c(w,O){var I={seen:[],stylize:l};return arguments.length>=3&&(I.depth=arguments[2]),arguments.length>=4&&(I.colors=arguments[3]),b(O)?I.showHidden=O:O&&t._extend(I,O),G(I.showHidden)&&(I.showHidden=!1),G(I.depth)&&(I.depth=2),G(I.colors)&&(I.colors=!1),G(I.customInspect)&&(I.customInspect=!0),I.colors&&(I.stylize=s),f(I,w,I.depth)}t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(w,O){var I=c.styles[O];return I?"\x1B["+c.colors[I][0]+"m"+w+"\x1B["+c.colors[I][1]+"m":w}function l(w,O){return w}function u(w){var O={};return w.forEach(function(I,X){O[I]=!0}),O}function f(w,O,I){if(w.customInspect&&O&&E(O.inspect)&&O.inspect!==t.inspect&&!(O.constructor&&O.constructor.prototype===O)){var X=O.inspect(I,w);return D(X)||(X=f(w,X,I)),X}var ee=h(w,O);if(ee)return ee;var Z=Object.keys(O),ne=u(Z);if(w.showHidden&&(Z=Object.getOwnPropertyNames(O)),A(O)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return d(O);if(Z.length===0){if(E(O)){var ae=O.name?": "+O.name:"";return w.stylize("[Function"+ae+"]","special")}if(q(O))return w.stylize(RegExp.prototype.toString.call(O),"regexp");if(B(O))return w.stylize(Date.prototype.toString.call(O),"date");if(A(O))return d(O)}var ue="",M=!1,j=["{","}"];if(g(O)&&(M=!0,j=["[","]"]),E(O)){var se=O.name?": "+O.name:"";ue=" [Function"+se+"]"}if(q(O)&&(ue=" "+RegExp.prototype.toString.call(O)),B(O)&&(ue=" "+Date.prototype.toUTCString.call(O)),A(O)&&(ue=" "+d(O)),Z.length===0&&(!M||O.length==0))return j[0]+ue+j[1];if(I<0)return q(O)?w.stylize(RegExp.prototype.toString.call(O),"regexp"):w.stylize("[Object]","special");w.seen.push(O);var Te;return M?Te=p(w,O,I,ne,Z):Te=Z.map(function(Oe){return v(w,O,I,ne,Oe,M)}),w.seen.pop(),m(Te,ue,j)}function h(w,O){if(G(O))return w.stylize("undefined","undefined");if(D(O)){var I="'"+JSON.stringify(O).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return w.stylize(I,"string")}if(C(O))return w.stylize(""+O,"number");if(b(O))return w.stylize(""+O,"boolean");if(S(O))return w.stylize("null","null")}function d(w){return"["+Error.prototype.toString.call(w)+"]"}function p(w,O,I,X,ee){for(var Z=[],ne=0,ae=O.length;ne<ae;++ne)P(O,String(ne))?Z.push(v(w,O,I,X,String(ne),!0)):Z.push("");return ee.forEach(function(ue){ue.match(/^\d+$/)||Z.push(v(w,O,I,X,ue,!0))}),Z}function v(w,O,I,X,ee,Z){var ne,ae,ue;if(ue=Object.getOwnPropertyDescriptor(O,ee)||{value:O[ee]},ue.get?ue.set?ae=w.stylize("[Getter/Setter]","special"):ae=w.stylize("[Getter]","special"):ue.set&&(ae=w.stylize("[Setter]","special")),P(X,ee)||(ne="["+ee+"]"),ae||(w.seen.indexOf(ue.value)<0?(S(I)?ae=f(w,ue.value,null):ae=f(w,ue.value,I-1),ae.indexOf(`
`)>-1&&(Z?ae=ae.split(`
`).map(function(M){return"  "+M}).join(`
`).slice(2):ae=`
`+ae.split(`
`).map(function(M){return"   "+M}).join(`
`))):ae=w.stylize("[Circular]","special")),G(ne)){if(Z&&ee.match(/^\d+$/))return ae;ne=JSON.stringify(""+ee),ne.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ne=ne.slice(1,-1),ne=w.stylize(ne,"name")):(ne=ne.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ne=w.stylize(ne,"string"))}return ne+": "+ae}function m(w,O,I){var X=w.reduce(function(ee,Z){return Z.indexOf(`
`)>=0,ee+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return X>60?I[0]+(O===""?"":O+`
 `)+" "+w.join(`,
  `)+" "+I[1]:I[0]+O+" "+w.join(", ")+" "+I[1]}t.types=Hl;function g(w){return Array.isArray(w)}t.isArray=g;function b(w){return typeof w=="boolean"}t.isBoolean=b;function S(w){return w===null}t.isNull=S;function $(w){return w==null}t.isNullOrUndefined=$;function C(w){return typeof w=="number"}t.isNumber=C;function D(w){return typeof w=="string"}t.isString=D;function W(w){return typeof w=="symbol"}t.isSymbol=W;function G(w){return w===void 0}t.isUndefined=G;function q(w){return Y(w)&&_(w)==="[object RegExp]"}t.isRegExp=q,t.types.isRegExp=q;function Y(w){return typeof w=="object"&&w!==null}t.isObject=Y;function B(w){return Y(w)&&_(w)==="[object Date]"}t.isDate=B,t.types.isDate=B;function A(w){return Y(w)&&(_(w)==="[object Error]"||w instanceof Error)}t.isError=A,t.types.isNativeError=A;function E(w){return typeof w=="function"}t.isFunction=E;function y(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||typeof w>"u"}t.isPrimitive=y,t.isBuffer=H0;function _(w){return Object.prototype.toString.call(w)}function T(w){return w<10?"0"+w.toString(10):w.toString(10)}var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var w=new Date,O=[T(w.getHours()),T(w.getMinutes()),T(w.getSeconds())].join(":");return[w.getDate(),R[w.getMonth()],O].join(" ")}t.log=function(){console.log("%s - %s",x(),t.format.apply(t,arguments))},t.inherits=K0,t._extend=function(w,O){if(!O||!Y(O))return w;for(var I=Object.keys(O),X=I.length;X--;)w[I[X]]=O[I[X]];return w};function P(w,O){return Object.prototype.hasOwnProperty.call(w,O)}var k=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');if(k&&O[k]){var I=O[k];if(typeof I!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(I,k,{value:I,enumerable:!1,writable:!1,configurable:!0}),I}function I(){for(var X,ee,Z=new Promise(function(ue,M){X=ue,ee=M}),ne=[],ae=0;ae<arguments.length;ae++)ne.push(arguments[ae]);ne.push(function(ue,M){ue?ee(ue):X(M)});try{O.apply(this,ne)}catch(ue){ee(ue)}return Z}return Object.setPrototypeOf(I,Object.getPrototypeOf(O)),k&&Object.defineProperty(I,k,{value:I,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(I,r(O))},t.promisify.custom=k;function U(w,O){if(!w){var I=new Error("Promise was rejected with a falsy value");I.reason=w,w=I}return O(w)}function V(w){if(typeof w!="function")throw new TypeError('The "original" argument must be of type Function');function O(){for(var I=[],X=0;X<arguments.length;X++)I.push(arguments[X]);var ee=I.pop();if(typeof ee!="function")throw new TypeError("The last argument must be of type Function");var Z=this,ne=function(){return ee.apply(Z,arguments)};w.apply(this,I).then(function(ae){ot.nextTick(ne.bind(null,null,ae))},function(ae){ot.nextTick(U.bind(null,ae,ne))})}return Object.setPrototypeOf(O,Object.getPrototypeOf(w)),Object.defineProperties(O,r(w)),O}t.callbackify=V})(sr);Ar("peripheral");var q0=It,X0=sr;function wt(t,e,r,n,i,o,a){this._noble=t,this.id=e,this.uuid=e,this.address=r,this.addressType=n,this.connectable=i,this.advertisement=o,this.rssi=a,this.services=null,this.state="disconnected"}X0.inherits(wt,q0.EventEmitter);wt.prototype.toString=function(){return JSON.stringify({id:this.id,address:this.address,addressType:this.addressType,connectable:this.connectable,advertisement:this.advertisement,rssi:this.rssi,state:this.state})};wt.prototype.connect=function(t){t&&this.once("connect",function(e){t(e)}),this.state==="connected"?this.emit("connect",new Error("Peripheral already connected")):(this.state="connecting",this._noble.connect(this.id))};wt.prototype.disconnect=function(t){t&&this.once("disconnect",function(){t(null)}),this.state="disconnecting",this._noble.disconnect(this.id)};wt.prototype.updateRssi=function(t){t&&this.once("rssiUpdate",function(e){t(null,e)}),this._noble.updateRssi(this.id)};wt.prototype.discoverServices=function(t,e){e&&this.once("servicesDiscover",function(r){e(null,r)}),this._noble.discoverServices(this.id,t)};wt.prototype.discoverSomeServicesAndCharacteristics=function(t,e,r){this.discoverServices(t,(function(n,i){var o=0,a=[];for(var c in i){var s=i[c];s.discoverCharacteristics(e,(function(l,u){if(o++,l===null)for(var f in u){var h=u[f];a.push(h)}o===i.length&&r&&r(null,i,a)}).bind(this))}}).bind(this))};wt.prototype.discoverAllServicesAndCharacteristics=function(t){this.discoverSomeServicesAndCharacteristics([],[],t)};wt.prototype.readHandle=function(t,e){e&&this.once("handleRead"+t,function(r){e(null,r)}),this._noble.readHandle(this.id,t)};wt.prototype.writeHandle=function(t,e,r,n){if(!(e instanceof pe))throw new Error("data must be a Buffer");n&&this.once("handleWrite"+t,function(){n(null)}),this._noble.writeHandle(this.id,t,e,r)};var Y0=wt;const J0={1800:{name:"Generic Access",type:"org.bluetooth.service.generic_access"},1801:{name:"Generic Attribute",type:"org.bluetooth.service.generic_attribute"},1802:{name:"Immediate Alert",type:"org.bluetooth.service.immediate_alert"},1803:{name:"Link Loss",type:"org.bluetooth.service.link_loss"},1804:{name:"Tx Power",type:"org.bluetooth.service.tx_power"},1805:{name:"Current Time Service",type:"org.bluetooth.service.current_time"},1806:{name:"Reference Time Update Service",type:"org.bluetooth.service.reference_time_update"},1807:{name:"Next DST Change Service",type:"org.bluetooth.service.next_dst_change"},1808:{name:"Glucose",type:"org.bluetooth.service.glucose"},1809:{name:"Health Thermometer",type:"org.bluetooth.service.health_thermometer"},1810:{name:"Blood Pressure",type:"org.bluetooth.service.blood_pressuer"},1811:{name:"Alert Notification Service",type:"org.bluetooth.service.alert_notification"},1812:{name:"Human Interface Device",type:"org.bluetooth.service.human_interface_device"},1813:{name:"Scan Parameters",type:"org.bluetooth.service.scan_parameters"},1814:{name:"Running Speed and Cadence",type:"org.bluetooth.service.running_speed_and_cadence"},1815:{name:"Automation IO",type:"org.bluetooth.service.automation_io"},1816:{name:"Cycling Speed and Cadence",type:"org.bluetooth.service.cycling_speed_and_cadence"},1818:{name:"Cycling Power",type:"org.bluetooth.service.cycling_power"},1819:{name:"Location and Navigation",type:"org.bluetooth.service.location_and_navigation"},1820:{name:"Internet Protocol Support",type:"org.bluetooth.service.internet_protocol_support"},"180a":{name:"Device Information",type:"org.bluetooth.service.device_information"},"180d":{name:"Heart Rate",type:"org.bluetooth.service.heart_rate"},"180e":{name:"Phone Alert Status Service",type:"org.bluetooth.service.phone_alert_service"},"180f":{name:"Battery Service",type:"org.bluetooth.service.battery_service"},"181a":{name:"Environmental Sensing",type:"org.bluetooth.service.environmental_sensing"},"181b":{name:"Body Composition",type:"org.bluetooth.service.body_composition"},"181c":{name:"User Data",type:"org.bluetooth.service.user_data"},"181d":{name:"Weight Scale",type:"org.bluetooth.service.weight_scale"},"181e":{name:"Bond Management",type:"org.bluetooth.service.bond_management"},"181f":{name:"Continuous Glucose Monitoring",type:"org.bluetooth.service.continuous_glucose_monitoring"}};Ar("service");var Q0=It,Z0=sr,ew=J0;function Nn(t,e,r){this._noble=t,this._peripheralId=e,this.uuid=r,this.name=null,this.type=null,this.includedServiceUuids=null,this.characteristics=null;var n=ew[r];n&&(this.name=n.name,this.type=n.type)}Z0.inherits(Nn,Q0.EventEmitter);Nn.prototype.toString=function(){return JSON.stringify({uuid:this.uuid,name:this.name,type:this.type,includedServiceUuids:this.includedServiceUuids})};Nn.prototype.discoverIncludedServices=function(t,e){e&&this.once("includedServicesDiscover",function(r){e(null,r)}),this._noble.discoverIncludedServices(this._peripheralId,this.uuid,t)};Nn.prototype.discoverCharacteristics=function(t,e){e&&this.once("characteristicsDiscover",function(r){e(null,r)}),this._noble.discoverCharacteristics(this._peripheralId,this.uuid,t)};var tw=Nn;const rw={"2a00":{name:"Device Name",type:"org.bluetooth.characteristic.gap.device_name"},"2a01":{name:"Appearance",type:"org.bluetooth.characteristic.gap.appearance"},"2a02":{name:"Peripheral Privacy Flag",type:"org.bluetooth.characteristic.gap.peripheral_privacy_flag"},"2a03":{name:"Reconnection Address",type:"org.bluetooth.characteristic.gap.reconnection_address"},"2a04":{name:"Peripheral Preferred Connection Parameters",type:"org.bluetooth.characteristic.gap.peripheral_preferred_connection_parameters"},"2a05":{name:"Service Changed",type:"org.bluetooth.characteristic.gatt.service_changed"},"2a06":{name:"Alert Level",type:"org.bluetooth.characteristic.alert_level"},"2a07":{name:"Tx Power Level",type:"org.bluetooth.characteristic.tx_power_level"},"2a08":{name:"Date Time",type:"org.bluetooth.characteristic.date_time"},"2a09":{name:"Day of Week",type:"org.bluetooth.characteristic.day_of_week"},"2a0a":{name:"Day Date Time",type:"org.bluetooth.characteristic.day_date_time"},"2a0c":{name:"Exact Time 256",type:"org.bluetooth.characteristic.exact_time_256"},"2a0d":{name:"DST Offset",type:"org.bluetooth.characteristic.dst_offset"},"2a0e":{name:"Time Zone",type:"org.bluetooth.characteristic.time_zone"},"2a0f":{name:"Local Time Information",type:"org.bluetooth.characteristic.local_time_information"},"2a11":{name:"Time with DST",type:"org.bluetooth.characteristic.time_with_dst"},"2a12":{name:"Time Accuracy",type:"org.bluetooth.characteristic.time_accuracy"},"2a13":{name:"Time Source",type:"org.bluetooth.characteristic.time_source"},"2a14":{name:"Reference Time Information",type:"org.bluetooth.characteristic.reference_time_information"},"2a16":{name:"Time Update Control Point",type:"org.bluetooth.characteristic.time_update_control_point"},"2a17":{name:"Time Update State",type:"org.bluetooth.characteristic.time_update_state"},"2a18":{name:"Glucose Measurement",type:"org.bluetooth.characteristic.glucose_measurement"},"2a19":{name:"Battery Level",type:"org.bluetooth.characteristic.battery_level"},"2a1c":{name:"Temperature Measurement",type:"org.bluetooth.characteristic.temperature_measurement"},"2a1d":{name:"Temperature Type",type:"org.bluetooth.characteristic.temperature_type"},"2a1e":{name:"Intermediate Temperature",type:"org.bluetooth.characteristic.intermediate_temperature"},"2a21":{name:"Measurement Interval",type:"org.bluetooth.characteristic.measurement_interval"},"2a22":{name:"Boot Keyboard Input Report",type:"org.bluetooth.characteristic.boot_keyboard_input_report"},"2a23":{name:"System ID",type:"org.bluetooth.characteristic.system_id"},"2a24":{name:"Model Number String",type:"org.bluetooth.characteristic.model_number_string"},"2a25":{name:"Serial Number String",type:"org.bluetooth.characteristic.serial_number_string"},"2a26":{name:"Firmware Revision String",type:"org.bluetooth.characteristic.firmware_revision_string"},"2a27":{name:"Hardware Revision String",type:"org.bluetooth.characteristic.hardware_revision_string"},"2a28":{name:"Software Revision String",type:"org.bluetooth.characteristic.software_revision_string"},"2a29":{name:"Manufacturer Name String",type:"org.bluetooth.characteristic.manufacturer_name_string"},"2a2a":{name:"IEEE 11073-20601 Regulatory Certification Data List",type:"org.bluetooth.characteristic.ieee_11073-20601_regulatory_certification_data_list"},"2a2b":{name:"Current Time",type:"org.bluetooth.characteristic.current_time"},"2a2c":{name:"Magnetic Declination",type:"org.bluetooth.characteristic.magnetic_declination"},"2a31":{name:"Scan Refresh",type:"org.bluetooth.characteristic.scan_refresh"},"2a32":{name:"Boot Keyboard Output Report",type:"org.bluetooth.characteristic.boot_keyboard_output_report"},"2a33":{name:"Boot Mouse Input Report",type:"org.bluetooth.characteristic.boot_mouse_input_report"},"2a34":{name:"Glucose Measurement Context",type:"org.bluetooth.characteristic.glucose_measurement_context"},"2a35":{name:"Blood Pressure Measurement",type:"org.bluetooth.characteristic.blood_pressure_measurement"},"2a36":{name:"Intermediate Cuff Pressure",type:"org.bluetooth.characteristic.intermediate_blood_pressure"},"2a37":{name:"Heart Rate Measurement",type:"org.bluetooth.characteristic.heart_rate_measurement"},"2a38":{name:"Body Sensor Location",type:"org.bluetooth.characteristic.body_sensor_location"},"2a39":{name:"Heart Rate Control Point",type:"org.bluetooth.characteristic.heart_rate_control_point"},"2a3f":{name:"Alert Status",type:"org.bluetooth.characteristic.alert_status"},"2a40":{name:"Ringer Control Point",type:"org.bluetooth.characteristic.ringer_control_point"},"2a41":{name:"Ringer Setting",type:"org.bluetooth.characteristic.ringer_setting"},"2a42":{name:"Alert Category ID Bit Mask",type:"org.bluetooth.characteristic.alert_category_id_bit_mask"},"2a43":{name:"Alert Category ID",type:"org.bluetooth.characteristic.alert_category_id"},"2a44":{name:"Alert Notification Control Point",type:"org.bluetooth.characteristic.alert_notification_control_point"},"2a45":{name:"Unread Alert Status",type:"org.bluetooth.characteristic.unread_alert_status"},"2a46":{name:"New Alert",type:"org.bluetooth.characteristic.new_alert"},"2a47":{name:"Supported New Alert Category",type:"org.bluetooth.characteristic.supported_new_alert_category"},"2a48":{name:"Supported Unread Alert Category",type:"org.bluetooth.characteristic.supported_unread_alert_category"},"2a49":{name:"Blood Pressure Feature",type:"org.bluetooth.characteristic.blood_pressure_feature"},"2a4a":{name:"HID Information",type:"org.bluetooth.characteristic.hid_information"},"2a4b":{name:"Report Map",type:"org.bluetooth.characteristic.report_map"},"2a4c":{name:"HID Control Point",type:"org.bluetooth.characteristic.hid_control_point"},"2a4d":{name:"Report",type:"org.bluetooth.characteristic.report"},"2a4e":{name:"Protocol Mode",type:"org.bluetooth.characteristic.protocol_mode"},"2a4f":{name:"Scan Interval Window",type:"org.bluetooth.characteristic.scan_interval_window"},"2a50":{name:"PnP ID",type:"org.bluetooth.characteristic.pnp_id"},"2a51":{name:"Glucose Feature",type:"org.bluetooth.characteristic.glucose_feature"},"2a52":{name:"Record Access Control Point",type:"org.bluetooth.characteristic.record_access_control_point"},"2a53":{name:"RSC Measurement",type:"org.bluetooth.characteristic.rsc_measurement"},"2a54":{name:"RSC Feature",type:"org.bluetooth.characteristic.rsc_feature"},"2a55":{name:"SC Control Point",type:"org.bluetooth.characteristic.sc_control_point"},"2a56":{name:"Digital",type:"org.bluetooth.characteristic.digital"},"2a58":{name:"Analog",type:"org.bluetooth.characteristic.analog"},"2a5a":{name:"Aggregate",type:"org.bluetooth.characteristic.aggregate"},"2a5b":{name:"CSC Measurement",type:"org.bluetooth.characteristic.csc_measurement"},"2a5c":{name:"CSC Feature",type:"org.bluetooth.characteristic.csc_feature"},"2a5d":{name:"Sensor Location",type:"org.bluetooth.characteristic.sensor_location"},"2a63":{name:"Cycling Power Measurement",type:"org.bluetooth.characteristic.cycling_power_measurement"},"2a64":{name:"Cycling Power Vector",type:"org.bluetooth.characteristic.cycling_power_vector"},"2a65":{name:"Cycling Power Feature",type:"org.bluetooth.characteristic.cycling_power_feature"},"2a66":{name:"Cycling Power Control Point",type:"org.bluetooth.characteristic.cycling_power_control_point"},"2a67":{name:"Location and Speed",type:"org.bluetooth.characteristic.location_and_speed"},"2a68":{name:"Navigation",type:"org.bluetooth.characteristic.navigation"},"2a69":{name:"Position Quality",type:"org.bluetooth.characteristic.position_quality"},"2a6a":{name:"LN Feature",type:"org.bluetooth.characteristic.ln_feature"},"2a6b":{name:"LN Control Point",type:"org.bluetooth.characteristic.ln_control_point"},"2a6c":{name:"Elevation",type:"org.bluetooth.characteristic.elevation"},"2a6d":{name:"Pressure",type:"org.bluetooth.characteristic.pressure"},"2a6e":{name:"Temperature",type:"org.bluetooth.characteristic.temperature"},"2a6f":{name:"Humidity",type:"org.bluetooth.characteristic.humidity"},"2a70":{name:"True Wind Speed",type:"org.bluetooth.characteristic.true_wind_speed"},"2a71":{name:"True Wind Direction",type:"org.bluetooth.characteristic.true_wind_direction"},"2a72":{name:"Apparent Wind Speed",type:"org.bluetooth.characteristic.apparent_wind_speed"},"2a73":{name:"Apparent Wind Direction",type:"org.bluetooth.characteristic.apparent_wind_direction"},"2a74":{name:"Gust Factor",type:"org.bluetooth.characteristic.gust_factor"},"2a75":{name:"Pollen Concentration",type:"org.bluetooth.characteristic.pollen_concentration"},"2a76":{name:"UV Index",type:"org.bluetooth.characteristic.uv_index"},"2a77":{name:"Irradiance",type:"org.bluetooth.characteristic.irradiance"},"2a78":{name:"Rainfall",type:"org.bluetooth.characteristic.rainfall"},"2a79":{name:"Wind Chill",type:"org.bluetooth.characteristic.wind_chill"},"2a7a":{name:"Heat Index",type:"org.bluetooth.characteristic.heat_index"},"2a7b":{name:"Dew Point",type:"org.bluetooth.characteristic.dew_point"},"2a7d":{name:"Descriptor Value Changed",type:"org.bluetooth.characteristic.descriptor_value_change"},"2a7e":{name:"Aerobic Heart Rate Lower Limit",type:"org.bluetooth.characteristic.aerobic_heart_rate_lower_limit"},"2a7f":{name:"Aerobic Threshold",type:"org.bluetooth.characteristic.aerobic_threshold"},"2a80":{name:"Age",type:"org.bluetooth.characteristic.age"},"2a81":{name:"Anaerobic Heart Rate Lower Limit",type:"org.bluetooth.characteristic.anaerobic_heart_rate_lower_limit"},"2a82":{name:"Anaerobic Heart Rate Upper Limit",type:"org.bluetooth.characteristic.anaerobic_heart_rate_upper_limit"},"2a83":{name:"Anaerobic Threshold",type:"org.bluetooth.characteristic.anaerobic_threshold"},"2a84":{name:"Aerobic Heart Rate Upper Limit",type:"org.bluetooth.characteristic.aerobic_heart_rate_upper_limit"},"2a85":{name:"Date of Birth",type:"org.bluetooth.characteristic.date_of_birth"},"2a86":{name:"Date of Threshold Assessment",type:"org.bluetooth.characteristic.date_of_threshold_assessment"},"2a87":{name:"Email Address",type:"org.bluetooth.characteristic.email_address"},"2a88":{name:"Fat Burn Heart Rate Lower Limit",type:"org.bluetooth.characteristic.fat_burn_heart_lower_limit"},"2a89":{name:"Fat Burn Heart Rate Upper Limit",type:"org.bluetooth.characteristic.fat_burn_heart_upper_limit"},"2a8a":{name:"First Name",type:"org.bluetooth.characteristic.first_name"},"2a8b":{name:"Five Zone Heart Rate Limits",type:"org.bluetooth.characteristic.five_zone_heart_rate_limits"},"2a8c":{name:"Gender",type:"org.bluetooth.characteristic.gender"},"2a8d":{name:"Heart Rate Max",type:"org.bluetooth.characteristic.heart_rate_max"},"2a8e":{name:"Height",type:"org.bluetooth.characteristic.height"},"2a8f":{name:"Hip Circumference",type:"org.bluetooth.characteristic.hip_circumference"},"2a90":{name:"Last Name",type:"org.bluetooth.characteristic.last_name"},"2a91":{name:"Maximum Recommended Heart Rate",type:"org.bluetooth.characteristic.maximum_recommended_heart_rate"},"2a92":{name:"Resting Heart Rate",type:"org.bluetooth.characteristic.resting_heart_rate"},"2a93":{name:"Sport Type for Aerobic and Anaerobic Threshold",type:"org.bluetooth.characteristic.sport_type_for_aerobic_and_anaerobic_threshold"},"2a94":{name:"Three Zone Heart Rate Limits",type:"org.bluetooth.characteristic.three_zone_heart_rate_limits"},"2a95":{name:"Two Zone Heart Rate Limit",type:"org.bluetooth.characteristic.two_zone_heart_rate_limit"},"2a96":{name:"VO2 Max",type:"org.bluetooth.characteristic.vo2_max"},"2a97":{name:"Waist Circumference",type:"org.bluetooth.characteristic.waist_circumference"},"2a98":{name:"Weight",type:"org.bluetooth.characteristic.weight"},"2a99":{name:"Database Change Increment",type:"org.bluetooth.characteristic.database_change_increment"},"2a9a":{name:"User Index",type:"org.bluetooth.characteristic.user_index"},"2a9b":{name:"Body Composition Feature",type:"org.bluetooth.characteristic.body_composition_feature"},"2a9c":{name:"Body Composition Measurement",type:"org.bluetooth.characteristic.body_composition_measurement"},"2a9d":{name:"Weight Measurement",type:"org.bluetooth.characteristic.weight_measurement"},"2a9e":{name:"Weight Scale Feature",type:"org.bluetooth.characteristic.weight_scale_feature"},"2a9f":{name:"User Control Point",type:"org.bluetooth.characteristic.user_control_point"},"2aa0":{name:"Magnetic Flux Density - 2D",type:"org.bluetooth.characteristic.magnetic_flux_density_2d"},"2aa1":{name:"Magnetic Flux Density - 3D",type:"org.bluetooth.characteristic.magnetic_flux_density_3d"},"2aa2":{name:"Language",type:"org.bluetooth.characteristic.language"},"2aa3":{name:"Barometric Pressure Trend",type:"org.bluetooth.characteristic.barometric_pressure_trend"},"2aa4":{name:"Bond Management Control Point",type:"org.bluetooth.characteristic.bond_management_control_point"},"2aa5":{name:"Bond Management Feature",type:"org.bluetooth.characteristic.bond_management_feature"},"2aa6":{name:"Central Address Resolution",type:"org.bluetooth.characteristic.central_address_resolution"},"2aa7":{name:"CGM Measurement",type:"org.bluetooth.characteristic.cgm_measurement"},"2aa8":{name:"CGM Feature",type:"org.bluetooth.characteristic.cgm_feature"},"2aa9":{name:"CGM Status",type:"org.bluetooth.characteristic.cgm_status"},"2aaa":{name:"CGM Session Start Time",type:"org.bluetooth.characteristic.cgm_session_start_time"},"2aab":{name:"CGM Session Run Time",type:"org.bluetooth.characteristic.cgm_session_run_time"},"2aac":{name:"CGM Specific Ops Control Point",type:"org.bluetooth.characteristic.cgm_specific_ops_control_point"}};Ar("characteristic");var nw=It,iw=sr,ow=rw;function Lt(t,e,r,n,i){this._noble=t,this._peripheralId=e,this._serviceUuid=r,this.uuid=n,this.name=null,this.type=null,this.properties=i,this.descriptors=null;var o=ow[n];o&&(this.name=o.name,this.type=o.type)}iw.inherits(Lt,nw.EventEmitter);Lt.prototype.toString=function(){return JSON.stringify({uuid:this.uuid,name:this.name,type:this.type,properties:this.properties})};Lt.prototype.read=function(t){if(t){var e=(function(r,n){n||(this.removeListener("read",e),t(null,r))}).bind(this);this.on("read",e)}this._noble.read(this._peripheralId,this._serviceUuid,this.uuid)};Lt.prototype.write=function(t,e,r){if(ot.title!=="browser"&&!(t instanceof pe))throw new Error("data must be a Buffer");r&&this.once("write",function(){r(null)}),this._noble.write(this._peripheralId,this._serviceUuid,this.uuid,t,e)};Lt.prototype.broadcast=function(t,e){e&&this.once("broadcast",function(){e(null)}),this._noble.broadcast(this._peripheralId,this._serviceUuid,this.uuid,t)};Lt.prototype.notify=function(t,e){e&&this.once("notify",function(){e(null)}),this._noble.notify(this._peripheralId,this._serviceUuid,this.uuid,t)};Lt.prototype.subscribe=function(t){this.notify(!0,t)};Lt.prototype.unsubscribe=function(t){this.notify(!1,t)};Lt.prototype.discoverDescriptors=function(t){t&&this.once("descriptorsDiscover",function(e){t(null,e)}),this._noble.discoverDescriptors(this._peripheralId,this._serviceUuid,this.uuid)};var aw=Lt;const sw={2900:{name:"Characteristic Extended Properties",type:"org.bluetooth.descriptor.gatt.characteristic_extended_properties"},2901:{name:"Characteristic User Description",type:"org.bluetooth.descriptor.gatt.characteristic_user_description"},2902:{name:"Client Characteristic Configuration",type:"org.bluetooth.descriptor.gatt.client_characteristic_configuration"},2903:{name:"Server Characteristic Configuration",type:"org.bluetooth.descriptor.gatt.server_characteristic_configuration"},2904:{name:"Characteristic Presentation Format",type:"org.bluetooth.descriptor.gatt.characteristic_presentation_format"},2905:{name:"Characteristic Aggregate Format",type:"org.bluetooth.descriptor.gatt.characteristic_aggregate_format"},2906:{name:"Valid Range",type:"org.bluetooth.descriptor.valid_range"},2907:{name:"External Report Reference",type:"org.bluetooth.descriptor.external_report_reference"},2908:{name:"Report Reference",type:"org.bluetooth.descriptor.report_reference"},2909:{name:"Number of Digitals",type:"org.bluetooth.descriptor.number_of_digitals"},"290a":{name:"Value Trigger Setting",type:"org.bluetooth.descriptor.value_trigger_setting"},"290b":{name:"Environmental Sensing Configuration",type:"org.bluetooth.descriptor.environmental_sensing_configuration"},"290c":{name:"Environmental Sensing Measurement",type:"org.bluetooth.descriptor.environmental_sensing_measurement"},"290d":{name:"Environmental Sensing Trigger Setting",type:"org.bluetooth.descriptor.environmental_sensing_trigger_setting"},"290e":{name:"Time Trigger Setting",type:"org.bluetooth.descriptor.time_trigger_setting"}};Ar("descriptor");var cw=It,lw=sr,uw=sw;function Un(t,e,r,n,i){this._noble=t,this._peripheralId=e,this._serviceUuid=r,this._characteristicUuid=n,this.uuid=i,this.name=null,this.type=null;var o=uw[i];o&&(this.name=o.name,this.type=o.type)}lw.inherits(Un,cw.EventEmitter);Un.prototype.toString=function(){return JSON.stringify({uuid:this.uuid,name:this.name,type:this.type})};Un.prototype.readValue=function(t){t&&this.once("valueRead",function(e){t(null,e)}),this._noble.readValue(this._peripheralId,this._serviceUuid,this._characteristicUuid,this.uuid)};Un.prototype.writeValue=function(t,e){if(!(t instanceof pe))throw new Error("data must be a Buffer");e&&this.once("valueWrite",function(){e(null)}),this._noble.writeValue(this._peripheralId,this._serviceUuid,this._characteristicUuid,this.uuid,t)};var fw=Un,Ui=Ar("noble"),dw=It,hw=sr,pw=Y0,vw=tw,gw=aw,mw=fw;function de(t){this.initialized=!1,this.address="unknown",this._state="unknown",this._bindings=t,this._peripherals={},this._services={},this._characteristics={},this._descriptors={},this._discoveredPeripheralUUids=[],this._bindings.on("stateChange",this.onStateChange.bind(this)),this._bindings.on("addressChange",this.onAddressChange.bind(this)),this._bindings.on("scanStart",this.onScanStart.bind(this)),this._bindings.on("scanStop",this.onScanStop.bind(this)),this._bindings.on("discover",this.onDiscover.bind(this)),this._bindings.on("connect",this.onConnect.bind(this)),this._bindings.on("disconnect",this.onDisconnect.bind(this)),this._bindings.on("rssiUpdate",this.onRssiUpdate.bind(this)),this._bindings.on("servicesDiscover",this.onServicesDiscover.bind(this)),this._bindings.on("includedServicesDiscover",this.onIncludedServicesDiscover.bind(this)),this._bindings.on("characteristicsDiscover",this.onCharacteristicsDiscover.bind(this)),this._bindings.on("read",this.onRead.bind(this)),this._bindings.on("write",this.onWrite.bind(this)),this._bindings.on("broadcast",this.onBroadcast.bind(this)),this._bindings.on("notify",this.onNotify.bind(this)),this._bindings.on("descriptorsDiscover",this.onDescriptorsDiscover.bind(this)),this._bindings.on("valueRead",this.onValueRead.bind(this)),this._bindings.on("valueWrite",this.onValueWrite.bind(this)),this._bindings.on("handleRead",this.onHandleRead.bind(this)),this._bindings.on("handleWrite",this.onHandleWrite.bind(this)),this._bindings.on("handleNotify",this.onHandleNotify.bind(this)),this.on("warning",(function(e){this.listeners("warning").length===1&&console.warn("noble: "+e)}).bind(this)),this.on("newListener",(function(e){e==="stateChange"&&!this.initialized&&(this.initialized=!0,ot.nextTick((function(){this._bindings.init()}).bind(this)))}).bind(this)),Object.defineProperties(this,{state:{get:function(){return this.initialized||(this.initialized=!0,this._bindings.init()),this._state}}})}hw.inherits(de,dw.EventEmitter);de.prototype.onStateChange=function(t){Ui("stateChange "+t),this._state=t,this.emit("stateChange",t)};de.prototype.onAddressChange=function(t){Ui("addressChange "+t),this.address=t};de.prototype.startScanning=function(t,e,r){var n=function(i){if(i!=="poweredOn"){var o=new Error("Could not start scanning, state is "+i+" (not poweredOn)");if(typeof r=="function")r(o);else throw o}else r&&this.once("scanStart",function(a){r(null,a)}),this._discoveredPeripheralUUids=[],this._allowDuplicates=e,this._bindings.startScanning(t,e)};this.initialized?n.call(this,this._state):(this.initialized=!0,this._bindings.init(),this.once("stateChange",n.bind(this)))};de.prototype.onScanStart=function(t){Ui("scanStart"),this.emit("scanStart",t)};de.prototype.stopScanning=function(t){t&&this.once("scanStop",t),this._bindings&&this.initialized&&this._bindings.stopScanning()};de.prototype.onScanStop=function(){Ui("scanStop"),this.emit("scanStop")};de.prototype.onDiscover=function(t,e,r,n,i,o){var a=this._peripherals[t];if(!a)a=new pw(this,t,e,r,n,i,o),this._peripherals[t]=a,this._services[t]={},this._characteristics[t]={},this._descriptors[t]={};else{for(var c in i)i[c]!==void 0&&(a.advertisement[c]=i[c]);a.connectable=n,a.rssi=o}var s=this._discoveredPeripheralUUids.indexOf(t)!==-1;s||this._discoveredPeripheralUUids.push(t),(this._allowDuplicates||!s)&&this.emit("discover",a)};de.prototype.connect=function(t){this._bindings.connect(t)};de.prototype.onConnect=function(t,e){var r=this._peripherals[t];r?(r.state=e?"error":"connected",r.emit("connect",e)):this.emit("warning","unknown peripheral "+t+" connected!")};de.prototype.disconnect=function(t){this._bindings.disconnect(t)};de.prototype.onDisconnect=function(t){var e=this._peripherals[t];e?(e.state="disconnected",e.emit("disconnect")):this.emit("warning","unknown peripheral "+t+" disconnected!")};de.prototype.updateRssi=function(t){this._bindings.updateRssi(t)};de.prototype.onRssiUpdate=function(t,e){var r=this._peripherals[t];r?(r.rssi=e,r.emit("rssiUpdate",e)):this.emit("warning","unknown peripheral "+t+" RSSI update!")};de.prototype.discoverServices=function(t,e){this._bindings.discoverServices(t,e)};de.prototype.onServicesDiscover=function(t,e){var r=this._peripherals[t];if(r){for(var n=[],i=0;i<e.length;i++){var o=e[i],a=new vw(this,t,o);this._services[t][o]=a,this._characteristics[t][o]={},this._descriptors[t][o]={},n.push(a)}r.services=n,r.emit("servicesDiscover",n)}else this.emit("warning","unknown peripheral "+t+" services discover!")};de.prototype.discoverIncludedServices=function(t,e,r){this._bindings.discoverIncludedServices(t,e,r)};de.prototype.onIncludedServicesDiscover=function(t,e,r){var n=this._services[t][e];n?(n.includedServiceUuids=r,n.emit("includedServicesDiscover",r)):this.emit("warning","unknown peripheral "+t+", "+e+" included services discover!")};de.prototype.discoverCharacteristics=function(t,e,r){this._bindings.discoverCharacteristics(t,e,r)};de.prototype.onCharacteristicsDiscover=function(t,e,r){var n=this._services[t][e];if(n){for(var i=[],o=0;o<r.length;o++){var a=r[o].uuid,c=new gw(this,t,e,a,r[o].properties);this._characteristics[t][e][a]=c,this._descriptors[t][e][a]={},i.push(c)}n.characteristics=i,n.emit("characteristicsDiscover",i)}else this.emit("warning","unknown peripheral "+t+", "+e+" characteristics discover!")};de.prototype.read=function(t,e,r){this._bindings.read(t,e,r)};de.prototype.onRead=function(t,e,r,n,i){var o=this._characteristics[t][e][r];o?(o.emit("data",n,i),o.emit("read",n,i)):this.emit("warning","unknown peripheral "+t+", "+e+", "+r+" read!")};de.prototype.write=function(t,e,r,n,i){this._bindings.write(t,e,r,n,i)};de.prototype.onWrite=function(t,e,r){var n=this._characteristics[t][e][r];n?n.emit("write"):this.emit("warning","unknown peripheral "+t+", "+e+", "+r+" write!")};de.prototype.broadcast=function(t,e,r,n){this._bindings.broadcast(t,e,r,n)};de.prototype.onBroadcast=function(t,e,r,n){var i=this._characteristics[t][e][r];i?i.emit("broadcast",n):this.emit("warning","unknown peripheral "+t+", "+e+", "+r+" broadcast!")};de.prototype.notify=function(t,e,r,n){this._bindings.notify(t,e,r,n)};de.prototype.onNotify=function(t,e,r,n){var i=this._characteristics[t][e][r];i?i.emit("notify",n):this.emit("warning","unknown peripheral "+t+", "+e+", "+r+" notify!")};de.prototype.discoverDescriptors=function(t,e,r){this._bindings.discoverDescriptors(t,e,r)};de.prototype.onDescriptorsDiscover=function(t,e,r,n){var i=this._characteristics[t][e][r];if(i){for(var o=[],a=0;a<n.length;a++){var c=n[a],s=new mw(this,t,e,r,c);this._descriptors[t][e][r][c]=s,o.push(s)}i.descriptors=o,i.emit("descriptorsDiscover",o)}else this.emit("warning","unknown peripheral "+t+", "+e+", "+r+" descriptors discover!")};de.prototype.readValue=function(t,e,r,n){this._bindings.readValue(t,e,r,n)};de.prototype.onValueRead=function(t,e,r,n,i){var o=this._descriptors[t][e][r][n];o?o.emit("valueRead",i):this.emit("warning","unknown peripheral "+t+", "+e+", "+r+", "+n+" value read!")};de.prototype.writeValue=function(t,e,r,n,i){this._bindings.writeValue(t,e,r,n,i)};de.prototype.onValueWrite=function(t,e,r,n){var i=this._descriptors[t][e][r][n];i?i.emit("valueWrite"):this.emit("warning","unknown peripheral "+t+", "+e+", "+r+", "+n+" value write!")};de.prototype.readHandle=function(t,e){this._bindings.readHandle(t,e)};de.prototype.onHandleRead=function(t,e,r){var n=this._peripherals[t];n?n.emit("handleRead"+e,r):this.emit("warning","unknown peripheral "+t+" handle read!")};de.prototype.writeHandle=function(t,e,r,n){this._bindings.writeHandle(t,e,r,n)};de.prototype.onHandleWrite=function(t,e){var r=this._peripherals[t];r?r.emit("handleWrite"+e):this.emit("warning","unknown peripheral "+t+" handle write!")};de.prototype.onHandleNotify=function(t,e,r){var n=this._peripherals[t];n?n.emit("handleNotify",e,r):this.emit("warning","unknown peripheral "+t+" handle notify!")};var yw=de,mo,hc;function bw(){if(hc)return mo;hc=1;var t=sr,e=It,r=Ar("webble-bindings");function n(s){return{services:[s]}}function i(s){return!s||typeof s!="string"?s:(s&&s.length===32&&(s=s.substring(0,8)+"-"+s.substring(8,12)+"-"+s.substring(12,16)+"-"+s.substring(16,20)+"-"+s.substring(20)),s.toLowerCase())}function o(s){return typeof s=="string"&&(s=s.split("-").join("")),s}var a=function(){this._ble=null,this._startScanCommand=null,this._peripherals={}};t.inherits(a,e.EventEmitter),a.prototype.init=function(s){s?this._ble=s:this._ble=navigator.bluetooth;var l=this;ot.nextTick(function(){if(r("initing"),!l._ble)return l.emit("error",new Error("This browser does not support WebBluetooth."));r("emit powered on"),l.emit("stateChange","poweredOn")})},a.prototype.onOpen=function(){r("on -> open")},a.prototype.onClose=function(){r("on -> close"),this.emit("stateChange","poweredOff")},a.prototype.startScanning=function(s,l){var u=this;Array.isArray(s)&&(s={services:s}),typeof s!="object"&&(s={services:s}),Array.isArray(s.services)||(s.services=[s.services]),s.services=s.services.map(function(p){return typeof p=="string"&&p.length===4?p=parseInt("0x"+p):typeof p=="string"&&p.length===6&&p.indexOf("0x")===0&&(p=parseInt(p)),p});var f=s.services.map(i),h=f.map(n);s.name&&h.push({name:s.name}),s.namePrefix&&h.push({namePrefix:s.namePrefix});var d={filters:h};r("startScanning",d,l),this._ble.requestDevice(d).then(function(p){if(r("scan finished",p),u.emit("scanStop",{}),p){var v=p.id;u._peripherals[v]={uuid:v,address:v,advertisement:{localName:p.name},device:p,cachedServices:{},localName:p.name,serviceUuids:s.services},p.adData&&(u._peripherals[v].rssi=p.adData.rssi),u.emit("discover",p.id,p.id,p.addressType,!p.paired,u._peripherals[v].advertisement,u._peripherals[v].rssi)}}).catch(function(p){r("err scanning",p),u.emit("scanStop",{}),u.emit("error",p)}),this.emit("scanStart")},a.prototype.stopScanning=function(){this._startScanCommand=null,this.emit("scanStop")},a.prototype.connect=function(s){var l=this;r("connect",s);var u=this._peripherals[s];u.cachedServices={},u.device.gatt.connect().then(function(f){r("peripheral connected",f);var h=function(d){r("disconnected",u.uuid),l.emit("disconnect",u.uuid)};u.device.addEventListener("gattserverdisconnected",h,{once:!0}),l.emit("connect",s)},function(f){r("err connecting",f),l.emit("connect",s,f)})},a.prototype.disconnect=function(s){var l=this._peripherals[s];l.device.gatt&&(l.device.gatt.disconnect(),this.emit("disconnect",s))},a.prototype.updateRssi=function(s){this._peripherals[s]},a.prototype.discoverServices=function(s,l){var u=this._peripherals[s];u&&this.emit("servicesDiscover",s,u.serviceUuids)},a.prototype.discoverIncludedServices=function(s,l,u){this._peripherals[s]},a.prototype.discoverCharacteristics=function(s,l,u){var f=this,h=f._peripherals[s];h&&f.getPrimaryService(h,l).then(function(d){return d.getCharacteristics()}).then(function(d){var p=d.map(function(v){var m={uuid:o(v.uuid),properties:[]};return v.properties.writeWithoutResponse&&m.properties.push("writeWithoutResponse"),v.properties.write&&m.properties.push("write"),v.properties.read&&m.properties.push("read"),v.properties.notify&&m.properties.push("notify"),m});r("discoverCharacteristics",s,l,p),f.emit("characteristicsDiscover",s,l,p)})},a.prototype.getPrimaryService=function(s,l){return l=i(l),s.cachedServices[l]?new Promise(function(u,f){u(s.cachedServices[l])}):s.device.gatt.getPrimaryService(l).then(function(u){return s.cachedServices[l]=u,u})},a.prototype.read=function(s,l,u){var f=this,h=this._peripherals[s];r("read",s,l,u),f.getPrimaryService(h,l).then(function(d){return d.getCharacteristic(i(u))}).then(function(d){return d.readValue()}).then(function(d){f.emit("read",h.uuid,l,u,new pe(d.buffer),!1)}).catch(function(d){r("error reading characteristic",d),f.emit("error",d)})},a.prototype.write=function(s,l,u,f,h){var d=this,p=this._peripherals[s];r("write",s,l,u,f,h),d.getPrimaryService(p,l).then(function(v){return v.getCharacteristic(i(u))}).then(function(v){return v.writeValue(f)}).then(function(){r("value written"),d.emit("write",p.uuid,l,u)}).catch(function(v){r("error writing to characteristic",l,u,v)})},a.prototype.broadcast=function(s,l,u,f){this._peripherals[s]},a.prototype.notify=function(s,l,u,f){var h=this,d=this._peripherals[s],p=h.getPrimaryService(d,l).then(function(v){return v.getCharacteristic(i(u))});d.notifcationListeners=d.notifcationListeners||{},f?p.then(function(v){return v.startNotifications()}).then(function(v){r("notifications started",u),d.notifcationListeners[l+"__"+u]=function(g){r("oncharacteristicvaluechanged",g,new pe(g.target.value.buffer)),h.emit("read",s,l,u,new pe(g.target.value.buffer),!0)},v.addEventListener("characteristicvaluechanged",d.notifcationListeners[l+"__"+u]);var m=function(){v.removeEventListener("characteristicvaluechanged",d.notifcationListeners[l+"__"+u]),delete d.notifcationListeners[l+"__"+u]};return d.device.addEventListener("gattserverdisconnected",m,{once:!0}),h.emit("notify",s,l,u,!0),v}).catch(function(v){r("error enabling notifications on characteristic",v),h.emit("error",v)}):p.then(function(v){return v.stopNotifications()}).then(function(v){return r("notifications stopped",v),d.notifcationListeners[l+"__"+u]&&(v.removeEventListener("characteristicvaluechanged",d.notifcationListeners[l+"__"+u]),delete d.notifcationListeners[l+"__"+u]),h.emit("notify",s,l,u,!1),v}).catch(function(v){r("error disabling notifications on characteristic",v),h.emit("error",v)})},a.prototype.discoverDescriptors=function(s,l,u){this._peripherals[s]},a.prototype.readValue=function(s,l,u,f){this._peripherals[s]},a.prototype.writeValue=function(s,l,u,f,h){this._peripherals[s]},a.prototype.readHandle=function(s,l){this._peripherals[s]},a.prototype.writeHandle=function(s,l,u,f){this._peripherals[s]};var c=new a;return mo=c,mo}var yo,pc;function ww(){return pc||(pc=1,yo=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),yo}var bo,vc;function _w(){if(vc)return bo;vc=1;var t=It,e=sr;Ar("bindings");var r=ww(),n=function(){var i=2846;this._ws=new r("ws://localhost:"+i),this._startScanCommand=null,this._peripherals={},this.on("message",this._onMessage.bind(this)),this._ws.on||(this._ws.on=this._ws.addEventListener),this._ws.on("open",this._onOpen.bind(this)),this._ws.on("close",this._onClose.bind(this)),this._ws.on("error",this._onClose.bind(this));var o=this;this._ws.on("message",function(a){var c=ot.title==="browser"?a.data:a;o.emit("message",JSON.parse(c))})};return e.inherits(n,t.EventEmitter),n.prototype.init=function(){},n.prototype._onOpen=function(){console.log("on -> open")},n.prototype._onClose=function(){console.log("on -> close"),this.emit("stateChange","poweredOff")},n.prototype._onMessage=function(i){var o=i.type,a=i.peripheralUuid,c=i.address,s=i.addressType,l=i.connectable,u=i.advertisement,f=i.rssi,h=i.serviceUuids,d=i.serviceUuid,p=i.includedServiceUuids,v=i.characteristics,m=i.characteristicUuid,g=i.data?new pe(i.data,"hex"):null,b=i.isNotification,S=i.state,$=i.descriptors,C=i.descriptorUuid,D=i.handle;o==="stateChange"?(console.log(S),this.emit("stateChange",S)):o==="discover"?(u={localName:u.localName,txPowerLevel:u.txPowerLevel,serviceUuids:u.serviceUuids,manufacturerData:u.manufacturerData?new pe(u.manufacturerData,"hex"):null,serviceData:u.serviceData?new pe(u.serviceData,"hex"):null},this._peripherals[a]={uuid:a,address:c,advertisement:u,rssi:f},this.emit("discover",a,c,s,l,u,f)):o==="connect"?this.emit("connect",a):o==="disconnect"?this.emit("disconnect",a):o==="rssiUpdate"?this.emit("rssiUpdate",a,f):o==="servicesDiscover"?this.emit("servicesDiscover",a,h):o==="includedServicesDiscover"?this.emit("includedServicesDiscover",a,d,p):o==="characteristicsDiscover"?this.emit("characteristicsDiscover",a,d,v):o==="read"?this.emit("read",a,d,m,g,b):o==="write"?this.emit("write",a,d,m):o==="broadcast"?this.emit("broadcast",a,d,m,S):o==="notify"?this.emit("notify",a,d,m,S):o==="descriptorsDiscover"?this.emit("descriptorsDiscover",a,d,m,$):o==="valueRead"?this.emit("valueRead",a,d,m,C,g):o==="valueWrite"?this.emit("valueWrite",a,d,m,C):o==="handleRead"?this.emit("handleRead",a,D,g):o==="handleWrite"?this.emit("handleWrite",a,D):o==="handleNotify"&&this.emit("handleNotify",a,D,g)},n.prototype._sendCommand=function(i,o){var a=JSON.stringify(i);this._ws.send(a,function(c){c!=null&&(console.warn("could not send command",i,c),typeof o=="function"&&o(c))})},n.prototype.startScanning=function(i,o){this._startScanCommand={action:"startScanning",serviceUuids:i,allowDuplicates:o},this._sendCommand(this._startScanCommand),this.emit("scanStart")},n.prototype.stopScanning=function(){this._startScanCommand=null,this._sendCommand({action:"stopScanning"}),this.emit("scanStop")},n.prototype.connect=function(i){var o=this._peripherals[i];this._sendCommand({action:"connect",peripheralUuid:o.uuid})},n.prototype.disconnect=function(i){var o=this._peripherals[i];this._sendCommand({action:"disconnect",peripheralUuid:o.uuid})},n.prototype.updateRssi=function(i){var o=this._peripherals[i];this._sendCommand({action:"updateRssi",peripheralUuid:o.uuid})},n.prototype.discoverServices=function(i,o){var a=this._peripherals[i];this._sendCommand({action:"discoverServices",peripheralUuid:a.uuid,uuids:o})},n.prototype.discoverIncludedServices=function(i,o,a){var c=this._peripherals[i];this._sendCommand({action:"discoverIncludedServices",peripheralUuid:c.uuid,serviceUuid:o,serviceUuids:a})},n.prototype.discoverCharacteristics=function(i,o,a){var c=this._peripherals[i];this._sendCommand({action:"discoverCharacteristics",peripheralUuid:c.uuid,serviceUuid:o,characteristicUuids:a})},n.prototype.read=function(i,o,a){var c=this._peripherals[i];this._sendCommand({action:"read",peripheralUuid:c.uuid,serviceUuid:o,characteristicUuid:a})},n.prototype.write=function(i,o,a,c,s){var l=this._peripherals[i];this._sendCommand({action:"write",peripheralUuid:l.uuid,serviceUuid:o,characteristicUuid:a,data:c.toString("hex"),withoutResponse:s})},n.prototype.broadcast=function(i,o,a,c){var s=this._peripherals[i];this._sendCommand({action:"broadcast",peripheralUuid:s.uuid,serviceUuid:o,characteristicUuid:a,broadcast:c})},n.prototype.notify=function(i,o,a,c){var s=this._peripherals[i];this._sendCommand({action:"notify",peripheralUuid:s.uuid,serviceUuid:o,characteristicUuid:a,notify:c})},n.prototype.discoverDescriptors=function(i,o,a){var c=this._peripherals[i];this._sendCommand({action:"discoverDescriptors",peripheralUuid:c.uuid,serviceUuid:o,characteristicUuid:a})},n.prototype.readValue=function(i,o,a,c){var s=this._peripherals[i];this._sendCommand({action:"readValue",peripheralUuid:s.uuid,serviceUuid:o,characteristicUuid:a,descriptorUuid:c})},n.prototype.writeValue=function(i,o,a,c,s){var l=this._peripherals[i];this._sendCommand({action:"writeValue",peripheralUuid:l.uuid,serviceUuid:o,characteristicUuid:a,descriptorUuid:c,data:s.toString("hex")})},n.prototype.readHandle=function(i,o){var a=this._peripherals[i];this._sendCommand({action:"readHandle",peripheralUuid:a.uuid,handle:o})},n.prototype.writeHandle=function(i,o,a,c){var s=this._peripherals[i];this._sendCommand({action:"writeHandle",peripheralUuid:s.uuid,handle:o,data:a.toString("hex"),withoutResponse:c})},bo=new n,bo}var Ew={};function Sw(){return navigator.bluetooth&&!Ew.NOBLE_WEBSOCKET?bw():_w()}var Aw=Sw,Cw=yw,Tw=Aw(),Ow=new Cw(Tw),Rw=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fn,"__esModule",{value:!0});var Pw=It,ur=Rw(Ow),xw=Sr,Iw=function(){function t(e){e===void 0&&(e=t.DEFAULT_TIMEOUT_MS),this.timeoutMs=t.DEFAULT_TIMEOUT_MS,this.eventEmitter=new Pw.EventEmitter,this.timeoutTimer=null,this.timeoutMs=e}return t.prototype.start=function(){var e=this;ur.default.on("stateChange",this.onStateChange.bind(this)),ur.default.on("discover",this.onDiscover.bind(this));var r=[new Promise(this.executor.bind(this))];return this.timeoutMs>0&&r.push(this.createTimeoutPromise(this.timeoutMs)),this.eventEmitter.emit("start"),Promise.race(r).then(function(n){e.stop();var i=Array.isArray(n)?n:[n];return i.forEach(function(o){return e.eventEmitter.emit("discover",o)}),n},function(n){return e.stop(),Promise.reject(n)})},t.prototype.stop=function(){this.timeoutTimer!==null&&clearTimeout(this.timeoutTimer),ur.default.stopScanning(),ur.default.removeListener("stateChange",this.onStateChange),ur.default.removeListener("discover",this.onDiscover),this.eventEmitter.emit("stop")},t.prototype.on=function(e,r){return this.eventEmitter.on(e,r),this},t.prototype.off=function(e,r){return this.eventEmitter.removeListener(e,r),this},t.prototype.onStateChange=function(e){e==="poweredOn"?ur.default.startScanning([xw.Cube.TOIO_SERVICE_ID]):ur.default.stopScanning()},t.prototype.createTimeoutPromise=function(e){var r=this;return new Promise(function(n,i){r.timeoutTimer=setTimeout(i,e)})},t.DEFAULT_TIMEOUT_MS=0,t}();Fn.Scanner=Iw;var Lw=Ge&&Ge.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ca,"__esModule",{value:!0});var Dw=Sr,gc=Fn,$w=function(t){Lw(e,t);function e(r,n){r===void 0&&(r=e.SCAN_WINDOW_MS),n===void 0&&(n=gc.Scanner.DEFAULT_TIMEOUT_MS);var i=t.call(this,n)||this;return i.scanWindowMs=e.SCAN_WINDOW_MS,i.nearestPeripheral=null,i.scanningIntervalTimer=null,i.scanWindowMs=r,i}return e.prototype.stop=function(){t.prototype.stop.call(this),this.scanningIntervalTimer!==null&&clearInterval(this.scanningIntervalTimer)},e.prototype.onDiscover=function(r){(this.nearestPeripheral===null||r.rssi>this.nearestPeripheral.rssi)&&(this.nearestPeripheral=r)},e.prototype.executor=function(r){var n=this;this.scanningIntervalTimer=setInterval(function(){n.nearestPeripheral!==null&&r(new Dw.Cube(n.nearestPeripheral))},this.scanWindowMs)},e.SCAN_WINDOW_MS=1e3,e}(gc.Scanner);ca.NearestScanner=$w;var Na={},Mw=Ge&&Ge.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Na,"__esModule",{value:!0});var kw=Sr,mc=Fn,Fw=function(t){Mw(e,t);function e(r,n){r===void 0&&(r=1),n===void 0&&(n=mc.Scanner.DEFAULT_TIMEOUT_MS);var i=t.call(this,n)||this;return i.peripherals=[],i.numberOfCoreCubes=1,i.scanningIntervalTimer=null,i.numberOfCoreCubes=r,i}return e.prototype.stop=function(){t.prototype.stop.call(this),this.scanningIntervalTimer!==null&&clearInterval(this.scanningIntervalTimer)},e.prototype.onDiscover=function(r){this.peripherals.push(r)},e.prototype.executor=function(r){var n=this;this.scanningIntervalTimer=setInterval(function(){n.peripherals.length<n.numberOfCoreCubes||r(n.peripherals.sort(function(i,o){return o.rssi-i.rssi}).slice(0,n.numberOfCoreCubes).map(function(i){return new kw.Cube(i)}))},e.SCAN_WINDOW_MS)},e.SCAN_WINDOW_MS=1e3,e}(mc.Scanner);Na.NearScanner=Fw;Object.defineProperty(Ii,"__esModule",{value:!0});var Bw=ca,jw=Ii.NearestScanner=Bw.NearestScanner,Nw=Na;Ii.NearScanner=Nw.NearScanner;var Uw=Fn;Ii.Scanner=Uw.Scanner;class Vw extends Sl{constructor(){super(...arguments);Kt(this,"cube",null)}async connect(){if(this.cube)return;console.log("discover");const r=await new jw().start();if(!r)throw new Error("No toio device found");const n=Array.isArray(r)?r[0]:r;this.cube=await n.connect()}async disconnect(){this.cube&&(await this.cube.disconnect(),this.cube=null)}async canMove(r){return console.log(r),!0}async move(r){if(!this.cube){console.warn("Cube is not connected.");return}console.log(`Moving ${r}`),this.cube&&(r==="forward"?this.cube.move(20,20,1e3):r==="backward"?this.cube.move(-20,-20,1e3):r==="left"?this.cube.move(-10,10,800):r==="right"&&this.cube.move(10,-10,800))}async dance(){}async speak(){}}const yc={north:{forward:{x:0,y:-1,orientation:"north"},backward:{x:0,y:1,orientation:"south"},left:{x:-1,y:0,orientation:"west"},right:{x:1,y:0,orientation:"east"}},east:{forward:{x:1,y:0,orientation:"east"},backward:{x:-1,y:0,orientation:"west"},left:{x:0,y:-1,orientation:"north"},right:{x:0,y:1,orientation:"south"}},south:{forward:{x:0,y:1,orientation:"south"},backward:{x:0,y:-1,orientation:"north"},left:{x:1,y:0,orientation:"east"},right:{x:-1,y:0,orientation:"west"}},west:{forward:{x:-1,y:0,orientation:"west"},backward:{x:1,y:0,orientation:"east"},left:{x:0,y:1,orientation:"south"},right:{x:0,y:-1,orientation:"north"}}};var xn,In,Ln;class Gw{constructor(e,r,n){Kt(this,"robot");Kt(this,"map");Kt(this,"mode");Vn(this,xn,Nr("disconnected"));Vn(this,In,Nr(Tt({x:0,y:0})));Vn(this,Ln,Nr("north"));Kt(this,"path");e==="toio"?this.robot=new Vw:e==="microbit"&&(this.robot=new ov),this.map=r,this.mode=n,this.position=r.initialPosition,this.orientation=r.initialOrientation,this.path=0}get connectionState(){return F(cr(this,xn))}set connectionState(e){dt(cr(this,xn),Tt(e))}get position(){return F(cr(this,In))}set position(e){dt(cr(this,In),Tt(e))}get orientation(){return F(cr(this,Ln))}set orientation(e){dt(cr(this,Ln),Tt(e))}async connect(){await this.robot.connect(),this.connectionState="connected"}async disconnect(){await this.robot.disconnect(),this.connectionState="disconnected"}canMove(e){const r=yc[this.orientation][e],n={x:this.position.x+r.x,y:this.position.y+r.y};return n.x<0||n.x>=this.map.matrix[0].length||n.y<0||n.y>=this.map.matrix.length?(console.log("out of bounds"),!1):this.map.matrix[n.y][n.x]===0?(console.log("wall"),!1):!0}move(e){if(!this.canMove(e)){const o=new Audio("/sounds/sem_passagem.wav");ni(o);return}const r=yc[this.orientation][e],n={x:this.position.x+r.x,y:this.position.y+r.y},i=r.orientation;if(this.robot.move(e),this.position=n,this.orientation=i,this.path+=this.map.matrix[n.y][n.x],console.log("PATH: "+this.path),this.reachedTarget()&&this.map.type==="maze"){console.log("target reached");let o;if(console.log("PATH: "+this.path),this.map.targetResult==this.path)o=new Audio("/sounds/lucky.wav"),ni(o);else{o=new Audio("/sounds/not_here");const a=new Audio("/sounds/"+this.map.targetResult+".wav");ni(a)}}else this.robot.dance()}dance(){var e;(e=this.robot)==null||e.dance()}speak(){var e;(e=this.robot)==null||e.speak()}reachedTarget(){return this.position.x===this.map.targetPosition.x&&this.position.y===this.map.targetPosition.y}}xn=new WeakMap,In=new WeakMap,Ln=new WeakMap;function zw(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]);or(t,ct({name:"audio-lines"},()=>r,{iconNode:[["path",{d:"M2 10v3"}],["path",{d:"M6 6v11"}],["path",{d:"M10 3v18"}],["path",{d:"M14 8v7"}],["path",{d:"M18 5v13"}],["path",{d:"M22 10v3"}]],children:(i,o)=>{var a=oe(),c=re(a);Ee(c,e,"default",{},null),z(i,a)},$$slots:{default:!0}}))}function Ww(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]);or(t,ct({name:"bot"},()=>r,{iconNode:[["path",{d:"M12 8V4H8"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}],["path",{d:"M2 14h2"}],["path",{d:"M20 14h2"}],["path",{d:"M15 13v2"}],["path",{d:"M9 13v2"}]],children:(i,o)=>{var a=oe(),c=re(a);Ee(c,e,"default",{},null),z(i,a)},$$slots:{default:!0}}))}function Hw(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]);or(t,ct({name:"chevron-left"},()=>r,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(i,o)=>{var a=oe(),c=re(a);Ee(c,e,"default",{},null),z(i,a)},$$slots:{default:!0}}))}function Kw(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]);or(t,ct({name:"chevron-right"},()=>r,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(i,o)=>{var a=oe(),c=re(a);Ee(c,e,"default",{},null),z(i,a)},$$slots:{default:!0}}))}function qw(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]);or(t,ct({name:"chevron-up"},()=>r,{iconNode:[["path",{d:"m18 15-6-6-6 6"}]],children:(i,o)=>{var a=oe(),c=re(a);Ee(c,e,"default",{},null),z(i,a)},$$slots:{default:!0}}))}function Xw(t,e){const r=ye(e,["children","$$slots","$$events","$$legacy"]);or(t,ct({name:"music"},()=>r,{iconNode:[["path",{d:"M9 18V5l12-2v13"}],["circle",{cx:"6",cy:"18",r:"3"}],["circle",{cx:"18",cy:"16",r:"3"}]],children:(i,o)=>{var a=oe(),c=re(a);Ee(c,e,"default",{},null),z(i,a)},$$slots:{default:!0}}))}var Yw=Be("<!> <!>",1),Jw=Be("<!> <!>",1),Qw=Be("<!> <!>",1),Zw=Be('<div class="text-xl"></div>'),e_=Be('<div class="flex h-8 w-8 items-center justify-center border border-border"><!></div>'),t_=Be('<div class="flex"></div>'),r_=Be('<div class="flex h-full flex-col"><div class="container flex h-16 flex-row items-center justify-between py-4"><div class="flex flex-row items-center gap-x-2"><!> <h1 class="text-xl font-bold">Inclusive Robots</h1></div> <div class="flex flex-row items-center gap-x-2"><!> <!> <!> <!> <!></div></div> <!> <div class="flex flex-1 items-center justify-center"><canvas id="video-canvas" height="480" width="480"></canvas></div> <div class="my-10 flex flex-1 flex-col items-center justify-center gap-y-10"><div class="grid"></div> <div class="grid grid-cols-3 gap-4"><!> <!> <!> <!> <!> <!></div></div></div>');function f_(t,e){Je(e,!0);const r=[{label:"TOIO",value:"toio"},{label:"MICROBIT",value:"microbit"}],n=[{label:"Shared",value:"shared"}],i=[{label:"Training",value:lr.labyrinth_train},{label:"Puzzle 1",value:lr.labyrinth_p1},{label:"Puzzle 2",value:lr.labyrinth_p2},{label:"Puzzle 3",value:lr.labyrinth_p3},{label:"Puzzle 4",value:lr.labyrinth_p4},{label:"Puzzle 5",value:lr.labyrinth_p5},{label:"Puzzle 6",value:lr.labyrinth_p6},{label:"Maze 1",value:Or.maze_p1},{label:"Maze 2",value:Or.maze_p2},{label:"Maze 3",value:Or.maze_p3},{label:"Maze 4",value:Or.maze_p4},{label:"Maze 5",value:Or.maze_p5},{label:"Maze 6",value:Or.maze_p6}];let o=Nr(Tt(r[0])),a=Nr(Tt(i[0])),c=Nr(Tt(n[0])),s=Uu(()=>new Gw(F(o).value,F(a).value,F(c).value)),l,u=[],f=null,h,d,p,v,m,g,b,S,$,C,D,W,G,q,Y,B,A,E;function y(){d=new Audio("/sounds/cartoon_wink.wav"),p=new Audio("/sounds/lucky.wav"),v=new Audio("/sounds/out_sound.wav"),m=new Audio("/sounds/andar_esquerda.wav"),g=new Audio("/sounds/andar_direita.wav"),b=new Audio("/sounds/andar_frente.wav"),S=new Audio("/sounds/andar_tras.wav"),$=new Audio("/sounds/dance_robot.wav"),C=new Audio("/sounds/robot_speak.wav"),D=new Audio("/sounds/sem_passagem.wav"),W=new Audio("/sounds/not_here.wav"),G=new Audio("/sounds/bloco_dancar.mp3"),q=new Audio("/sounds/bloco_direita.mp3"),Y=new Audio("/sounds/bloco_esquerda.mp3"),B=new Audio("/sounds/bloco_falar.mp3"),A=new Audio("/sounds/bloco_frente.mp3"),E=new Audio("/sounds/bloco_tras.mp3")}async function _(K,H){if(console.log("in process"),H.length>K.length)console.log("list is smaller"),v==null||v.play();else if(H.length<K.length){const te=[],ge=H.reduce((me,Pe)=>{const we=Pe.toString();return me[we]=(me[we]||0)+1,me},{});K.forEach(me=>{const Pe=me.toString();ge[Pe]?ge[Pe]--:te.push(me)}),console.log("added "+te);for(let me=0;me<te.length;me++)console.log("going through list"),console.log(n[0]),d==null||d.play(),await R(te[me])}else for(let te=0;te<u.length;te++)console.log("going through list"),console.log(n[0]),d==null||d.play(),await R(u[te])}let T=0;xc(async()=>{navigator.mediaDevices.getUserMedia({audio:!0}),y();const{TopCodes:K}=await pu(async()=>{const{TopCodes:H}=await import("../chunks/topcodes.B_NkvV9t.js");return{TopCodes:H}},[],import.meta.url);l=K,l.setVideoFrameCallback("video-canvas",function(H){const te=Date.now();if(te-T>=900){var ge=JSON.parse(H);const me=ge.topcodes.map(Pe=>Pe.code);if(f&&qp(u,me)){const Pe=u;u=me,f=null,_(u,Pe)}else f=me;T=te}}),l.startStopVideoScan("video-canvas")});async function R(K){switch(K){case 47:h=B;break;case 589:h=G;break;case 31:h=A;break;case 59:h=E;break;case 61:h=q;break;case 79:h=Y;break;case"front":h=b;break;case"backward":h=S;break;case"left":h=m;break;case"right":h=g;break;case"dance":h=$;break;case"speak":h=C;break;case"noway":h=D;break;case"movedme":h=W;break}h&&await ni(h)}async function x(){console.log(u);const K=u;p==null||p.play();for(let H=0;H<K.length+1;H++)K[H]===115||K[H]===47?await R("speak"):K[H]===155||K[H]===589?await R("dance"):K[H]===55||K[H]===31?(F(s).move("forward"),R("front")):K[H]===185||K[H]===59?(R("backward"),F(s).move("backward")):K[H]===205||K[H]===61?(R("right"),F(s).move("right")):(K[H]===285||K[H]===79)&&(R("left"),F(s).move("left"))}async function P(K){K.keyCode==80&&(console.log("Play Button"),x()),K.keyCode==68&&console.log("On Demand Button"),K.keyCode==77&&(console.log("Moved Robot"),await R("movedme")),K.keyCode==85&&r[0].value=="toio"}var k=r_();he("keydown",Nu,af(P));var U=Fe(k),V=Fe(U),w=Fe(V);Ww(w,{class:"mb-px h-8 w-8"}),Cr(2),Le(V);var O=Ne(V,2),I=Fe(O);Ye(I,()=>Qi,(K,H)=>{H(K,{get selected(){return F(o)},set selected(te){dt(o,Tt(te))},children:(te,ge)=>{var me=Yw(),Pe=re(me);Ye(Pe,()=>Ji,(_e,je)=>{je(_e,{class:"w-48",children:(qe,Xe)=>{var Ie=oe(),et=re(Ie);Ye(et,()=>Zi,(ht,ze)=>{ze(ht,{placeholder:"Select a robot"})}),z(qe,Ie)},$$slots:{default:!0}})});var we=Ne(Pe,2);Ye(we,()=>Yi,(_e,je)=>{je(_e,{children:(qe,Xe)=>{var Ie=oe(),et=re(Ie);Lr(et,17,()=>r,Ir,(ht,ze)=>{var Wt=oe(),on=re(Wt);Ye(on,()=>Xi,(an,sn)=>{sn(an,{get value(){return F(ze).value},get label(){return F(ze).label},children:(cn,Ua)=>{Cr();var Ht=fr();$e(()=>Ur(Ht,F(ze).label)),z(cn,Ht)},$$slots:{default:!0}})}),z(ht,Wt)}),z(qe,Ie)},$$slots:{default:!0}})}),z(te,me)},$$slots:{default:!0}})});var X=Ne(I,2);Yt(X,{$$events:{click:()=>F(s).connect()},children:(K,H)=>{Cr();var te=fr("Connect");z(K,te)},$$slots:{default:!0}});var ee=Ne(X,2);Yt(ee,{$$events:{click:()=>F(s).disconnect()},children:(K,H)=>{Cr();var te=fr("Disconnect");z(K,te)},$$slots:{default:!0}});var Z=Ne(ee,2);Ye(Z,()=>Qi,(K,H)=>{H(K,{get selected(){return F(c)},set selected(te){dt(c,Tt(te))},children:(te,ge)=>{var me=Jw(),Pe=re(me);Ye(Pe,()=>Ji,(_e,je)=>{je(_e,{class:"w-48",children:(qe,Xe)=>{var Ie=oe(),et=re(Ie);Ye(et,()=>Zi,(ht,ze)=>{ze(ht,{placeholder:"Select a mode"})}),z(qe,Ie)},$$slots:{default:!0}})});var we=Ne(Pe,2);Ye(we,()=>Yi,(_e,je)=>{je(_e,{children:(qe,Xe)=>{var Ie=oe(),et=re(Ie);Lr(et,17,()=>n,Ir,(ht,ze)=>{var Wt=oe(),on=re(Wt);Ye(on,()=>Xi,(an,sn)=>{sn(an,{get value(){return F(ze).value},get label(){return F(ze).label},children:(cn,Ua)=>{Cr();var Ht=fr();$e(()=>Ur(Ht,F(ze).label)),z(cn,Ht)},$$slots:{default:!0}})}),z(ht,Wt)}),z(qe,Ie)},$$slots:{default:!0}})}),z(te,me)},$$slots:{default:!0}})});var ne=Ne(Z,2);Ye(ne,()=>Qi,(K,H)=>{H(K,{get selected(){return F(a)},set selected(te){dt(a,Tt(te))},children:(te,ge)=>{var me=Qw(),Pe=re(me);Ye(Pe,()=>Ji,(_e,je)=>{je(_e,{class:"w-48",children:(qe,Xe)=>{var Ie=oe(),et=re(Ie);Ye(et,()=>Zi,(ht,ze)=>{ze(ht,{placeholder:"Select a puzzle"})}),z(qe,Ie)},$$slots:{default:!0}})});var we=Ne(Pe,2);Ye(we,()=>Yi,(_e,je)=>{je(_e,{children:(qe,Xe)=>{var Ie=oe(),et=re(Ie);Lr(et,17,()=>i,Ir,(ht,ze)=>{var Wt=oe(),on=re(Wt);Ye(on,()=>Xi,(an,sn)=>{sn(an,{get value(){return F(ze).value},get label(){return F(ze).label},$$events:{click:()=>{}},children:(cn,Ua)=>{Cr();var Ht=fr();$e(()=>Ur(Ht,F(ze).label)),z(cn,Ht)},$$slots:{default:!0}})}),z(ht,Wt)}),z(qe,Ie)},$$slots:{default:!0}})}),z(te,me)},$$slots:{default:!0}})}),Le(O),Le(U);var ae=Ne(U,2);nv(ae,{});var ue=Ne(ae,4),M=Fe(ue);Lr(M,21,()=>F(s).map.matrix,Ir,(K,H,te)=>{var ge=t_();Lr(ge,21,()=>F(H),Ir,(me,Pe,we)=>{var _e=e_(),je=Fe(_e);{var qe=Xe=>{var Ie=Zw();$e(()=>$c(Ie,"style",`transform: rotate(${(F(s).orientation==="north"?"0deg":F(s).orientation==="east"?"90deg":F(s).orientation==="south"?"180deg":"270deg")??""});`)),z(Xe,Ie)};rt(je,Xe=>{F(s).position.x===we&&F(s).position.y===te&&Xe(qe)})}Le(_e),$e(()=>ef(_e,"bg-muted",F(Pe)===0)),z(me,_e)}),Le(ge),z(K,ge)}),Le(M);var j=Ne(M,2),se=Fe(j);Yt(se,{size:"icon",variant:"outline",$$events:{click:()=>F(s).speak()},children:(K,H)=>{zw(K,{class:"h-4 w-4"})},$$slots:{default:!0}});var Te=Ne(se,2);Yt(Te,{size:"icon",variant:"outline",$$events:{click:()=>F(s).move("forward")},children:(K,H)=>{qw(K,{class:"h-4 w-4"})},$$slots:{default:!0}});var Oe=Ne(Te,2);Yt(Oe,{size:"icon",variant:"outline",$$events:{click:()=>F(s).dance()},children:(K,H)=>{Xw(K,{class:"h-4 w-4"})},$$slots:{default:!0}});var ce=Ne(Oe,2);Yt(ce,{size:"icon",variant:"outline",$$events:{click:()=>F(s).move("left")},children:(K,H)=>{Hw(K,{class:"h-4 w-4"})},$$slots:{default:!0}});var Re=Ne(ce,2);Yt(Re,{size:"icon",variant:"outline",$$events:{click:()=>F(s).move("backward")},children:(K,H)=>{El(K,{class:"h-4 w-4"})},$$slots:{default:!0}});var L=Ne(Re,2);Yt(L,{size:"icon",variant:"outline",$$events:{click:()=>F(s).move("right")},children:(K,H)=>{Kw(K,{class:"h-4 w-4"})},$$slots:{default:!0}}),Le(j),Le(ue),Le(k),z(t,k),Qe()}export{f_ as component};
